<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/linux/ffmpeg/A022/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>비디오에서 오디오 추출 - 실험 도서관</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "1. \uae30\ubcf8 \uba85\ub839\uc5b4", url: "#_top", children: [
          ]},
          {title: "2. \uc624\ub514\uc624 \ud3ec\ub9f7 \uc124\uc815", url: "#2", children: [
          ]},
          {title: "3. \uc624\ub514\uc624 \ube44\ud2b8\ub808\uc774\ud2b8 \uc124\uc815", url: "#3", children: [
          ]},
          {title: "4. \ud2b9\uc815 \uc624\ub514\uc624 \ud2b8\ub799 \ucd94\ucd9c", url: "#4", children: [
          ]},
          {title: "5. \ube44\ub514\uc624 \ud30c\uc77c\uc5d0\uc11c \uc624\ub514\uc624 \uc81c\uac70 \ud6c4 \uc800\uc7a5", url: "#5", children: [
          ]},
          {title: "6. \ud2b9\uc815 \uc2dc\uac04 \uad6c\uac04\uc5d0\uc11c \uc624\ub514\uc624 \ucd94\ucd9c", url: "#6", children: [
          ]},
          {title: "7. \uc5ec\ub7ec \ud30c\uc77c\uc5d0\uc11c \uc624\ub514\uc624 \ucd94\ucd9c", url: "#7", children: [
              {title: "Bash \uc2a4\ud06c\ub9bd\ud2b8 \uc608\uc2dc (Linux/MacOS)", url: "#bash-linuxmacos" },
          ]},
          {title: "8. \uc5ec\ub7ec \ud2b8\ub799\uc758 \uc624\ub514\uc624 \ucd94\ucd9c", url: "#8", children: [
          ]},
          {title: "9. \uc5ec\ub7ec \uc624\ub514\uc624 \uc2a4\ud2b8\ub9bc\uc744 \ud558\ub098\uc758 \ud30c\uc77c\ub85c \ubcd1\ud569", url: "#9", children: [
          ]},
          {title: "10. \uc624\ub514\uc624 \ud2b8\ub799 \uac04 \ub3d9\uae30\ud654 \ubb38\uc81c \ud574\uacb0", url: "#10", children: [
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A023/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A023/" class="btn btn-xs btn-link">
        오디오에서 비디오 추출
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A021/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A021/" class="btn btn-xs btn-link">
        파일 길이 조정
      </a>
    </div>
    
  </div>

    

    <p>비디오 파일에서 오디오를 추출하는 과정은 매우 간단하지만, 다양한 옵션을 제공하여 여러 상황에 맞게 설정할 수 있다. FFMPEG을 활용하여 비디오에서 오디오를 추출하는 방법을 단계별로 설명하겠다.</p>
<h3 id="1">1. 기본 명령어</h3>
<p>비디오 파일에서 오디오를 추출하는 가장 기본적인 명령어는 다음과 같다.</p>
<pre><code>ffmpeg -i input_video.mp4 -q:a 0 -map a output_audio.mp3
</code></pre>
<p>이 명령어는 다음과 같은 작업을 수행한다:</p>
<ul>
<li><code>-i input_video.mp4</code>: 입력 비디오 파일을 지정한다.</li>
<li><code>-q:a 0</code>: 오디오 품질을 최대화한다.</li>
<li><code>-map a</code>: 오디오 스트림만 추출한다.</li>
<li><code>output_audio.mp3</code>: 추출된 오디오 파일을 mp3 형식으로 저장한다.</li>
</ul>
<h3 id="2">2. 오디오 포맷 설정</h3>
<p>오디오 포맷은 추출 시 자유롭게 선택할 수 있으며, 파일 확장자에 따라 FFMPEG이 자동으로 인식한다. 예를 들어, 추출한 오디오를 <code>.wav</code>로 저장하고 싶다면 다음과 같이 명령어를 변경할 수 있다.</p>
<pre><code>ffmpeg -i input_video.mp4 -q:a 0 -map a output_audio.wav
</code></pre>
<p>여기서 <code>.wav</code> 확장자를 사용함으로써 무손실 오디오 파일로 추출할 수 있다.</p>
<h3 id="3">3. 오디오 비트레이트 설정</h3>
<p>오디오 비트레이트는 오디오 파일의 품질과 크기에 영향을 미치는 중요한 요소이다. 비트레이트를 지정하여 오디오 파일의 품질을 조정할 수 있다. 예를 들어, 128 kbps로 비트레이트를 설정하려면 다음과 같이 명령어를 입력한다.</p>
<pre><code>ffmpeg -i input_video.mp4 -b:a 128k -map a output_audio.mp3
</code></pre>
<ul>
<li><code>-b:a 128k</code>: 오디오 비트레이트를 128 kbps로 설정한다.</li>
</ul>
<p>이 옵션은 추출된 오디오의 크기와 품질에 직접적인 영향을 미친다.</p>
<h3 id="4">4. 특정 오디오 트랙 추출</h3>
<p>비디오 파일에 여러 오디오 트랙이 포함된 경우, 특정 트랙을 선택하여 추출할 수 있다. <code>-map</code> 옵션을 활용하여 원하는 트랙만 추출하는 방법은 다음과 같다.</p>
<pre><code>ffmpeg -i input_video.mkv -map 0:a:1 output_audio.mp3
</code></pre>
<ul>
<li><code>-map 0:a:1</code>: 두 번째 오디오 트랙을 추출한다. 여기서 <code>0</code>은 파일을 나타내고, <code>a</code>는 오디오 트랙을, <code>1</code>은 두 번째 트랙을 의미한다.</li>
</ul>
<h3 id="5">5. 비디오 파일에서 오디오 제거 후 저장</h3>
<p>비디오에서 오디오를 추출한 후, 원본 비디오에서 오디오를 제거한 상태로 비디오 파일을 다시 저장할 수 있다. 다음 명령어를 사용한다.</p>
<pre><code>ffmpeg -i input_video.mp4 -an -c:v copy output_video.mp4
</code></pre>
<ul>
<li><code>-an</code>: 비디오 파일에서 오디오를 제거한다.</li>
<li><code>-c:v copy</code>: 비디오 코덱을 재인코딩하지 않고 원본 비디오를 그대로 복사한다.</li>
</ul>
<h3 id="6">6. 특정 시간 구간에서 오디오 추출</h3>
<p>비디오 파일에서 특정 시간 구간의 오디오만 추출할 수도 있다. 이를 위해 <code>-ss</code>와 <code>-to</code> 또는 <code>-t</code> 옵션을 사용하여 시작과 끝 시간을 설정할 수 있다.</p>
<p>예를 들어, 00:01:00부터 00:02:00까지의 오디오만 추출하려면 다음과 같이 명령어를 입력한다.</p>
<pre><code>ffmpeg -i input_video.mp4 -ss 00:01:00 -to 00:02:00 -q:a 0 -map a output_audio.mp3
</code></pre>
<ul>
<li><code>-ss 00:01:00</code>: 추출할 시작 시간을 00:01:00으로 설정한다.</li>
<li><code>-to 00:02:00</code>: 종료 시간을 00:02:00으로 설정한다.</li>
</ul>
<p>또는, 종료 시간을 지정하지 않고, 시작 시간에서부터 1분간의 오디오만 추출하려면 <code>-t</code> 옵션을 사용한다.</p>
<pre><code>ffmpeg -i input_video.mp4 -ss 00:01:00 -t 00:01:00 -q:a 0 -map a output_audio.mp3
</code></pre>
<ul>
<li><code>-t 00:01:00</code>: 시작 시간에서 1분간 추출한다.</li>
</ul>
<h3 id="7">7. 여러 파일에서 오디오 추출</h3>
<p>여러 비디오 파일에서 오디오를 한 번에 추출할 수 있다. 이는 배치 처리를 통해 가능하며, 스크립트를 작성하여 다수의 파일을 처리하는 방식으로 진행된다.</p>
<p>예를 들어, 모든 <code>.mp4</code> 파일에서 오디오를 추출하려면 다음과 같은 스크립트를 사용할 수 있다.</p>
<h4 id="bash-linuxmacos">Bash 스크립트 예시 (Linux/MacOS)</h4>
<pre><code class="language-bash">for file in *.mp4; do
  ffmpeg -i &quot;$file&quot; -q:a 0 -map a &quot;${file%.mp4}.mp3&quot;
done
</code></pre>
<ul>
<li><code>*.mp4</code>: 현재 디렉토리의 모든 <code>.mp4</code> 파일을 대상으로 처리한다.</li>
<li><code>${file%.mp4}</code>: 파일명에서 확장자 <code>.mp4</code>를 제거하고, 그 뒤에 <code>.mp3</code> 확장자를 추가하여 저장한다.</li>
</ul>
<h3 id="8">8. 여러 트랙의 오디오 추출</h3>
<p>비디오 파일에 여러 오디오 트랙이 포함된 경우, 각 트랙을 따로 추출할 수 있다. 아래는 두 개의 오디오 트랙이 포함된 비디오 파일에서 두 트랙을 각각 추출하는 예시이다.</p>
<pre><code>ffmpeg -i input_video.mkv -map 0:a:0 output_audio1.mp3 -map 0:a:1 output_audio2.mp3
</code></pre>
<ul>
<li><code>-map 0:a:0</code>: 첫 번째 오디오 트랙을 추출한다.</li>
<li><code>-map 0:a:1</code>: 두 번째 오디오 트랙을 추출한다.</li>
</ul>
<p>이와 같이 각 트랙을 원하는 파일로 저장할 수 있다.</p>
<h3 id="9">9. 여러 오디오 스트림을 하나의 파일로 병합</h3>
<p>여러 개의 오디오 스트림을 하나의 파일로 병합할 수도 있다. 예를 들어, 두 개의 비디오 파일에서 각각 오디오를 추출한 뒤 하나의 파일로 병합하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code>ffmpeg -i input_audio1.mp3 -i input_audio2.mp3 -filter_complex &quot;[0:a][1:a]concat=n=2:v=0:a=1[out]&quot; -map &quot;[out]&quot; output_audio.mp3
</code></pre>
<ul>
<li><code>-filter_complex "[0:a][1:a]concat=n=2:v=0:a=1[out]"</code>: 두 오디오 스트림을 병합한다. <code>n=2</code>는 두 개의 입력 파일을 병합한다는 의미이다.</li>
</ul>
<h3 id="10">10. 오디오 트랙 간 동기화 문제 해결</h3>
<p>비디오 파일에서 여러 개의 오디오 트랙을 추출할 때, 각 트랙 간의 동기화 문제가 발생할 수 있다. 이를 해결하기 위해 <code>-itsoffset</code> 옵션을 사용하여 시간 오프셋을 적용할 수 있다.</p>
<p>예를 들어, 두 번째 트랙에 1초의 시간차를 적용하려면 다음과 같이 명령어를 작성한다.</p>
<pre><code>ffmpeg -i input_video.mkv -map 0:a:0 output_audio1.mp3 -itsoffset 00:00:01 -map 0:a:1 output_audio2.mp3
</code></pre>
<ul>
<li><code>-itsoffset 00:00:01</code>: 두 번째 오디오 트랙에 1초의 시간 오프셋을 적용한다.</li>
</ul>
<p>이를 통해 두 트랙 간의 동기화 문제를 해결할 수 있다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A023/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A023/" class="btn btn-xs btn-link">
        오디오에서 비디오 추출
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A021/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A021/" class="btn btn-xs btn-link">
        파일 길이 조정
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>