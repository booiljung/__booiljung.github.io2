<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/linux/ffmpeg/A039/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>비디오 화면 비율 조정 - 소프트웨어 융합</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "1. \ud654\uba74 \ube44\uc728 \uc815\uc758", url: "#_top", children: [
          ]},
          {title: "2. \uc77c\ubc18\uc801\uc778 \ud654\uba74 \ube44\uc728", url: "#2", children: [
          ]},
          {title: "3. FFmpeg\uc5d0\uc11c \ud654\uba74 \ube44\uc728 \uc870\uc815", url: "#3-ffmpeg", children: [
              {title: "3.1 \uae30\ubcf8 \uba85\ub839\uc5b4 \uad6c\uc870", url: "#31" },
              {title: "3.2 \ube44\ub514\uc624 \ud544\ud130 \uc0ac\uc6a9", url: "#32" },
          ]},
          {title: "4. \ud654\uba74 \ube44\uc728\uacfc \ud574\uc0c1\ub3c4", url: "#4", children: [
          ]},
          {title: "5. \ud654\uba74 \ube44\uc728\uacfc \ud328\ub529(padding)", url: "#5-padding", children: [
              {title: "5.1 \ud328\ub529\uc744 \uc0ac\uc6a9\ud55c FFmpeg \uba85\ub839\uc5b4", url: "#51-ffmpeg" },
              {title: "5.2 \uc218\uc2dd\uc73c\ub85c \ud45c\ud604\ud55c \ud328\ub529", url: "#52" },
          ]},
          {title: "6. FFmpeg\ub85c \uc790\ub3d9 \ud654\uba74 \ube44\uc728 \uc870\uc815", url: "#6-ffmpeg", children: [
              {title: "6.1 \uc790\ub3d9 \uc870\uc815 \uba85\ub839\uc5b4", url: "#61" },
              {title: "6.2 \ube44\uc728 \uc790\ub3d9 \uac10\uc9c0\uc640 \uc870\uc815", url: "#62" },
          ]},
          {title: "7. \ube44\uc728 \uc870\uc815 \uc2dc \uace0\ub824\ud574\uc57c \ud560 \uc0ac\ud56d", url: "#7", children: [
          ]},
          {title: "8. \ube44\ub514\uc624 \ud654\uba74 \ube44\uc728 \uc870\uc815 \uc608\uc2dc", url: "#8", children: [
              {title: "8.1 4:3 \ube44\uc728\uc5d0\uc11c 16:9 \ube44\uc728\ub85c \ubcc0\ud658", url: "#81-43-169" },
              {title: "8.2 21:9 \ube44\uc728\uc5d0\uc11c 16:9 \ube44\uc728\ub85c \ubcc0\ud658", url: "#82-219-169" },
          ]},
          {title: "9. \uace0\uae09 \ud544\ud130\ub9c1\uc744 \uc774\uc6a9\ud55c \ube44\uc728 \uc870\uc815", url: "#9", children: [
              {title: "9.1 Sample Aspect Ratio(SAR)", url: "#91-sample-aspect-ratiosar" },
              {title: "9.2 Display Aspect Ratio(DAR)", url: "#92-display-aspect-ratiodar" },
              {title: "9.3 SAR\uacfc DAR \uc870\ud569", url: "#93-sar-dar" },
          ]},
          {title: "10. \ube44\ub514\uc624\uc758 \ud654\uba74 \ube44\uc728 \uc720\uc9c0", url: "#10", children: [
              {title: "10.1 FFmpeg \ud654\uba74 \ube44\uc728 \uc720\uc9c0 \uba85\ub839\uc5b4", url: "#101-ffmpeg" },
          ]},
          {title: "11. \ube44\uc728 \uc720\uc9c0\uc640 \ub9ac\uc0d8\ud50c\ub9c1", url: "#11", children: [
              {title: "11.1 \ub9ac\uc0d8\ud50c\ub9c1 \ud544\ud130 \uc801\uc6a9", url: "#111" },
              {title: "11.2 \ub9ac\uc0d8\ud50c\ub9c1 \ud488\uc9c8 \ube44\uad50", url: "#112" },
          ]},
          {title: "12. \ub3d9\uc801 \ube44\uc728 \uc870\uc815", url: "#12", children: [
              {title: "12.1 \uc2dc\uac04 \uae30\ubc18 \ud544\ud130 \uc0ac\uc6a9 \uc608\uc2dc", url: "#121" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A040/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A040/" class="btn btn-xs btn-link">
        오디오 채널 변환
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A038/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A038/" class="btn btn-xs btn-link">
        비디오 회전 및 뒤집기
      </a>
    </div>
    
  </div>

    

    <h3 id="1">1. 화면 비율 정의</h3>
<p>비디오 화면 비율(aspect ratio)은 비디오의 가로 길이(width)와 세로 길이(height)의 비율을 나타낸다. 일반적으로 다음과 같이 정의된다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\text{Aspect Ratio} = \frac{\text{Width}}{\text{Height}}
</div>
<script type="math/tex; mode=display">
\text{Aspect Ratio} = \frac{\text{Width}}{\text{Height}}
</script>
</div>
<p>이때 가로와 세로의 단위는 픽셀(px)로 측정된다.</p>
<h3 id="2">2. 일반적인 화면 비율</h3>
<p>비디오에서 가장 많이 사용되는 화면 비율은 다음과 같다:</p>
<ul>
<li><strong>4:3</strong>: 옛날 텔레비전 및 일부 컴퓨터 모니터에서 사용.</li>
<li><strong>16:9</strong>: 현대의 텔레비전 및 대부분의 HD 동영상에서 사용.</li>
<li><strong>21:9</strong>: 영화나 울트라와이드 모니터에 적합한 비율.</li>
</ul>
<p>이 비율은 영상 콘텐츠의 표현 방식에 큰 영향을 미치며, 각 비율마다 고유한 시청 경험을 제공한다.</p>
<h3 id="3-ffmpeg">3. FFmpeg에서 화면 비율 조정</h3>
<p>FFmpeg에서 비디오의 화면 비율을 조정할 수 있는 방법에는 몇 가지가 있다. <code>-aspect</code> 옵션을 사용하여 출력 파일의 화면 비율을 설정하거나, 비디오 필터를 사용하여 화면 비율을 변경할 수 있다.</p>
<h4 id="31">3.1 기본 명령어 구조</h4>
<p>기본적으로 FFmpeg에서 화면 비율을 조정하는 명령어는 다음과 같다:</p>
<pre><code>ffmpeg -i input.mp4 -aspect 16:9 output.mp4
</code></pre>
<p>이 명령어는 입력 파일 <code>input.mp4</code>의 화면 비율을 16:9로 조정하여 <code>output.mp4</code>로 저장한다.</p>
<h4 id="32">3.2 비디오 필터 사용</h4>
<p>비디오 필터를 이용하여 화면 비율을 더 정밀하게 조정할 수 있다. <code>scale</code> 필터를 사용하면 특정 해상도를 설정하면서 화면 비율도 동시에 맞출 수 있다. 예를 들어, 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;scale=1280:720,setdar=16/9&quot; output.mp4
</code></pre>
<p>위 명령어는 비디오의 해상도를 1280x720으로 조정하고, 화면 비율을 16:9로 설정한다.</p>
<h3 id="4">4. 화면 비율과 해상도</h3>
<p>화면 비율을 조정하는 데 있어 중요한 것은 해상도이다. 해상도는 비디오의 실제 픽셀 수를 나타내며, 해상도에 따라 화면 비율이 달라질 수 있다. 일반적으로, 해상도와 화면 비율은 다음과 같은 관계를 가진다:</p>
<ul>
<li>1280x720: <span class="arithmatex"><span class="MathJax_Preview">16:9</span><script type="math/tex">16:9</script></span></li>
<li>1920x1080: <span class="arithmatex"><span class="MathJax_Preview">16:9</span><script type="math/tex">16:9</script></span></li>
<li>1024x768: <span class="arithmatex"><span class="MathJax_Preview">4:3</span><script type="math/tex">4:3</script></span></li>
</ul>
<p>화면 비율과 해상도는 다음과 같은 관계로 표현된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{Resolution} = \begin{bmatrix} \text{Width} \\ \text{Height} \end{bmatrix}
</div>
<script type="math/tex; mode=display">
\mathbf{Resolution} = \begin{bmatrix} \text{Width} \\ \text{Height} \end{bmatrix}
</script>
</div>
<div class="arithmatex">
<div class="MathJax_Preview">
\text{Aspect Ratio} = \frac{\mathbf{Width}}{\mathbf{Height}}
</div>
<script type="math/tex; mode=display">
\text{Aspect Ratio} = \frac{\mathbf{Width}}{\mathbf{Height}}
</script>
</div>
<p>즉, 해상도를 바꾸지 않고 화면 비율만 변경하려면 비디오의 픽셀을 늘리거나 줄여야 한다.</p>
<h3 id="5-padding">5. 화면 비율과 패딩(padding)</h3>
<p>화면 비율을 조정할 때 해상도를 변경하지 않고 비율만 맞추려면, 화면에 빈 공간을 추가하는 방법을 사용할 수 있다. 이를 <strong>패딩(padding)</strong>이라고 하며, 이 방법을 사용하면 화면 비율이 맞지 않는 부분에 검은색 테두리를 추가하여 영상의 왜곡을 방지할 수 있다.</p>
<h4 id="51-ffmpeg">5.1 패딩을 사용한 FFmpeg 명령어</h4>
<p>FFmpeg에서 패딩을 추가하여 화면 비율을 맞추는 방법은 <code>pad</code> 필터를 사용하는 것이다. 예를 들어, 4:3 비율의 영상을 16:9 비율로 변환하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;scale=ih*16/9:ih,pad=iw:(ow/16)*9&quot; output.mp4
</code></pre>
<p>이 명령어는 입력 영상의 높이(ih)를 기준으로 16:9 비율로 변환하고, 나머지 공간을 패딩으로 채운다.</p>
<h4 id="52">5.2 수식으로 표현한 패딩</h4>
<p>패딩을 추가하여 화면 비율을 조정할 때의 계산식은 다음과 같다. 원본 영상의 해상도를 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{Resolution}_{\text{original}}</span><script type="math/tex">\mathbf{Resolution}_{\text{original}}</script></span>이라 하고, 새로운 비율을 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{AspectRatio}_{\text{new}}</span><script type="math/tex">\mathbf{AspectRatio}_{\text{new}}</script></span>로 설정했을 때, 패딩을 추가하는 식은 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{Padding} = \begin{bmatrix} \mathbf{Padding}_{\text{left/right}} \\ \mathbf{Padding}_{\text{top/bottom}} \end{bmatrix}
</div>
<script type="math/tex; mode=display">
\mathbf{Padding} = \begin{bmatrix} \mathbf{Padding}_{\text{left/right}} \\ \mathbf{Padding}_{\text{top/bottom}} \end{bmatrix}
</script>
</div>
<p>여기서, 새로운 비율에 맞추기 위해 추가되는 패딩의 크기는 영상의 가로 또는 세로 길이에 따라 달라진다. 패딩의 크기는 다음과 같이 구할 수 있다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{Padding}_{\text{left/right}} = \frac{\mathbf{Width}_{\text{new}} - \mathbf{Width}_{\text{original}}}{2}
</div>
<script type="math/tex; mode=display">
\mathbf{Padding}_{\text{left/right}} = \frac{\mathbf{Width}_{\text{new}} - \mathbf{Width}_{\text{original}}}{2}
</script>
</div>
<p>또는</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{Padding}_{\text{top/bottom}} = \frac{\mathbf{Height}_{\text{new}} - \mathbf{Height}_{\text{original}}}{2}
</div>
<script type="math/tex; mode=display">
\mathbf{Padding}_{\text{top/bottom}} = \frac{\mathbf{Height}_{\text{new}} - \mathbf{Height}_{\text{original}}}{2}
</script>
</div>
<p>이 수식에 따라 빈 공간을 채워 비율을 맞춘다.</p>
<h3 id="6-ffmpeg">6. FFmpeg로 자동 화면 비율 조정</h3>
<p>FFmpeg는 원본 영상의 비율을 자동으로 인식하고, 원하는 비율로 조정하는 옵션도 제공한다. 이를 사용하면 영상의 해상도는 유지하되, 비율에 맞추어 출력할 수 있다.</p>
<h4 id="61">6.1 자동 조정 명령어</h4>
<p>FFmpeg에서 자동으로 화면 비율을 맞추려면 <code>setdar</code> 필터를 사용한다. 예를 들어, 16:9 비율로 자동 조정하려면 다음과 같은 명령어를 사용한다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;setdar=16/9&quot; output.mp4
</code></pre>
<p>이 명령어는 비디오의 해상도에 관계없이 화면 비율을 16:9로 조정한다.</p>
<h4 id="62">6.2 비율 자동 감지와 조정</h4>
<p>FFmpeg는 입력 파일의 <strong>DAR(Display Aspect Ratio)</strong>와 <strong>SAR(Sample Aspect Ratio)</strong>를 기반으로 자동으로 비율을 계산한다. 만약 사용자가 명시적으로 <code>-aspect</code>나 <code>setdar</code> 옵션을 제공하지 않는다면, FFmpeg는 영상의 해상도 정보를 사용하여 비율을 결정한다.</p>
<h3 id="7">7. 비율 조정 시 고려해야 할 사항</h3>
<p>비디오의 화면 비율을 조정할 때 몇 가지 주의해야 할 사항이 있다. 그중 하나는 영상의 왜곡을 방지하는 것이다. 잘못된 비율로 조정할 경우, 영상의 객체가 늘어나거나 줄어드는 왜곡이 발생할 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{Distortion} = \frac{\mathbf{AspectRatio}_{\text{new}}}{\mathbf{AspectRatio}_{\text{original}}}
</div>
<script type="math/tex; mode=display">
\mathbf{Distortion} = \frac{\mathbf{AspectRatio}_{\text{new}}}{\mathbf{AspectRatio}_{\text{original}}}
</script>
</div>
<p>비율을 조정할 때는 이 왜곡을 최소화하거나 아예 발생하지 않도록 해야 한다.</p>
<h3 id="8">8. 비디오 화면 비율 조정 예시</h3>
<p>비디오의 화면 비율을 조정하는 예시를 통해 구체적인 방법을 살펴보자. 여기서는 다양한 비율의 비디오를 16:9 비율로 변환하는 과정을 예시로 설명한다.</p>
<h4 id="81-43-169">8.1 4:3 비율에서 16:9 비율로 변환</h4>
<p>만약 4:3 비율의 비디오를 16:9 비율로 변환하려면, 비율 차이를 해결하기 위해 영상의 가로 길이를 늘리거나, 세로 길이를 줄여야 한다. 해상도가 1024x768인 4:3 비디오를 1280x720의 16:9 비율로 변환한다고 가정하자.</p>
<h5 id="811">8.1.1 해상도 변환 계산</h5>
<p>원본 해상도와 목표 해상도의 비율 차이를 계산하면 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{AspectRatio}_{\text{original}} = \frac{1024}{768} = 1.33
</div>
<script type="math/tex; mode=display">
\mathbf{AspectRatio}_{\text{original}} = \frac{1024}{768} = 1.33
</script>
</div>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{AspectRatio}_{\text{target}} = \frac{1280}{720} = 1.78
</div>
<script type="math/tex; mode=display">
\mathbf{AspectRatio}_{\text{target}} = \frac{1280}{720} = 1.78
</script>
</div>
<p>여기서 원본 비율과 목표 비율이 다르므로, 영상의 가로 또는 세로 길이를 조정해야 한다. 비율 차이를 맞추기 위해 <code>scale</code> 필터를 사용하여 다음과 같은 명령어를 적용할 수 있다:</p>
<pre><code>ffmpeg -i input_4_3.mp4 -vf &quot;scale=1280:720&quot; output_16_9.mp4
</code></pre>
<p>이 명령어는 비디오의 가로와 세로 길이를 1280x720으로 맞추어, 비율 차이를 해결한다.</p>
<h5 id="812">8.1.2 패딩을 이용한 비율 변환</h5>
<p>해상도를 변경하지 않고 비율만 맞추려면 패딩을 추가하여 여백을 넣을 수 있다. 이를 위해 <code>pad</code> 필터를 적용한다. 예를 들어, 아래 명령어는 가로 길이를 유지하면서 상하 여백을 추가하여 16:9 비율을 맞춘다:</p>
<pre><code>ffmpeg -i input_4_3.mp4 -vf &quot;pad=1280:960:0:(ow-ih)/2&quot; output_16_9_padded.mp4
</code></pre>
<p>여기서 <code>pad</code> 필터는 해상도 1280x960으로 가로 길이를 늘리고, 세로에 여백을 추가하여 비율을 맞춘다.</p>
<h4 id="82-219-169">8.2 21:9 비율에서 16:9 비율로 변환</h4>
<p>21:9 비율의 영상을 16:9 비율로 변환하는 경우, 주로 가로 길이를 줄여서 비율을 맞추게 된다. 예를 들어, 2560x1080 해상도의 21:9 비디오를 1920x1080 해상도의 16:9 비디오로 변환한다고 가정하자.</p>
<h5 id="821">8.2.1 해상도 변환 계산</h5>
<p>원본 비율과 목표 비율을 계산하면 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{AspectRatio}_{\text{original}} = \frac{2560}{1080} = 2.37
</div>
<script type="math/tex; mode=display">
\mathbf{AspectRatio}_{\text{original}} = \frac{2560}{1080} = 2.37
</script>
</div>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{AspectRatio}_{\text{target}} = \frac{1920}{1080} = 1.78
</div>
<script type="math/tex; mode=display">
\mathbf{AspectRatio}_{\text{target}} = \frac{1920}{1080} = 1.78
</script>
</div>
<p>원본 비율이 2.37인 21:9 비율을 1.78의 16:9 비율로 변환하려면, 가로 길이를 줄여야 한다. 이때 <code>crop</code> 필터를 사용하여 다음 명령어를 사용할 수 있다:</p>
<pre><code>ffmpeg -i input_21_9.mp4 -vf &quot;crop=1920:1080&quot; output_16_9.mp4
</code></pre>
<p>이 명령어는 가로 길이를 줄여서 1920x1080 해상도로 비율을 맞춘다.</p>
<h5 id="822">8.2.2 패딩을 이용한 비율 변환</h5>
<p>마찬가지로, 패딩을 추가하여 비율을 맞출 수도 있다. 패딩을 추가하여 16:9 비율을 맞추는 명령어는 다음과 같다:</p>
<pre><code>ffmpeg -i input_21_9.mp4 -vf &quot;pad=1920:1080:(ow-iw)/2:0&quot; output_16_9_padded.mp4
</code></pre>
<p>이 명령어는 패딩을 추가하여 가로 길이를 유지하고, 여백을 채워 16:9 비율로 조정한다.</p>
<h3 id="9">9. 고급 필터링을 이용한 비율 조정</h3>
<p>FFmpeg는 기본적인 비율 조정 외에도 다양한 필터를 제공하여 비율을 보다 정밀하게 조정할 수 있다. <code>scale</code>, <code>crop</code>, <code>pad</code> 필터 이외에도 <code>setsar</code>(Sample Aspect Ratio)와 <code>setdar</code>(Display Aspect Ratio)를 조합하여 원하는 비율을 세밀하게 제어할 수 있다.</p>
<h4 id="91-sample-aspect-ratiosar">9.1 Sample Aspect Ratio(SAR)</h4>
<p>SAR은 샘플 비율을 나타내며, 픽셀의 비율을 조정하는 데 사용된다. 이를 통해 비디오가 화면에 표시되는 방식에 영향을 미칠 수 있다. 예를 들어, SAR을 조정하여 비디오의 픽셀을 늘리거나 줄일 수 있다.</p>
<p>FFmpeg에서 SAR을 설정하는 명령어는 다음과 같다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;setsar=1/1&quot; output.mp4
</code></pre>
<p>이 명령어는 비디오의 샘플 비율을 1:1로 설정한다.</p>
<h4 id="92-display-aspect-ratiodar">9.2 Display Aspect Ratio(DAR)</h4>
<p>DAR은 비디오가 출력 장치에 표시될 때의 화면 비율을 나타낸다. DAR을 조정함으로써 비디오의 가로 세로 비율을 맞출 수 있으며, SAR과 함께 사용되어 화면 비율을 제어할 수 있다.</p>
<p>FFmpeg에서 DAR을 설정하는 명령어는 다음과 같다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;setdar=16/9&quot; output.mp4
</code></pre>
<p>이 명령어는 비디오의 출력 화면 비율을 16:9로 설정한다. SAR과 DAR의 조합은 매우 유용하며, 서로 다른 해상도의 디스플레이 장치에서도 비디오의 일관된 화면 비율을 유지할 수 있게 한다.</p>
<h4 id="93-sar-dar">9.3 SAR과 DAR 조합</h4>
<p>SAR과 DAR은 각각 픽셀의 비율과 출력 장치의 화면 비율을 정의하며, 다음 수식으로 비율 간의 관계를 표현할 수 있다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{DAR} = \mathbf{SAR} \times \frac{\mathbf{Width}}{\mathbf{Height}}
</div>
<script type="math/tex; mode=display">
\mathbf{DAR} = \mathbf{SAR} \times \frac{\mathbf{Width}}{\mathbf{Height}}
</script>
</div>
<p>이 수식을 이용해 SAR과 DAR을 조정하여 원하는 비율을 얻을 수 있다. 예를 들어, SAR이 1.5이고 해상도가 1280x720인 경우, DAR은 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{DAR} = 1.5 \times \frac{1280}{720} = 2.67
</div>
<script type="math/tex; mode=display">
\mathbf{DAR} = 1.5 \times \frac{1280}{720} = 2.67
</script>
</div>
<p>따라서, DAR을 원하는 16:9 비율로 맞추려면 SAR을 조정해야 한다. FFmpeg 명령어로 이를 설정할 수 있다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;setsar=1/1,setdar=16/9&quot; output.mp4
</code></pre>
<p>이 명령어는 SAR을 1:1로 설정하고, DAR을 16:9로 설정하여 비율을 맞춘다.</p>
<h3 id="10">10. 비디오의 화면 비율 유지</h3>
<p>비디오 편집에서 화면 비율을 조정할 때 가장 중요한 점은 원본 비디오의 비율을 유지하면서 출력하려는 비율에 맞추는 것이다. 비율을 잘못 설정하면 영상이 왜곡되거나 의도한 결과를 얻지 못할 수 있다. 따라서 FFmpeg에서 제공하는 다양한 옵션과 필터를 활용해 최적의 비율을 유지하는 것이 중요하다.</p>
<h4 id="101-ffmpeg">10.1 FFmpeg 화면 비율 유지 명령어</h4>
<p>다음은 원본 비율을 유지하면서 새로운 해상도로 비율을 맞추는 FFmpeg 명령어 예시이다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;scale=1280:-1&quot; output.mp4
</code></pre>
<p>이 명령어에서 <code>-1</code>은 FFmpeg가 자동으로 적절한 세로 해상도를 계산하여 비율을 유지하도록 한다. 가로 해상도를 1280으로 설정한 후, FFmpeg는 비율을 자동으로 조정하여 영상이 왜곡되지 않도록 한다.</p>
<h3 id="11">11. 비율 유지와 리샘플링</h3>
<p>비율을 유지하면서 해상도를 변경할 때는 <strong>리샘플링(resampling)</strong>을 고려해야 한다. 리샘플링은 영상의 품질에 영향을 미치는 중요한 요소로, 비율을 유지하면서 픽셀을 재배치하여 영상을 조정한다. FFmpeg는 다양한 리샘플링 방법을 제공하며, 그중 <code>lanczos</code>, <code>bilinear</code>, <code>bicubic</code> 등이 많이 사용된다.</p>
<h4 id="111">11.1 리샘플링 필터 적용</h4>
<p>FFmpeg에서 리샘플링 필터를 사용하는 명령어는 다음과 같다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;scale=1280:-1:flags=lanczos&quot; output.mp4
</code></pre>
<p>이 명령어는 <code>lanczos</code> 필터를 사용하여 비디오를 1280 픽셀의 가로 길이에 맞춰 리샘플링하고, 비율을 유지한다.</p>
<h4 id="112">11.2 리샘플링 품질 비교</h4>
<p>리샘플링 방법에 따라 비디오 품질이 달라지므로, 다음의 수식을 통해 각 필터의 차이를 설명할 수 있다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{Quality} = \sum_{i=1}^{n} \left( \frac{1}{\mathbf{Filter_{Type}}(i)} \right)
</div>
<script type="math/tex; mode=display">
\mathbf{Quality} = \sum_{i=1}^{n} \left( \frac{1}{\mathbf{Filter_{Type}}(i)} \right)
</script>
</div>
<p>여기서, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{Filter_{Type}}</span><script type="math/tex">\mathbf{Filter_{Type}}</script></span>은 사용된 리샘플링 필터의 유형을 나타내며, 필터에 따라 품질이 달라진다. 일반적으로 <code>lanczos</code> 필터는 고품질 리샘플링을 제공하며, <code>bilinear</code>는 속도가 빠르지만 품질이 낮을 수 있다.</p>
<h3 id="12">12. 동적 비율 조정</h3>
<p>동영상에서 비율을 동적으로 변경해야 하는 경우가 있다. 예를 들어, 영상의 특정 부분만 비율을 조정하거나, 시간에 따라 비율을 변화시킬 수 있다. 이때 FFmpeg는 시간 기반 필터를 사용하여 이러한 동적 비율 조정을 가능하게 한다.</p>
<h4 id="121">12.1 시간 기반 필터 사용 예시</h4>
<p>시간 기반 필터를 사용하여 비디오의 시작 부분에서는 4:3 비율을 유지하고, 중간부터 16:9 비율로 변경하는 명령어는 다음과 같다:</p>
<pre><code>ffmpeg -i input.mp4 -vf &quot;scale=if(lt(t,10),1024:768,1280:720)&quot; output.mp4
</code></pre>
<p>이 명령어는 10초 이내에는 1024x768의 4:3 비율을 적용하고, 10초 이후에는 1280x720의 16:9 비율을 적용한다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A040/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A040/" class="btn btn-xs btn-link">
        오디오 채널 변환
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A038/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A038/" class="btn btn-xs btn-link">
        비디오 회전 및 뒤집기
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>