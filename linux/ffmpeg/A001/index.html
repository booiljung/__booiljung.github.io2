<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/linux/ffmpeg/A001/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>FFMPEG 개요 - 실험 도서관</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "FFMPEG\uc758 \uc5ed\uc0ac\uc640 \ubc1c\uc804", url: "#_top", children: [
          ]},
          {title: "FFMPEG\uc758 \uc8fc\uc694 \uae30\ub2a5", url: "#ffmpeg_1", children: [
              {title: "\uba40\ud2f0\ubbf8\ub514\uc5b4 \ubcc0\ud658", url: "#_1" },
              {title: "\ube44\ub514\uc624 \ubc0f \uc624\ub514\uc624 \uc2a4\ud2b8\ub9ac\ubc0d", url: "#_2" },
              {title: "\ube44\ub514\uc624 \ubc0f \uc624\ub514\uc624 \uc778\ucf54\ub529", url: "#_3" },
          ]},
          {title: "\uba40\ud2f0\ubbf8\ub514\uc5b4 \ud30c\uc77c \uad6c\uc870", url: "#_4", children: [
              {title: "FFMPEG\uc758 \uc544\ud0a4\ud14d\ucc98", url: "#ffmpeg_2" },
          ]},
          {title: "FFMPEG\uc758 \uc7a5\uc810", url: "#ffmpeg_3", children: [
              {title: "\ub2e4\uc591\ud55c \ud3ec\ub9f7 \uc9c0\uc6d0", url: "#_5" },
              {title: "\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d", url: "#_6" },
          ]},
          {title: "FFMPEG\uc758 \uae30\ubcf8\uc801\uc778 \ub3d9\uc791 \uc6d0\ub9ac", url: "#ffmpeg_4", children: [
              {title: "\uc2a4\ud2b8\ub9bc\uc758 \uad6c\uc131", url: "#_7" },
          ]},
          {title: "FFMPEG\uc758 \ud655\uc7a5\uc131", url: "#ffmpeg_5", children: [
          ]},
          {title: "FFMPEG\uc758 \ubaa8\ub4c8 \uad6c\uc131", url: "#ffmpeg_6", children: [
              {title: "libavcodec", url: "#libavcodec" },
              {title: "libavformat", url: "#libavformat" },
              {title: "libavfilter", url: "#libavfilter" },
          ]},
          {title: "FFMPEG\uc758 \ucee4\ub9e8\ub4dc \ub77c\uc778 \uad6c\uc870", url: "#ffmpeg_7", children: [
              {title: "\uc8fc\uc694 \uc635\uc158 \uc124\uba85", url: "#_8" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A002/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A002/" class="btn btn-xs btn-link">
        FFMPEG 설치
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../10%20toc/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../10%20toc/" class="btn btn-xs btn-link">
        목차
      </a>
    </div>
    
  </div>

    

    <p>FFMPEG은 다양한 멀티미디어 포맷을 처리하는 강력한 오픈 소스 소프트웨어로, 비디오, 오디오, 자막 등의 파일을 변환하고 편집할 수 있는 도구이다. FFMPEG은 전 세계적으로 널리 사용되며, 비디오 및 오디오 파일을 재생, 변환, 스트리밍하는 데 필요한 다양한 기능을 제공한다.</p>
<h3 id="ffmpeg">FFMPEG의 역사와 발전</h3>
<p>FFMPEG 프로젝트는 2000년에 시작되었으며, <strong>Fabrice Bellard</strong>가 개발하였다. 초기에는 비디오와 오디오 파일을 변환하는 간단한 도구로 출발했으나, 시간이 지나면서 여러 기여자들의 참여로 다양한 기능들이 추가되었다. 현재 FFMPEG은 강력한 비디오 및 오디오 인코딩, 디코딩, 필터링 기능을 제공하며, 다양한 플랫폼에서 사용될 수 있다. FFMPEG의 핵심 라이브러리는 <strong>libavcodec</strong>, <strong>libavformat</strong>, <strong>libavfilter</strong> 등으로 구성되어 있다.</p>
<ul>
<li><strong>libavcodec</strong>: 다양한 코덱을 처리하는 라이브러리로, 비디오 및 오디오 코덱을 지원한다.</li>
<li><strong>libavformat</strong>: 다양한 멀티미디어 컨테이너 포맷을 처리하는 라이브러리로, 파일 포맷 간의 변환을 가능하게 한다.</li>
<li><strong>libavfilter</strong>: 비디오 및 오디오 데이터를 처리하기 위한 다양한 필터를 제공하는 라이브러리이다.</li>
</ul>
<h3 id="ffmpeg_1">FFMPEG의 주요 기능</h3>
<p>FFMPEG은 다양한 기능을 제공하며, 그 중 일부는 다음과 같다.</p>
<h4 id="_1">멀티미디어 변환</h4>
<p>FFMPEG은 다양한 포맷의 파일을 변환할 수 있다. 예를 들어, <code>.mp4</code> 파일을 <code>.avi</code>로 변환하거나, 비디오 파일에서 오디오만 추출하여 별도의 오디오 파일로 저장할 수 있다. 이러한 변환 작업은 단일 명령어로 쉽게 수행할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 output.avi
</code></pre>
<h4 id="_2">비디오 및 오디오 스트리밍</h4>
<p>FFMPEG은 실시간 스트리밍 기능을 지원한다. 이를 통해 네트워크 상에서 비디오와 오디오를 전송할 수 있으며, RTMP(Real-Time Messaging Protocol)와 같은 프로토콜을 사용하여 스트리밍 서버로 데이터를 전송할 수 있다. FFMPEG의 스트리밍 기능은 다양한 라이브 스트리밍 플랫폼에서 활용될 수 있다.</p>
<h4 id="_3">비디오 및 오디오 인코딩</h4>
<p>FFMPEG은 다양한 코덱을 지원하여 비디오 및 오디오 데이터를 인코딩할 수 있다. 사용자는 필요한 코덱을 선택하여 비디오와 오디오 데이터를 압축할 수 있으며, 이 과정에서 비트레이트, 해상도, 프레임 레이트 등을 조정할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -crf 23 output.mp4
</code></pre>
<p>위 명령어에서 <code>-c:v libx264</code>는 비디오 코덱으로 <strong>H.264</strong>를 사용한다는 의미이며, <code>-crf 23</code>은 Constant Rate Factor(CRF)를 23으로 설정하여 인코딩 품질을 조절한다.</p>
<h3 id="_4">멀티미디어 파일 구조</h3>
<p>멀티미디어 파일은 크게 <strong>컨테이너</strong>와 <strong>코덱</strong>으로 나눌 수 있다. </p>
<ul>
<li><strong>컨테이너</strong>: 비디오, 오디오, 자막 등의 데이터를 하나의 파일에 담는 역할을 한다. 대표적인 컨테이너 포맷으로는 <code>.mp4</code>, <code>.mkv</code>, <code>.avi</code>, <code>.mov</code> 등이 있다.</li>
<li><strong>코덱</strong>: 비디오와 오디오 데이터를 인코딩하거나 디코딩하는 방법을 정의하는 알고리즘이다. 대표적인 비디오 코덱으로는 <strong>H.264</strong>, <strong>VP9</strong>, <strong>AV1</strong> 등이 있으며, 오디오 코덱으로는 <strong>AAC</strong>, <strong>MP3</strong>, <strong>Opus</strong> 등이 있다.</li>
</ul>
<p>FFMPEG은 다양한 코덱과 컨테이너 포맷을 지원하므로, 사용자는 파일을 변환하거나 재생할 때 자유롭게 선택할 수 있다.</p>
<h4 id="ffmpeg_2">FFMPEG의 아키텍처</h4>
<p>FFMPEG은 모듈식 아키텍처를 채택하고 있다. 이를 통해 각 기능이 독립적으로 작동하며, 사용자는 필요에 따라 각 모듈을 선택적으로 사용할 수 있다. 주요 모듈은 다음과 같다.</p>
<ul>
<li><strong>ffmpeg</strong>: 멀티미디어 파일을 변환하거나 인코딩하는 데 사용되는 명령어 기반의 도구.</li>
<li><strong>ffplay</strong>: FFMPEG 라이브러리를 사용하여 멀티미디어 파일을 재생할 수 있는 간단한 플레이어.</li>
<li><strong>ffprobe</strong>: 멀티미디어 파일의 정보(비트레이트, 코덱, 해상도 등)를 확인하는 도구.</li>
</ul>
<h3 id="ffmpeg_3">FFMPEG의 장점</h3>
<p>FFMPEG은 다양한 멀티미디어 작업을 수행하는 데 있어 다음과 같은 장점을 가지고 있다.</p>
<h4 id="_5">다양한 포맷 지원</h4>
<p>FFMPEG은 대부분의 비디오 및 오디오 포맷을 지원한다. FFMPEG이 지원하는 대표적인 비디오 포맷은 다음과 같다.</p>
<ul>
<li><strong>MP4</strong> (<code>.mp4</code>)</li>
<li><strong>Matroska</strong> (<code>.mkv</code>)</li>
<li><strong>AVI</strong> (<code>.avi</code>)</li>
<li><strong>MOV</strong> (<code>.mov</code>)</li>
<li><strong>FLV</strong> (<code>.flv</code>)</li>
</ul>
<p>오디오 포맷도 마찬가지로 폭넓게 지원하며, <strong>MP3</strong>, <strong>AAC</strong>, <strong>WAV</strong>, <strong>FLAC</strong> 등이 포함된다. 이러한 폭넓은 포맷 지원 덕분에 FFMPEG은 다양한 멀티미디어 작업 환경에서 사용될 수 있다.</p>
<h4 id="_6">하드웨어 가속</h4>
<p>FFMPEG은 CPU뿐만 아니라 GPU를 활용한 하드웨어 가속을 지원한다. 이를 통해 대용량 비디오 파일을 인코딩하거나 디코딩할 때 처리 속도를 크게 향상시킬 수 있다. FFMPEG은 NVIDIA의 <strong>NVENC</strong>, <strong>CUDA</strong>, <strong>AMD</strong>의 <strong>VCE</strong>, <strong>Intel</strong>의 <strong>Quick Sync Video</strong> 등의 하드웨어 가속 기능을 지원하며, 이를 활용한 비디오 인코딩은 더욱 효율적이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v h264_nvenc output.mp4
</code></pre>
<p>위 명령어는 <strong>NVENC</strong>를 사용하여 <strong>H.264</strong> 코덱으로 비디오를 인코딩한다. 하드웨어 가속을 이용하면 CPU 부하를 줄이면서 빠른 처리가 가능하다.</p>
<h3 id="ffmpeg_4">FFMPEG의 기본적인 동작 원리</h3>
<p>FFMPEG은 기본적으로 <strong>데이터 스트림</strong>을 처리한다. 비디오, 오디오, 자막 파일은 모두 특정한 <strong>스트림</strong>으로 간주되며, 각 스트림은 독립적으로 인코딩되거나 디코딩될 수 있다.</p>
<h4 id="_7">스트림의 구성</h4>
<ul>
<li><strong>비디오 스트림</strong>: 비디오 데이터를 담고 있는 스트림으로, 프레임(frame) 단위로 데이터를 처리한다.</li>
<li><strong>오디오 스트림</strong>: 오디오 데이터를 담고 있는 스트림으로, 샘플(sample) 단위로 데이터를 처리한다.</li>
<li><strong>자막 스트림</strong>: 자막 정보를 담고 있는 스트림으로, 자막 파일의 경우 텍스트와 시간 정보를 포함한다.</li>
</ul>
<p>FFMPEG은 이러한 스트림을 처리하여 입력 파일에서 데이터를 읽고, 변환한 후 출력 파일로 저장하는 과정을 수행한다. </p>
<pre><code class="language-bash">ffmpeg -i input.mkv -c:v libx264 -c:a aac output.mp4
</code></pre>
<p>이 명령어는 <strong>Matroska</strong> 포맷(<code>.mkv</code>) 파일을 입력으로 받아 비디오 스트림을 <strong>H.264</strong> 코덱으로 인코딩하고, 오디오 스트림을 <strong>AAC</strong> 코덱으로 변환한 후 <strong>MP4</strong> 포맷으로 저장하는 과정을 보여준다.</p>
<h3 id="ffmpeg_5">FFMPEG의 확장성</h3>
<p>FFMPEG은 <strong>필터</strong>를 이용하여 비디오 및 오디오 데이터를 쉽게 변환할 수 있다. 필터는 데이터에 다양한 효과를 적용할 수 있도록 하며, 사용자가 명령어를 통해 직접 설정할 수 있다. 대표적인 비디오 필터와 오디오 필터는 다음과 같다.</p>
<ul>
<li><strong>비디오 필터</strong>: 밝기 조절, 대비 조절, 회전, 잘라내기, 확대/축소 등</li>
<li><strong>오디오 필터</strong>: 볼륨 조절, EQ(Equalizer) 적용, 노이즈 제거 등</li>
</ul>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale=1280:720,eq=brightness=0.06&quot; output.mp4
</code></pre>
<p>위 명령어는 <strong>비디오 필터</strong>를 사용하여 비디오 파일의 해상도를 <strong>1280x720</strong>으로 조정하고, 밝기를 약간 높이는 필터를 적용한 후 출력 파일로 저장하는 예제이다.</p>
<h3 id="ffmpeg_6">FFMPEG의 모듈 구성</h3>
<p>FFMPEG은 여러 모듈로 구성되어 있으며, 각각의 모듈은 특정 기능을 수행한다. 이러한 모듈은 사용자가 필요에 따라 선택적으로 사용 가능하며, 이를 통해 다양한 작업을 수행할 수 있다.</p>
<h4 id="libavcodec">libavcodec</h4>
<p><strong>libavcodec</strong>은 FFMPEG에서 가장 중요한 라이브러리 중 하나로, 다양한 비디오와 오디오 코덱을 처리하는 기능을 제공한다. 이 라이브러리는 인코딩 및 디코딩 과정에서 코덱을 사용하여 데이터를 변환한다.</p>
<ul>
<li><strong>비디오 코덱</strong>: H.264, VP9, AV1, MPEG-2 등</li>
<li><strong>오디오 코덱</strong>: AAC, MP3, FLAC, Opus 등</li>
</ul>
<p>libavcodec은 이러한 다양한 코덱을 지원하며, 사용자는 특정 코덱을 선택하여 데이터를 변환할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx265 output.mkv
</code></pre>
<p>위 명령어는 <strong>H.265</strong> 코덱을 사용하여 비디오 데이터를 인코딩하는 예제이다. H.265 코덱은 <strong>HEVC</strong>(High-Efficiency Video Coding)으로도 알려져 있으며, H.264에 비해 더 높은 압축률을 제공한다.</p>
<h4 id="libavformat">libavformat</h4>
<p><strong>libavformat</strong>은 다양한 멀티미디어 컨테이너 포맷을 처리하는 라이브러리로, 파일 간의 포맷 변환을 가능하게 한다. 이 모듈은 입력 파일에서 데이터를 읽고, 출력 파일로 데이터를 쓰는 역할을 담당한다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -f avi output.avi
</code></pre>
<p>위 명령어는 <strong>MP4</strong> 포맷의 파일을 <strong>AVI</strong> 포맷으로 변환하는 예제이다. 여기서 <code>-f avi</code>는 출력 포맷을 <strong>AVI</strong>로 지정하는 옵션이다.</p>
<h4 id="libavfilter">libavfilter</h4>
<p><strong>libavfilter</strong>는 비디오 및 오디오 데이터를 필터링하는 라이브러리로, 다양한 필터를 통해 데이터를 처리할 수 있다. 예를 들어, 비디오 데이터를 잘라내거나 회전하는 등의 작업을 수행할 수 있으며, 오디오 데이터를 노멀라이즈하거나 볼륨을 조절하는 필터도 적용할 수 있다.</p>
<ul>
<li><strong>비디오 필터</strong>: <code>crop</code>, <code>scale</code>, <code>rotate</code>, <code>fps</code></li>
<li><strong>오디오 필터</strong>: <code>volume</code>, <code>aecho</code>, <code>highpass</code>, <code>lowpass</code></li>
</ul>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;crop=640:480:0:0&quot; output.mp4
</code></pre>
<p>위 명령어는 비디오 파일에서 좌측 상단부터 <strong>640x480</strong> 크기의 영역만을 잘라내는 예제이다.</p>
<h3 id="ffmpeg_7">FFMPEG의 커맨드 라인 구조</h3>
<p>FFMPEG은 커맨드 라인에서 실행되는 도구로, 다양한 옵션을 제공하여 파일을 변환하거나 편집할 수 있다. FFMPEG의 기본적인 명령어 구조는 다음과 같다.</p>
<pre><code class="language-bash">ffmpeg [옵션] -i [입력 파일] [출력 파일]
</code></pre>
<p>여기서 <code>-i</code> 옵션은 입력 파일을 지정하며, 사용자는 다양한 옵션을 추가하여 출력 파일의 형식을 지정할 수 있다.</p>
<h4 id="_8">주요 옵션 설명</h4>
<ul>
<li><strong>-i</strong>: 입력 파일을 지정하는 옵션.</li>
<li><strong>-c:v</strong>: 비디오 코덱을 지정하는 옵션. 예: <code>libx264</code>, <code>libx265</code>.</li>
<li><strong>-c:a</strong>: 오디오 코덱을 지정하는 옵션. 예: <code>aac</code>, <code>mp3</code>.</li>
<li><strong>-b:v</strong>: 비디오 비트레이트를 설정하는 옵션. 예: <code>2M</code>(2Mbps).</li>
<li><strong>-b:a</strong>: 오디오 비트레이트를 설정하는 옵션. 예: <code>128k</code>(128kbps).</li>
<li><strong>-r</strong>: 비디오 프레임 레이트를 설정하는 옵션. 예: <code>30</code>, <code>60</code>.</li>
<li><strong>-s</strong>: 비디오 해상도를 설정하는 옵션. 예: <code>1280x720</code>, <code>1920x1080</code>.</li>
</ul>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -b:v 2M -c:a aac -b:a 128k -r 30 -s 1280x720 output.mp4
</code></pre>
<p>위 명령어는 입력 파일을 <strong>H.264</strong> 코덱으로 인코딩하고, 비트레이트는 2Mbps, 오디오는 <strong>AAC</strong> 코덱으로 인코딩하며, 해상도는 <strong>1280x720</strong>, 프레임 레이트는 <strong>30fps</strong>로 설정하는 예제이다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A002/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A002/" class="btn btn-xs btn-link">
        FFMPEG 설치
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../10%20toc/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../10%20toc/" class="btn btn-xs btn-link">
        목차
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>