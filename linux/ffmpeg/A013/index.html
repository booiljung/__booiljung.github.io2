<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/linux/ffmpeg/A013/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>해상도 변경 - 실험 도서관</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\ud574\uc0c1\ub3c4\ub780 \ubb34\uc5c7\uc778\uac00?", url: "#_top", children: [
          ]},
          {title: "\ud574\uc0c1\ub3c4 \ubcc0\uacbd\uc758 \uc6d0\ub9ac", url: "#_2", children: [
              {title: "\ud574\uc0c1\ub3c4 \ucd95\uc18c", url: "#_3" },
              {title: "\ud574\uc0c1\ub3c4 \ud655\ub300", url: "#_4" },
          ]},
          {title: "FFMPEG \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud55c \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#ffmpeg", children: [
              {title: "\uac00\ub85c \uc138\ub85c \ube44\uc728 \uc720\uc9c0", url: "#_5" },
          ]},
          {title: "\ud574\uc0c1\ub3c4 \ubcc0\uacbd \uc2dc \ud488\uc9c8 \uace0\ub824\uc0ac\ud56d", url: "#_6", children: [
              {title: "\ud574\uc0c1\ub3c4 \ucd95\uc18c \uc2dc \ud488\uc9c8 \uc720\uc9c0", url: "#_7" },
              {title: "\ud574\uc0c1\ub3c4 \ud655\ub300 \uc2dc \ud488\uc9c8 \uc720\uc9c0", url: "#_8" },
          ]},
          {title: "\ube44\uc728\uc744 \uace0\ub824\ud55c \ud574\uc0c1\ub3c4 \uc790\ub3d9 \uc870\uc815", url: "#_9", children: [
              {title: "\uc6d0\ubcf8 \ube44\uc728 \uc720\uc9c0", url: "#_10" },
              {title: "\ube44\uc728\uc744 \uac15\uc81c\ub85c \ubcc0\uacbd", url: "#_11" },
          ]},
          {title: "FFMPEG\uc5d0\uc11c \ud574\uc0c1\ub3c4 \ubcc0\uacbd\uacfc \uad00\ub828\ub41c \uae30\ud0c0 \uc635\uc158", url: "#ffmpeg_1", children: [
              {title: "\ucd5c\ub300 \ud574\uc0c1\ub3c4 \uc81c\ud55c", url: "#_12" },
              {title: "\ud2b9\uc815 \ube44\uc728\uc5d0 \ub9de\ucdb0 \ud574\uc0c1\ub3c4 \uc870\uc815", url: "#_13" },
          ]},
          {title: "\ub2e4\uc591\ud55c \uc785\ub825 \ubc0f \ucd9c\ub825 \ud615\uc2dd\uc5d0 \ub300\ud55c \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#_14", children: [
              {title: "\uc5ec\ub7ec \uc785\ub825 \ud30c\uc77c\uc5d0 \ub300\ud55c \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#_15" },
              {title: "\ub2e4\uc591\ud55c \ucd9c\ub825 \ud3ec\ub9f7\uc73c\ub85c \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#_16" },
          ]},
          {title: "\ud574\uc0c1\ub3c4 \ubcc0\uacbd\uacfc \uc131\ub2a5 \ucd5c\uc801\ud654", url: "#_17", children: [
              {title: "\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d\uc744 \uc0ac\uc6a9\ud55c \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#_18" },
          ]},
          {title: "\ud504\ub808\uc784 \ube44\uc728 \ubcc0\uacbd\uacfc \ud574\uc0c1\ub3c4 \ubcc0\uacbd\uc758 \uacb0\ud569", url: "#_19", children: [
              {title: "\ud574\uc0c1\ub3c4\uc640 \ud504\ub808\uc784 \ube44\uc728 \ub3d9\uc2dc\uc5d0 \ubcc0\uacbd", url: "#_20" },
              {title: "\ud504\ub808\uc784 \ub4dc\ub86d \ubc29\uc9c0", url: "#_21" },
          ]},
          {title: "\ud574\uc0c1\ub3c4 \ubcc0\uacbd\uacfc \ud30c\uc77c \ud06c\uae30 \ucd5c\uc801\ud654", url: "#_22", children: [
              {title: "\ube44\ud2b8\ub808\uc774\ud2b8 \uc124\uc815\uacfc \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#_23" },
              {title: "\ube44\ub514\uc624 \ud488\uc9c8\uc744 \uc720\uc9c0\ud558\uba74\uc11c \ud30c\uc77c \ud06c\uae30 \uc904\uc774\uae30", url: "#_24" },
          ]},
          {title: "\ud574\uc0c1\ub3c4 \ubcc0\uacbd \uc2dc \uc624\ub514\uc624 \ud488\uc9c8 \uc870\uc815", url: "#_25", children: [
              {title: "\uc624\ub514\uc624 \ube44\ud2b8\ub808\uc774\ud2b8 \uc124\uc815", url: "#_26" },
              {title: "\uc624\ub514\uc624 \ucf54\ub371 \ubcc0\uacbd", url: "#_27" },
          ]},
          {title: "\ud574\uc0c1\ub3c4 \ubcc0\uacbd\uacfc \uba40\ud2f0\uc2a4\ub808\ub529 \ucd5c\uc801\ud654", url: "#_28", children: [
              {title: "\uba40\ud2f0\uc2a4\ub808\ub529\uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95", url: "#_29" },
              {title: "\uc790\ub3d9 \uc2a4\ub808\ub4dc \uc124\uc815", url: "#_30" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A014/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A014/" class="btn btn-xs btn-link">
        비디오 필터 적용
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A012/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A012/" class="btn btn-xs btn-link">
        프레임 레이트 조정
      </a>
    </div>
    
  </div>

    

    <h3 id="_1">해상도란 무엇인가?</h3>
<p>해상도는 영상의 품질을 결정하는 중요한 요소 중 하나로, 주어진 화면에 몇 개의 픽셀이 배치되는지를 의미한다. 이는 가로 픽셀 수와 세로 픽셀 수로 표현되며, 예를 들어 1920x1080 해상도는 가로 1920개의 픽셀과 세로 1080개의 픽셀을 나타낸다. 해상도는 비디오 파일의 크기와 화질에 직접적인 영향을 미치며, FFMPEG을 사용하여 이를 변경할 수 있다.</p>
<h3 id="_2">해상도 변경의 원리</h3>
<p>해상도를 변경하는 것은 단순히 화면에 표시되는 픽셀 수를 조정하는 것이지만, 이 과정에서 여러 가지 기술적 요소를 고려해야 한다. 해상도를 축소할 때는 픽셀을 줄이는 과정을 통해 데이터를 압축하며, 해상도를 확대할 때는 부족한 픽셀을 생성하는 보간법이 필요하다.</p>
<h4 id="_3">해상도 축소</h4>
<p>해상도를 축소하는 경우, 기본적으로 이미 존재하는 픽셀들을 적은 수로 재배치해야 한다. 이 과정에서 픽셀 간의 정보가 손실될 수 있으므로, 이를 최소화하기 위한 다양한 필터링 기법이 사용된다.</p>
<p>픽셀 간 평균값을 사용하는 가장 기본적인 축소 기법은 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{P}_{\text{new}}(i,j) = \frac{1}{n^2} \sum_{k=0}^{n-1} \sum_{l=0}^{n-1} \mathbf{P}_{\text{old}}(ni+k, nj+l)
</div>
<script type="math/tex; mode=display">
\mathbf{P}_{\text{new}}(i,j) = \frac{1}{n^2} \sum_{k=0}^{n-1} \sum_{l=0}^{n-1} \mathbf{P}_{\text{old}}(ni+k, nj+l)
</script>
</div>
<p>여기서:
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{\text{new}}(i,j)</span><script type="math/tex">\mathbf{P}_{\text{new}}(i,j)</script></span>는 축소된 해상도에서의 픽셀 값
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{\text{old}}(i,j)</span><script type="math/tex">\mathbf{P}_{\text{old}}(i,j)</script></span>는 원래 해상도의 픽셀 값
- <span class="arithmatex"><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span>은 축소 비율을 의미</p>
<h4 id="_4">해상도 확대</h4>
<p>해상도를 확대할 때는 기존의 픽셀 값 사이에 새로운 값을 삽입하는 보간법이 사용된다. 가장 간단한 보간법 중 하나는 "Nearest Neighbor" 방법으로, 새로운 픽셀 값에 가장 가까운 기존 픽셀 값을 복사하는 방식이다. 그러나 이 방법은 이미지에 계단 현상(픽셀화)을 유발할 수 있다.</p>
<p>더 나은 품질을 위한 방법으로는 <strong>양선형 보간법</strong>(Bilinear Interpolation)이 있다. 이 방법은 주변 4개의 픽셀 값을 참조하여 새로운 픽셀 값을 계산한다. 양선형 보간법은 다음과 같은 수식을 따른다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{P}_{\text{new}}(x', y') = (1 - \Delta x)(1 - \Delta y) \mathbf{P}_{11} + \Delta x(1 - \Delta y) \mathbf{P}_{21} + (1 - \Delta x) \Delta y \mathbf{P}_{12} + \Delta x \Delta y \mathbf{P}_{22}
</div>
<script type="math/tex; mode=display">
\mathbf{P}_{\text{new}}(x', y') = (1 - \Delta x)(1 - \Delta y) \mathbf{P}_{11} + \Delta x(1 - \Delta y) \mathbf{P}_{21} + (1 - \Delta x) \Delta y \mathbf{P}_{12} + \Delta x \Delta y \mathbf{P}_{22}
</script>
</div>
<p>여기서:
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{\text{new}}(x', y')</span><script type="math/tex">\mathbf{P}_{\text{new}}(x', y')</script></span>는 확대된 해상도에서의 픽셀 값
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{11}, \mathbf{P}_{21}, \mathbf{P}_{12}, \mathbf{P}_{22}</span><script type="math/tex">\mathbf{P}_{11}, \mathbf{P}_{21}, \mathbf{P}_{12}, \mathbf{P}_{22}</script></span>는 주변 기존 픽셀 값
- <span class="arithmatex"><span class="MathJax_Preview">\Delta x, \Delta y</span><script type="math/tex">\Delta x, \Delta y</script></span>는 새로운 픽셀 좌표와 기존 픽셀 좌표 간의 거리</p>
<h3 id="ffmpeg">FFMPEG 명령어를 사용한 해상도 변경</h3>
<p>FFMPEG에서 해상도를 변경하기 위한 기본적인 명령어는 다음과 같다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 output.mp4
</code></pre>
<p>여기서:
- <code>input.mp4</code>는 원본 비디오 파일
- <code>scale=1280:720</code>는 출력 해상도
- <code>output.mp4</code>는 해상도 변경 후 출력되는 파일</p>
<h4 id="_5">가로 세로 비율 유지</h4>
<p>가로 세로 비율을 유지하며 해상도를 변경하고 싶다면, FFMPEG에서 가로 또는 세로 중 하나만 지정하고 나머지를 <code>-1</code>로 설정할 수 있다. FFMPEG은 자동으로 비율을 계산하여 적절한 해상도를 결정한다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:-1 output.mp4
</code></pre>
<p>이 명령어는 가로 해상도를 1280 픽셀로 고정하고, 세로 해상도는 비율을 유지하며 자동으로 계산한다.</p>
<h3 id="_6">해상도 변경 시 품질 고려사항</h3>
<p>해상도를 변경할 때 단순히 픽셀 수를 조정하는 것만으로는 충분하지 않다. 특히 해상도를 축소할 때는 많은 데이터가 손실될 수 있고, 확대할 때는 이미지가 흐릿해질 가능성이 높다. 이러한 문제를 방지하기 위해 다양한 필터링 옵션을 사용하여 품질을 유지하거나 최적화할 수 있다.</p>
<h4 id="_7">해상도 축소 시 품질 유지</h4>
<p>축소할 때는 주로 블러링 현상이나 정보 손실을 최소화하기 위해 필터링이 필요하다. FFMPEG에서는 이러한 작업을 수행하기 위한 다양한 필터를 제공한다. 가장 흔히 사용되는 필터는 <code>lanczos</code> 필터로, 이 필터는 고주파 성분을 보존하여 날카로운 이미지를 유지하는 데 도움을 준다.</p>
<p>명령어 예시:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=640:360:flags=lanczos output.mp4
</code></pre>
<p>여기서 <code>flags=lanczos</code>는 해상도 축소 시 Lanczos 필터를 적용하여 품질을 개선한다.</p>
<h4 id="_8">해상도 확대 시 품질 유지</h4>
<p>해상도를 확대하는 과정에서도 비슷한 문제가 발생할 수 있다. 확대할 때 이미지를 더 선명하게 만들기 위해 추가적인 필터를 적용할 수 있다. FFMPEG에서 사용하는 기본 필터는 <code>bilinear</code>이지만, 더 나은 품질을 위해 <code>bicubic</code> 필터를 적용할 수 있다. 이는 확대 시 이미지를 더욱 부드럽고 자연스럽게 만든다.</p>
<p>명령어 예시:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1920:1080:flags=bicubic output.mp4
</code></pre>
<p>이 명령어는 해상도를 1920x1080으로 확대하고, <code>bicubic</code> 필터를 적용하여 부드러운 이미지 품질을 유지한다.</p>
<h3 id="_9">비율을 고려한 해상도 자동 조정</h3>
<p>해상도를 변경할 때 원본 비디오의 종횡비(Aspect Ratio)를 유지하는 것은 매우 중요하다. 그렇지 않으면 영상이 왜곡되거나 압축되는 문제가 발생할 수 있다. FFMPEG에서는 이를 방지하기 위해 비율을 자동으로 조정하는 옵션을 제공한다. </p>
<h4 id="_10">원본 비율 유지</h4>
<p>해상도를 변경하면서 비율을 유지하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale=iw/2:ih/2&quot; output.mp4
</code></pre>
<p>여기서 <code>iw</code>와 <code>ih</code>는 각각 원본 영상의 가로, 세로 크기를 나타낸다. 이 명령어는 원본 해상도의 절반으로 축소하면서 가로 세로 비율을 유지한다.</p>
<h4 id="_11">비율을 강제로 변경</h4>
<p>때로는 비율을 변경하고 싶을 때도 있을 것이다. 예를 들어, 특정 플랫폼에서 요구하는 고정 비율로 영상을 맞추기 위해서 비율을 강제로 설정해야 할 수 있다. 이 경우에는 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720,setdar=16/9 output.mp4
</code></pre>
<p>이 명령어는 해상도를 1280x720으로 변경하면서 가로 세로 비율을 16:9로 강제 설정한다. <code>setdar</code> 옵션을 통해 비율을 강제 지정할 수 있다.</p>
<h3 id="ffmpeg_1">FFMPEG에서 해상도 변경과 관련된 기타 옵션</h3>
<h4 id="_12">최대 해상도 제한</h4>
<p>비디오의 최대 해상도를 제한하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale='min(1280,iw)':'min(720,ih)'&quot; output.mp4
</code></pre>
<p>이 명령어는 원본 비디오의 해상도가 지정된 값보다 클 경우에만 해상도를 축소하며, 작을 경우에는 원본 해상도를 유지한다. 이 방법은 여러 해상도의 비디오 파일을 처리할 때 유용하다.</p>
<h4 id="_13">특정 비율에 맞춰 해상도 조정</h4>
<p>일정한 비율로 해상도를 조정하려면 <code>scale</code> 필터에 수식을 사용할 수 있다. 예를 들어, 해상도를 1.5배로 확대하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale=iw*1.5:ih*1.5&quot; output.mp4
</code></pre>
<p>이 명령어는 가로와 세로 해상도를 각각 1.5배로 확대한다.</p>
<h3 id="_14">다양한 입력 및 출력 형식에 대한 해상도 변경</h3>
<p>FFMPEG은 다양한 형식의 입력 및 출력 파일을 지원하며, 해상도를 변경할 때 형식에 따라 차이가 있을 수 있다. 특정 형식에서는 해상도 제한이 있을 수 있으므로, 이를 사전에 고려하여 작업해야 한다.</p>
<h4 id="_15">여러 입력 파일에 대한 해상도 변경</h4>
<p>여러 개의 입력 파일을 처리할 때, 각 파일의 해상도를 동일하게 변경하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input1.mp4 -i input2.mp4 -filter_complex &quot;[0:v]scale=1280:720[v0];[1:v]scale=1280:720[v1]&quot; -map &quot;[v0]&quot; -map 0:a -map &quot;[v1]&quot; -map 1:a output.mp4
</code></pre>
<p>이 명령어는 두 개의 입력 파일 <code>input1.mp4</code>와 <code>input2.mp4</code>를 받아 각 비디오의 해상도를 1280x720으로 변경한 후, 오디오 트랙과 함께 결합하여 출력한다. <code>-filter_complex</code> 옵션을 사용하여 복잡한 필터 체인을 적용할 수 있다.</p>
<h4 id="_16">다양한 출력 포맷으로 해상도 변경</h4>
<p>FFMPEG은 출력 파일 포맷에 따라 해상도를 최적화할 수 있는 다양한 옵션을 제공한다. 예를 들어, MPEG 포맷으로 저장할 때는 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -c:v mpeg2video -q:v 2 output.mpg
</code></pre>
<p>여기서 <code>-c:v mpeg2video</code>는 MPEG-2 비디오 코덱을 사용하여 해상도를 변경한 후 저장하는 방식이다. 이처럼 출력 포맷에 따라 코덱을 지정하고 품질을 조정할 수 있다.</p>
<h3 id="_17">해상도 변경과 성능 최적화</h3>
<p>해상도를 변경할 때는 처리 속도와 성능도 중요한 고려 사항 중 하나이다. 특히 고해상도의 비디오를 처리할 때 성능 저하가 발생할 수 있으며, 이를 해결하기 위해 하드웨어 가속을 사용할 수 있다.</p>
<h4 id="_18">하드웨어 가속을 사용한 해상도 변경</h4>
<p>하드웨어 가속을 사용하면 CPU 대신 GPU를 활용하여 비디오 처리 성능을 향상시킬 수 있다. FFMPEG은 NVIDIA의 NVENC, AMD의 VCE, Intel의 Quick Sync Video 등 다양한 하드웨어 가속 옵션을 지원한다. 예를 들어, NVIDIA의 NVENC를 사용하여 해상도를 변경하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -hwaccel cuvid -c:v h264_cuvid -i input.mp4 -vf scale=1280:720 -c:v h264_nvenc output.mp4
</code></pre>
<p>이 명령어는 <code>-hwaccel cuvid</code>를 통해 하드웨어 가속을 활성화하고, <code>h264_nvenc</code> 코덱을 사용하여 해상도 변경을 처리한다. 하드웨어 가속을 사용하면 처리 시간을 크게 줄일 수 있으며, 특히 고해상도 비디오를 처리할 때 유용하다.</p>
<h3 id="_19">프레임 비율 변경과 해상도 변경의 결합</h3>
<p>해상도를 변경할 때 프레임 비율도 함께 변경해야 하는 경우가 있다. FFMPEG에서는 해상도와 프레임 비율을 동시에 변경할 수 있다.</p>
<h4 id="_20">해상도와 프레임 비율 동시에 변경</h4>
<p>해상도와 프레임 비율을 동시에 변경하려면 다음과 같은 명령어를 사용할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -r 30 output.mp4
</code></pre>
<p>이 명령어는 비디오 해상도를 1280x720으로 변경하고, 프레임 비율을 30fps로 조정하여 출력 파일을 생성한다. 이렇게 해상도와 프레임 비율을 동시에 변경할 수 있으므로, 특정 플랫폼에 맞는 최적화된 파일을 만들 때 유용하다.</p>
<h4 id="_21">프레임 드롭 방지</h4>
<p>프레임 비율을 변경할 때 비디오의 길이가 변경되지 않도록 주의해야 한다. FFMPEG에서는 프레임 드롭을 방지하기 위한 다양한 옵션을 제공하며, 해상도 변경과 함께 사용할 수 있다. 다음과 같은 명령어를 사용하여 프레임 드롭을 방지할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -r 30 -vsync 2 output.mp4
</code></pre>
<p>여기서 <code>-vsync 2</code> 옵션은 프레임을 추가하거나 삭제하지 않고, 프레임 수를 동일하게 유지하면서 프레임 비율을 변경한다.</p>
<h3 id="_22">해상도 변경과 파일 크기 최적화</h3>
<p>해상도를 변경할 때 파일 크기를 최적화하는 것도 중요한 고려 사항 중 하나다. 해상도를 낮추면 파일 크기가 줄어들 수 있지만, 코덱, 비트레이트, 프레임 비율 등 여러 요인이 파일 크기에 영향을 미친다. 따라서 해상도 변경과 동시에 파일 크기를 최적화하는 방법을 이해하는 것이 중요하다.</p>
<h4 id="_23">비트레이트 설정과 해상도 변경</h4>
<p>비트레이트는 비디오의 품질과 파일 크기를 결정하는 핵심 요소다. 해상도를 낮추면 비트레이트도 조정하여 파일 크기를 줄일 수 있다. 예를 들어, 다음 명령어를 사용하면 해상도를 변경하면서 비트레이트를 설정할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -b:v 1000k output.mp4
</code></pre>
<p>여기서 <code>-b:v 1000k</code>는 비디오의 비트레이트를 1000 kbps로 설정하여 파일 크기를 줄인다. 해상도와 비트레이트를 적절히 조합하면 품질을 유지하면서도 파일 크기를 최적화할 수 있다.</p>
<h4 id="_24">비디오 품질을 유지하면서 파일 크기 줄이기</h4>
<p>FFMPEG에서 <code>crf</code>(Constant Rate Factor)를 사용하면 비디오의 품질을 유지하면서 파일 크기를 줄일 수 있다. <code>crf</code> 값이 낮을수록 비디오 품질이 높아지며, 파일 크기가 커진다. 반면, 값이 높을수록 파일 크기는 작아지지만, 품질이 떨어진다. 기본적으로 <code>crf</code> 값은 0에서 51까지 설정할 수 있으며, 23이 기본 값이다.</p>
<p>명령어 예시:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -crf 28 output.mp4
</code></pre>
<p>이 명령어는 해상도를 1280x720으로 변경하고, <code>crf</code> 값을 28로 설정하여 파일 크기를 최적화한다. 높은 <code>crf</code> 값은 파일 크기를 크게 줄이면서도 눈에 띄는 품질 저하를 방지할 수 있다.</p>
<h3 id="_25">해상도 변경 시 오디오 품질 조정</h3>
<p>해상도를 변경할 때는 비디오뿐만 아니라 오디오 품질도 고려해야 한다. 특히, 비디오 파일의 크기를 최적화하려면 오디오 비트레이트를 조정하는 것이 필요하다.</p>
<h4 id="_26">오디오 비트레이트 설정</h4>
<p>FFMPEG을 사용하여 오디오 비트레이트를 조정할 수 있으며, 이를 통해 파일 크기를 줄일 수 있다. 예를 들어, 다음과 같이 오디오 비트레이트를 128kbps로 설정할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -b:a 128k output.mp4
</code></pre>
<p>여기서 <code>-b:a 128k</code>는 오디오 비트레이트를 128kbps로 설정한다. 해상도를 변경하면서 오디오 품질도 적절하게 조정하면 전체 파일 크기를 효과적으로 줄일 수 있다.</p>
<h4 id="_27">오디오 코덱 변경</h4>
<p>비디오 해상도를 변경할 때는 오디오 코덱도 함께 변경할 수 있다. 오디오 코덱을 변경하면 파일 크기와 호환성에 영향을 미칠 수 있다. 예를 들어, 다음과 같이 AAC 오디오 코덱을 사용하여 파일을 출력할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -c:a aac output.mp4
</code></pre>
<p>이 명령어는 AAC 코덱을 사용하여 오디오를 인코딩하며, 해상도를 1280x720으로 변경한다.</p>
<h3 id="_28">해상도 변경과 멀티스레딩 최적화</h3>
<p>해상도를 변경할 때 대용량 파일이나 고해상도 비디오를 처리하는 경우, 성능 최적화를 위해 멀티스레딩을 사용할 수 있다. FFMPEG에서는 멀티스레딩을 통해 여러 코어를 동시에 사용하여 작업 속도를 크게 향상시킬 수 있다.</p>
<h4 id="_29">멀티스레딩을 사용하는 방법</h4>
<p>FFMPEG에서 멀티스레딩을 사용하려면 <code>-threads</code> 옵션을 사용할 수 있다. 다음과 같은 명령어로 멀티스레딩을 활성화할 수 있다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -threads 4 output.mp4
</code></pre>
<p>여기서 <code>-threads 4</code>는 4개의 스레드를 사용하여 해상도를 변경한다. 멀티스레딩을 사용하면 대용량 비디오 파일을 처리할 때 속도가 크게 향상된다.</p>
<h4 id="_30">자동 스레드 설정</h4>
<p>FFMPEG에서는 시스템의 코어 수에 따라 자동으로 최적화된 스레드 수를 설정할 수 있다. 이를 위해 <code>-threads 0</code> 옵션을 사용하면 FFMPEG이 자동으로 적절한 스레드 수를 결정한다:</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf scale=1280:720 -threads 0 output.mp4
</code></pre>
<p>이 옵션은 시스템의 성능에 따라 자동으로 스레드 수를 최적화하므로, 해상도 변경 작업을 더 효율적으로 처리할 수 있다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A014/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A014/" class="btn btn-xs btn-link">
        비디오 필터 적용
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A012/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A012/" class="btn btn-xs btn-link">
        프레임 레이트 조정
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>