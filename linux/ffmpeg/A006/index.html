<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/linux/ffmpeg/A006/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>비디오 포맷 변환 - 실험 도서관</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\uc785\ub825 \ud30c\uc77c \uc120\ud0dd", url: "#_top", children: [
          ]},
          {title: "\ucd9c\ub825 \ud30c\uc77c \ud3ec\ub9f7 \uc9c0\uc815", url: "#_2", children: [
          ]},
          {title: "\ucf54\ub371 \ubcc0\ud658", url: "#_3", children: [
          ]},
          {title: "\ube44\ub514\uc624 \uc2a4\ud2b8\ub9bc\uc758 \uc0d8\ud50c\ub9c1 \ub808\uc774\ud2b8 \uc870\uc815", url: "#_4", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud3ec\ub9f7 \ubcc0\ud658 \uc2dc \ud488\uc9c8 \uc124\uc815", url: "#_5", children: [
          ]},
          {title: "\ubcc0\ud658 \uacfc\uc815\uc5d0\uc11c\uc758 \uc218\ud559\uc801 \ubaa8\ub378\ub9c1", url: "#_6", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud3ec\ub9f7 \ubcc0\ud658 \uc2dc \ud574\uc0c1\ub3c4 \ubcc0\uacbd", url: "#_7", children: [
          ]},
          {title: "\ube44\uc728\uc744 \uc720\uc9c0\ud55c \ud574\uc0c1\ub3c4 \uc870\uc815", url: "#_8", children: [
          ]},
          {title: "\ube44\ud2b8\ub808\uc774\ud2b8 \ubcc0\ud658", url: "#_9", children: [
          ]},
          {title: "\ube44\ud2b8\ub808\uc774\ud2b8\uc640 \ud488\uc9c8\uc758 \uad00\uacc4", url: "#_10", children: [
          ]},
          {title: "\ube44\ub514\uc624 \uc2a4\ud2b8\ub9bc\uc758 \ud504\ub808\uc784 \ub808\uc774\ud2b8 \ubcc0\ud658", url: "#_11", children: [
          ]},
          {title: "\ud2b9\uc815 \uc2dc\uac04\ub300 \ube44\ub514\uc624 \ucd94\ucd9c", url: "#_12", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud544\ud130 \uc801\uc6a9", url: "#_13", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud544\ud130\uc640 \ud589\ub82c \ud45c\ud604", url: "#_14", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud574\uc0c1\ub3c4 \ubcc0\ud658\uacfc \ud589\ub82c", url: "#_15", children: [
          ]},
          {title: "\uc790\ub9c9 \ucd94\uac00", url: "#_16", children: [
          ]},
          {title: "\uc790\ub9c9 \uc778\ucf54\ub529", url: "#_17", children: [
          ]},
          {title: "\uc624\ub514\uc624 \ud3ec\ub9f7 \ubcc0\ud658", url: "#_18", children: [
          ]},
          {title: "\uc624\ub514\uc624 \uc2a4\ud2b8\ub9bc \ucd94\ucd9c", url: "#_19", children: [
          ]},
          {title: "\uc624\ub514\uc624 \ud544\ud130 \uc801\uc6a9", url: "#_20", children: [
          ]},
          {title: "\uc624\ub514\uc624 \ucc44\ub110 \ubcc0\ud658", url: "#_21", children: [
          ]},
          {title: "\uc624\ub514\uc624 \ubcc0\ud658 \uc2dc\uc758 \uc218\ud559\uc801 \ubaa8\ub378\ub9c1", url: "#_22", children: [
          ]},
          {title: "\uc5ec\ub7ec \uc785\ub825 \ud30c\uc77c \ubcd1\ud569", url: "#_23", children: [
          ]},
          {title: "\ud30c\uc77c \ubd84\ud560", url: "#_24", children: [
          ]},
          {title: "\ud30c\uc77c \uc790\ub974\uae30", url: "#_25", children: [
          ]},
          {title: "\ud30c\uc77c \uae38\uc774 \uc870\uc815", url: "#_26", children: [
          ]},
          {title: "\ube44\ub514\uc624\uc5d0\uc11c \uc624\ub514\uc624 \ucd94\ucd9c", url: "#_27", children: [
          ]},
          {title: "\uc624\ub514\uc624\uc5d0\uc11c \ube44\ub514\uc624 \ucd94\ucd9c", url: "#_28", children: [
          ]},
          {title: "\ud2b9\uc815 \uc2dc\uac04\ub300 \ube44\ub514\uc624 \ucd94\ucd9c", url: "#_29", children: [
          ]},
          {title: "\ud2b9\uc815 \uc2dc\uac04\ub300 \uc624\ub514\uc624 \ucd94\ucd9c", url: "#_30", children: [
          ]},
          {title: "\ube44\ub514\uc624 \uc790\ub974\uae30 \ubc0f \ubcd1\ud569", url: "#_31", children: [
          ]},
          {title: "\uc624\ub514\uc624 \uc790\ub974\uae30 \ubc0f \ubcd1\ud569", url: "#_32", children: [
          ]},
          {title: "\ube44\ub514\uc624/\uc624\ub514\uc624 \ub3d9\uae30\ud654", url: "#_33", children: [
          ]},
          {title: "\uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac", url: "#_34", children: [
          ]},
          {title: "\uba54\ud0c0\ub370\uc774\ud130 \ucd94\uac00 \ubc0f \uc218\uc815", url: "#_35", children: [
          ]},
          {title: "\uc2a4\ud2b8\ub9ac\ubc0d \uc124\uc815", url: "#_36", children: [
          ]},
          {title: "\ub77c\uc774\ube0c \uc2a4\ud2b8\ub9ac\ubc0d \ubcc0\ud658", url: "#_37", children: [
          ]},
          {title: "RTMP/HTTP \uc2a4\ud2b8\ub9ac\ubc0d \uc124\uc815", url: "#rtmphttp", children: [
          ]},
          {title: "\ub2e4\uc911 \ud2b8\ub799 \uc9c0\uc6d0", url: "#_38", children: [
          ]},
          {title: "\ube44\ub514\uc624 \uc18d\ub3c4 \uc870\uc815", url: "#_39", children: [
          ]},
          {title: "\uc624\ub514\uc624 \uc18d\ub3c4 \uc870\uc815", url: "#_40", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud488\uc9c8 \ucd5c\uc801\ud654", url: "#_41", children: [
          ]},
          {title: "\uc624\ub514\uc624 \ud488\uc9c8 \ucd5c\uc801\ud654", url: "#_42", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud68c\uc804 \ubc0f \ub4a4\uc9d1\uae30", url: "#_43", children: [
          ]},
          {title: "\ube44\ub514\uc624 \ud654\uba74 \ube44\uc728 \uc870\uc815", url: "#_44", children: [
          ]},
          {title: "\uc624\ub514\uc624 \ucc44\ub110 \ubcc0\ud658", url: "#_45", children: [
          ]},
          {title: "\ubb34\uc190\uc2e4 \ubcc0\ud658", url: "#_46", children: [
          ]},
          {title: "\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d \uc124\uc815", url: "#_47", children: [
          ]},
          {title: "GPU \uc778\ucf54\ub529/\ub514\ucf54\ub529", url: "#gpu", children: [
          ]},
          {title: "\ub2e4\uc911 \ucf54\ub371 \uc0ac\uc6a9", url: "#_48", children: [
          ]},
          {title: "\ub2e4\uc911 \ud30c\uc77c \ubcc0\ud658", url: "#_49", children: [
          ]},
          {title: "\ud30c\uc77c \ud3ec\ub9f7 \uc790\ub3d9 \uac10\uc9c0", url: "#_50", children: [
          ]},
          {title: "\uc2e4\uc2dc\uac04 \ubbf8\ub9ac\ubcf4\uae30", url: "#_51", children: [
          ]},
          {title: "FFmpeg \ub85c\uadf8 \uad00\ub9ac", url: "#ffmpeg", children: [
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A007/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A007/" class="btn btn-xs btn-link">
        오디오 포맷 변환
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A005/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A005/" class="btn btn-xs btn-link">
        출력 파일 포맷 설정
      </a>
    </div>
    
  </div>

    

    <p>비디오 포맷 변환은 비디오 파일을 다른 포맷으로 변환하는 과정이다. 이 과정에서는 비디오 스트림을 인코딩하거나 디코딩하는 작업을 포함하며, 비디오 파일의 구조적 요소인 컨테이너 포맷을 변경하는 작업도 수행한다. FFMPEG은 다양한 비디오 포맷을 지원하고 있으며, 이를 통해 비디오 파일의 호환성을 높이고 품질과 파일 크기를 조정할 수 있다.</p>
<h3 id="_1">입력 파일 선택</h3>
<p>FFMPEG에서 비디오 포맷을 변환하려면 먼저 입력 파일을 지정해야 한다. 이를 위해 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4
</code></pre>
<p>여기서 <code>-i</code>는 입력 파일을 지정하는 옵션이며, <code>input.mp4</code>는 변환할 비디오 파일을 의미한다. 이때 입력 파일은 FFMPEG이 지원하는 모든 비디오 포맷이 가능하다. </p>
<h3 id="_2">출력 파일 포맷 지정</h3>
<p>입력 파일을 지정한 후, 변환할 포맷의 출력 파일을 지정한다. 이때 원하는 포맷으로 파일을 변환하려면, 출력 파일의 확장자를 설정하면 된다. 예를 들어, MP4 파일을 AVI 파일로 변환하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 output.avi
</code></pre>
<p>여기서 <code>output.avi</code>는 변환된 파일이며, FFMPEG은 자동으로 파일의 확장자에 따라 적절한 컨테이너 포맷을 설정한다.</p>
<h3 id="_3">코덱 변환</h3>
<p>비디오 포맷을 변환할 때 단순히 컨테이너 포맷만 변경하는 것이 아니라 비디오와 오디오 스트림의 코덱도 변경할 수 있다. 이를 위해서는 <code>-c:v</code> (비디오 코덱)와 <code>-c:a</code> (오디오 코덱) 옵션을 사용할 수 있다. 예를 들어, 비디오를 H.264 코덱으로, 오디오를 AAC 코덱으로 변환하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.avi -c:v libx264 -c:a aac output.mp4
</code></pre>
<p>여기서 <code>libx264</code>는 H.264 비디오 코덱을, <code>aac</code>는 AAC 오디오 코덱을 의미한다.</p>
<h3 id="_4">비디오 스트림의 샘플링 레이트 조정</h3>
<p>비디오 변환 시, 스트림의 샘플링 레이트를 변경하여 최종 비디오의 프레임 속도 및 비디오 품질에 영향을 줄 수 있다. 다음과 같은 명령어를 사용하여 프레임 속도를 변경할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -r 24 output.mp4
</code></pre>
<p>여기서 <code>-r 24</code>는 비디오의 프레임 속도를 24fps로 설정하는 옵션이다. 프레임 속도가 낮을수록 비디오 품질은 낮아지지만, 파일 크기를 줄일 수 있다.</p>
<h3 id="_5">비디오 포맷 변환 시 품질 설정</h3>
<p>비디오 포맷 변환 시, 출력 파일의 품질을 조정할 수 있다. 이를 위해서는 <code>-crf</code>(constant rate factor) 옵션을 사용할 수 있다. 일반적으로 <code>-crf</code> 값이 낮을수록 품질이 높아지며, 파일 크기는 커진다. 예를 들어, 다음 명령어는 높은 품질의 비디오를 생성하는 명령어이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -crf 18 output.mp4
</code></pre>
<p>여기서 <code>-crf 18</code>은 높은 품질의 비디오를 생성하며, 기본 값은 23이다. </p>
<h3 id="_6">변환 과정에서의 수학적 모델링</h3>
<p>비디오 포맷 변환 과정에서의 품질과 파일 크기는 수학적으로 모델링될 수 있다. 출력 비디오의 품질 <span class="arithmatex"><span class="MathJax_Preview">Q</span><script type="math/tex">Q</script></span>는 비트레이트 <span class="arithmatex"><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>와 샘플링 레이트 <span class="arithmatex"><span class="MathJax_Preview">R</span><script type="math/tex">R</script></span>에 비례하며, 다음과 같은 수식을 따를 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
Q = f(B, R)
</div>
<script type="math/tex; mode=display">
Q = f(B, R)
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span>는 비트레이트와 샘플링 레이트를 이용한 품질을 계산하는 함수이다. 예를 들어, 비트레이트 <span class="arithmatex"><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>가 증가하면 품질 <span class="arithmatex"><span class="MathJax_Preview">Q</span><script type="math/tex">Q</script></span>는 증가하지만 파일 크기 <span class="arithmatex"><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span>도 함께 증가한다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
C = g(B, R)
</div>
<script type="math/tex; mode=display">
C = g(B, R)
</script>
</div>
<p>위 수식에서 <span class="arithmatex"><span class="MathJax_Preview">g</span><script type="math/tex">g</script></span>는 비트레이트와 샘플링 레이트에 따른 파일 크기를 나타내는 함수이다.</p>
<h3 id="_7">비디오 포맷 변환 시 해상도 변경</h3>
<p>비디오 포맷을 변환할 때 출력 파일의 해상도를 조정할 수 있다. 이를 위해 <code>-s</code> 옵션을 사용하여 가로와 세로 해상도를 설정할 수 있다. 예를 들어, 다음 명령어는 1280x720 해상도의 비디오를 생성하는 명령어이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -s 1280x720 output.mp4
</code></pre>
<p>여기서 <code>-s 1280x720</code>은 출력 비디오의 해상도를 1280x720으로 설정한다. FFMPEG은 다양한 해상도 설정을 지원하며, 원본 파일의 비율을 유지하면서 해상도를 조정하려면 <code>-vf scale</code> 필터를 사용할 수도 있다.</p>
<h3 id="_8">비율을 유지한 해상도 조정</h3>
<p>비디오의 가로세로 비율을 유지하면서 해상도를 변경하고 싶을 때는 <code>-vf</code>(비디오 필터) 옵션과 <code>scale</code> 필터를 사용하여 출력 해상도를 동적으로 조정할 수 있다. 다음 명령어는 출력 비디오의 가로세로 비율을 유지하면서 최대 해상도를 720p로 제한한다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale=-1:720&quot; output.mp4
</code></pre>
<p>여기서 <code>scale=-1:720</code>은 세로 해상도를 720으로 고정하고, 가로 해상도는 비율에 맞춰 자동으로 조정하는 옵션이다. <code>-1</code>은 비율에 맞춰 계산하라는 의미로 사용된다.</p>
<h3 id="_9">비트레이트 변환</h3>
<p>비트레이트는 비디오 파일의 품질과 크기에 중요한 영향을 미치는 요소다. 비디오 포맷 변환 시 비트레이트를 설정하여 파일 크기와 품질을 조정할 수 있다. <code>-b:v</code> 옵션을 사용하여 비디오 비트레이트를 설정할 수 있으며, <code>-b:a</code> 옵션을 사용하여 오디오 비트레이트를 설정할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -b:v 2M -b:a 192k output.mp4
</code></pre>
<p>위 명령어는 비디오 비트레이트를 2Mbps, 오디오 비트레이트를 192kbps로 설정하여 변환하는 예시이다. 비트레이트는 파일의 크기와 직접적으로 연관이 있기 때문에, 비트레이트가 높을수록 품질이 좋아지고 파일 크기도 커진다.</p>
<h3 id="_10">비트레이트와 품질의 관계</h3>
<p>비트레이트 <span class="arithmatex"><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>와 품질 <span class="arithmatex"><span class="MathJax_Preview">Q</span><script type="math/tex">Q</script></span>의 관계는 다음과 같은 함수로 표현될 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
Q = h(B)
</div>
<script type="math/tex; mode=display">
Q = h(B)
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">h</span><script type="math/tex">h</script></span>는 비트레이트에 따른 품질을 나타내는 함수다. <span class="arithmatex"><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>가 증가할수록 <span class="arithmatex"><span class="MathJax_Preview">Q</span><script type="math/tex">Q</script></span>는 비례적으로 증가하지만, 어느 정도 이상부터는 품질 향상의 효과가 감소하는 경향을 보인다. 이는 점차 비트레이트를 높이더라도 체감적인 품질 향상이 크지 않다는 것을 의미한다.</p>
<p>또한, 비트레이트 <span class="arithmatex"><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>가 커질수록 파일의 크기 <span class="arithmatex"><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span>도 함께 증가하며, 이 관계는 다음과 같은 함수로 나타낼 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
C = i(B)
</div>
<script type="math/tex; mode=display">
C = i(B)
</script>
</div>
<h3 id="_11">비디오 스트림의 프레임 레이트 변환</h3>
<p>비디오 포맷 변환 과정에서 프레임 레이트를 변경할 수 있다. 프레임 레이트는 비디오의 부드러움과 관련된 중요한 요소로, 보통 초당 프레임 수(fps)로 표현된다. 이를 변경하려면 <code>-r</code> 옵션을 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -r 30 output.mp4
</code></pre>
<p>위 명령어는 비디오의 프레임 레이트를 30fps로 설정하여 변환한다. 프레임 레이트를 높이면 더 부드러운 비디오를 얻을 수 있지만, 그만큼 파일 크기도 커지게 된다.</p>
<h3 id="_12">특정 시간대 비디오 추출</h3>
<p>FFMPEG을 사용하여 비디오의 특정 구간을 추출할 수 있다. 이를 위해 <code>-ss</code>(시작 시간)와 <code>-t</code>(지속 시간) 옵션을 사용할 수 있다. 예를 들어, 비디오 파일에서 1분부터 30초간의 구간을 추출하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ss 00:01:00 -t 00:00:30 output.mp4
</code></pre>
<p>여기서 <code>-ss 00:01:00</code>은 1분부터 시작하라는 의미이고, <code>-t 00:00:30</code>은 30초 동안의 구간을 추출하라는 뜻이다. 이를 통해 특정 구간만 추출하여 새로운 비디오 파일로 저장할 수 있다.</p>
<h3 id="_13">비디오 필터 적용</h3>
<p>비디오 포맷을 변환하는 과정에서 다양한 비디오 필터를 적용하여 출력 파일의 품질이나 스타일을 조정할 수 있다. FFMPEG은 필터 체인을 사용하여 여러 필터를 동시에 적용할 수 있다. 비디오 필터는 <code>-vf</code>(비디오 필터) 옵션을 통해 설정할 수 있으며, 대표적인 필터로는 <code>scale</code>, <code>crop</code>, <code>rotate</code> 등이 있다.</p>
<p>예를 들어, 비디오를 회전시키고 해상도를 조정하는 필터를 동시에 적용하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale=1280:720, rotate=PI/2&quot; output.mp4
</code></pre>
<p>여기서 <code>scale=1280:720</code>은 해상도를 1280x720으로 조정하는 필터이며, <code>rotate=PI/2</code>는 비디오를 90도 회전시키는 필터이다.</p>
<h3 id="_14">비디오 필터와 행렬 표현</h3>
<p>비디오 필터를 적용하는 과정은 수학적으로 다양한 행렬 연산을 통해 모델링될 수 있다. 예를 들어, 비디오의 회전은 회전 행렬 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>을 통해 다음과 같이 나타낼 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{R} = 
\begin{pmatrix}
\cos \theta &amp; -\sin \theta \\
\sin \theta &amp; \cos \theta
\end{pmatrix}
</div>
<script type="math/tex; mode=display">
\mathbf{R} = 
\begin{pmatrix}
\cos \theta & -\sin \theta \\
\sin \theta & \cos \theta
\end{pmatrix}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>는 회전 각도를 나타내며, FFMPEG의 <code>rotate</code> 필터에서는 이 각도를 라디안 값으로 설정할 수 있다. 예를 들어, 90도 회전은 <span class="arithmatex"><span class="MathJax_Preview">\theta = \frac{\pi}{2}</span><script type="math/tex">\theta = \frac{\pi}{2}</script></span>로 설정된다.</p>
<h3 id="_15">비디오 해상도 변환과 행렬</h3>
<p>해상도 변환은 비디오 프레임의 크기를 조정하는 작업으로, 이를 수학적으로 해석하면 해상도 조정은 선형 변환 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{S}</span><script type="math/tex">\mathbf{S}</script></span>을 통해 비디오 프레임의 각 픽셀 위치를 변경하는 작업이다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{S} = 
\begin{pmatrix}
s_x &amp; 0 \\
0 &amp; s_y
\end{pmatrix}
</div>
<script type="math/tex; mode=display">
\mathbf{S} = 
\begin{pmatrix}
s_x & 0 \\
0 & s_y
\end{pmatrix}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">s_x</span><script type="math/tex">s_x</script></span>와 <span class="arithmatex"><span class="MathJax_Preview">s_y</span><script type="math/tex">s_y</script></span>는 각각 가로와 세로 해상도를 조정하는 비율을 나타낸다. 예를 들어, 원본 비디오가 1920x1080 해상도일 때, 1280x720으로 변환하는 것은 각각의 축에서 0.67의 비율로 축소하는 것을 의미한다.</p>
<h3 id="_16">자막 추가</h3>
<p>FFMPEG을 사용하여 비디오에 자막을 추가할 수 있다. 자막 파일은 보통 <code>.srt</code> 포맷으로 제공되며, 이를 비디오에 적용하려면 <code>-vf subtitles</code> 필터를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf subtitles=subtitles.srt output.mp4
</code></pre>
<p>여기서 <code>subtitles.srt</code>는 자막 파일을 가리키며, 이 자막이 비디오에 오버레이되는 방식으로 적용된다. FFMPEG은 자막의 위치, 폰트, 크기 등을 커스터마이징할 수 있는 기능을 제공한다.</p>
<h3 id="_17">자막 인코딩</h3>
<p>FFMPEG은 자막을 별도의 트랙으로 인코딩할 수 있다. 이는 비디오의 자막이 선택적으로 켜거나 꺼질 수 있도록 해주며, <code>-c:s</code> 옵션을 사용하여 자막 코덱을 설정할 수 있다. 예를 들어, <code>mov_text</code> 코덱을 사용하여 MP4 파일에 자막을 추가하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -i subtitles.srt -c:s mov_text output.mp4
</code></pre>
<p>여기서 <code>mov_text</code>는 자막을 위한 코덱이며, 이를 통해 비디오 파일 내에 자막 트랙을 포함시킬 수 있다.</p>
<h3 id="_18">오디오 포맷 변환</h3>
<p>비디오 포맷을 변환하는 것뿐만 아니라, 비디오에 포함된 오디오 스트림을 다른 포맷으로 변환할 수 있다. 오디오 포맷 변환은 주로 오디오 코덱과 비트레이트를 조정하는 과정에서 이루어지며, FFMPEG에서 제공하는 다양한 옵션을 통해 처리할 수 있다. 예를 들어, MP3 포맷으로 오디오를 변환하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:a libmp3lame -b:a 192k output.mp3
</code></pre>
<p>여기서 <code>-c:a libmp3lame</code>는 MP3 오디오 코덱을 사용하라는 의미이고, <code>-b:a 192k</code>는 오디오 비트레이트를 192kbps로 설정한다.</p>
<h3 id="_19">오디오 스트림 추출</h3>
<p>비디오 파일에서 오디오 스트림만 추출하여 별도의 파일로 저장할 수 있다. 이는 비디오에서 오디오만 필요할 때 유용하며, 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vn -c:a copy output.aac
</code></pre>
<p>여기서 <code>-vn</code>은 비디오 스트림을 제거하고 오디오 스트림만 남긴다는 의미이고, <code>-c:a copy</code>는 원본 오디오 코덱을 그대로 유지하여 복사하는 옵션이다.</p>
<h3 id="_20">오디오 필터 적용</h3>
<p>FFMPEG을 사용하여 오디오에 필터를 적용할 수 있으며, 이를 통해 오디오의 특성을 조정하거나 효과를 추가할 수 있다. 대표적인 오디오 필터로는 볼륨 조절, 오디오 채널 변환, 리버브(잔향) 효과 등이 있다. 예를 들어, 볼륨을 두 배로 증가시키는 오디오 필터는 다음과 같이 설정할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -af &quot;volume=2.0&quot; output.mp4
</code></pre>
<p>여기서 <code>-af</code>는 오디오 필터를 적용하는 옵션이며, <code>volume=2.0</code>은 오디오 볼륨을 두 배로 증가시키라는 의미이다.</p>
<h3 id="_21">오디오 채널 변환</h3>
<p>오디오 채널을 변환하여 모노, 스테레오 등의 설정을 변경할 수 있다. 예를 들어, 스테레오 오디오를 모노 오디오로 변환하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ac 1 output.mp4
</code></pre>
<p>여기서 <code>-ac 1</code>은 오디오 채널 수를 1개로 설정하여 모노 오디오로 변환하는 옵션이다.</p>
<h3 id="_22">오디오 변환 시의 수학적 모델링</h3>
<p>오디오 포맷 변환과 필터 적용 과정은 수학적으로도 설명될 수 있다. 예를 들어, 오디오 볼륨을 두 배로 증가시키는 것은 오디오 신호 <span class="arithmatex"><span class="MathJax_Preview">A(t)</span><script type="math/tex">A(t)</script></span>를 일정한 배율 <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>로 곱하는 것으로 표현된다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
A'(t) = \alpha \cdot A(t)
</div>
<script type="math/tex; mode=display">
A'(t) = \alpha \cdot A(t)
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">A'(t)</span><script type="math/tex">A'(t)</script></span>는 볼륨이 조정된 오디오 신호이며, <span class="arithmatex"><span class="MathJax_Preview">\alpha = 2.0</span><script type="math/tex">\alpha = 2.0</script></span>인 경우 오디오 볼륨이 두 배로 증가한다.</p>
<h3 id="_23">여러 입력 파일 병합</h3>
<p>FFMPEG을 사용하여 여러 개의 비디오 또는 오디오 파일을 하나의 파일로 병합할 수 있다. 이를 위해 여러 입력 파일을 지정하고 <code>concat</code> 필터를 사용할 수 있다. 예를 들어, 두 개의 MP4 파일을 병합하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input1.mp4 -i input2.mp4 -filter_complex &quot;[0:v][1:v]concat=n=2:v=1:a=0&quot; output.mp4
</code></pre>
<p>여기서 <code>concat=n=2:v=1:a=0</code>는 두 개의 비디오 파일을 하나로 병합하되, 오디오는 제외한다는 의미이다. 만약 오디오도 함께 병합하려면 <code>a=1</code>로 설정할 수 있다.</p>
<h3 id="_24">파일 분할</h3>
<p>비디오 파일을 일정한 시간 간격으로 분할하여 여러 파일로 나눌 수 있다. 예를 들어, 10분짜리 비디오 파일을 2분씩 분할하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c copy -f segment -segment_time 120 output%03d.mp4
</code></pre>
<p>여기서 <code>-f segment</code>는 파일을 분할하는 포맷을 의미하며, <code>-segment_time 120</code>은 120초(2분) 단위로 분할하라는 옵션이다. <code>output%03d.mp4</code>는 분할된 파일의 이름을 지정하는데, <code>%03d</code>는 파일 번호가 3자리 숫자로 추가됨을 의미한다.</p>
<h3 id="_25">파일 자르기</h3>
<p>비디오 파일의 특정 구간을 잘라내어 필요한 부분만 새로운 파일로 저장할 수 있다. 이를 위해 <code>-ss</code>와 <code>-to</code> 옵션을 사용할 수 있다. 예를 들어, 1분 30초부터 3분 15초까지의 구간만 잘라내려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ss 00:01:30 -to 00:03:15 -c copy output.mp4
</code></pre>
<p>여기서 <code>-ss 00:01:30</code>은 시작 시간을 1분 30초로 설정하고, <code>-to 00:03:15</code>은 종료 시간을 3분 15초로 설정한다. <code>-c copy</code>는 인코딩 없이 원본 코덱을 그대로 유지하면서 자르기를 수행한다는 의미이다.</p>
<h3 id="_26">파일 길이 조정</h3>
<p>비디오 파일의 길이를 조정하여 시간을 압축하거나 확장할 수 있다. 이는 보통 비디오 속도와 관련이 있으며, <code>-filter:v "setpts"</code> 필터를 사용하여 설정할 수 있다. 예를 들어, 비디오의 속도를 두 배로 빠르게 하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -filter:v &quot;setpts=0.5*PTS&quot; output.mp4
</code></pre>
<p>여기서 <code>setpts=0.5*PTS</code>는 비디오 타임스탬프를 절반으로 줄여 비디오의 재생 속도를 두 배로 빠르게 한다는 의미이다. 반대로 속도를 느리게 하고 싶다면, 배율을 2.0으로 설정할 수 있다.</p>
<h3 id="_27">비디오에서 오디오 추출</h3>
<p>비디오 파일에서 오디오 스트림만 추출하여 별도의 파일로 저장할 수 있다. 이를 위해 <code>-vn</code>(비디오 제외) 옵션을 사용할 수 있다. 예를 들어, MP4 파일에서 AAC 오디오를 추출하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vn -c:a copy output.aac
</code></pre>
<p>여기서 <code>-vn</code>은 비디오를 제외하고, <code>-c:a copy</code>는 오디오를 인코딩 없이 그대로 복사하라는 의미이다.</p>
<h3 id="_28">오디오에서 비디오 추출</h3>
<p>오디오 파일에 비디오가 포함된 경우, 오디오만 제외하고 비디오만 추출할 수 있다. 이를 위해 <code>-an</code>(오디오 제외) 옵션을 사용하면 된다. 예를 들어, 비디오 파일에서 오디오를 제외하고 비디오만 추출하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -an -c:v copy output.mp4
</code></pre>
<p>여기서 <code>-an</code>은 오디오를 제외하고, <code>-c:v copy</code>는 비디오를 인코딩 없이 그대로 복사하라는 의미이다.</p>
<h3 id="_29">특정 시간대 비디오 추출</h3>
<p>비디오의 특정 구간을 추출하려면 시작 시간과 종료 시간을 명시하여 필요한 부분만 추출할 수 있다. 예를 들어, 2분부터 5분까지의 비디오를 추출하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ss 00:02:00 -to 00:05:00 -c copy output.mp4
</code></pre>
<p>이 명령어는 2분부터 5분까지의 구간만 추출하여 새로운 비디오 파일로 저장한다.</p>
<h3 id="_30">특정 시간대 오디오 추출</h3>
<p>비디오 파일에서 특정 구간의 오디오만 추출할 수도 있다. 예를 들어, 1분부터 2분 30초까지의 구간을 추출하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ss 00:01:00 -to 00:02:30 -vn -c:a copy output.aac
</code></pre>
<p>이 명령어는 1분부터 2분 30초까지의 구간에서 오디오만 추출하여 AAC 파일로 저장한다.</p>
<h3 id="_31">비디오 자르기 및 병합</h3>
<p>비디오의 여러 구간을 잘라내어 병합할 수 있다. 이를 위해 먼저 각 구간을 잘라낸 후, <code>concat</code> 필터를 사용하여 병합할 수 있다. 예를 들어, 1분부터 2분 구간과 3분부터 4분 구간을 병합하려면 먼저 각 구간을 잘라내고, 이를 병합할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ss 00:01:00 -to 00:02:00 -c copy part1.mp4
ffmpeg -i input.mp4 -ss 00:03:00 -to 00:04:00 -c copy part2.mp4
ffmpeg -i &quot;concat:part1.mp4|part2.mp4&quot; -c copy output.mp4
</code></pre>
<p>이 명령어는 두 구간을 잘라내어 각각의 파일로 저장한 후, 두 파일을 하나로 병합한다.</p>
<h3 id="_32">오디오 자르기 및 병합</h3>
<p>오디오 파일도 비슷한 방식으로 잘라내고 병합할 수 있다. 다음 명령어는 오디오의 두 구간을 잘라내고 병합하는 예시이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ss 00:00:30 -to 00:01:00 -vn -c:a copy audio_part1.aac
ffmpeg -i input.mp4 -ss 00:02:00 -to 00:02:30 -vn -c:a copy audio_part2.aac
ffmpeg -i &quot;concat:audio_part1.aac|audio_part2.aac&quot; -c copy output.aac
</code></pre>
<p>이 명령어는 오디오의 두 구간을 잘라내어 병합한다.</p>
<h3 id="_33">비디오/오디오 동기화</h3>
<p>비디오와 오디오가 동기화되지 않는 경우, FFMPEG을 사용하여 이를 조정할 수 있다. 오디오 스트림을 앞당기거나 지연시키기 위해 <code>-itsoffset</code> 옵션을 사용할 수 있다. 예를 들어, 오디오를 1초 앞당기려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -itsoffset -00:00:01 -i input.mp4 -map 0:v -map 1:a -c copy output.mp4
</code></pre>
<p>여기서 <code>-itsoffset -00:00:01</code>은 오디오 스트림을 1초 앞당긴다는 의미이다.</p>
<h3 id="_34">메타데이터 관리</h3>
<p>FFMPEG은 비디오 파일에 포함된 메타데이터를 읽고 수정할 수 있는 기능을 제공한다. 메타데이터는 파일의 제목, 저작권 정보, 제작자, 앨범 정보 등과 같은 부가적인 데이터를 포함한다. 메타데이터를 확인하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4
</code></pre>
<p>이 명령어는 입력 파일의 메타데이터를 포함한 다양한 정보를 출력한다.</p>
<h3 id="_35">메타데이터 추가 및 수정</h3>
<p>비디오 파일에 메타데이터를 추가하거나 수정하려면 <code>-metadata</code> 옵션을 사용할 수 있다. 예를 들어, 비디오 파일의 제목과 저작권 정보를 추가하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -metadata title=&quot;Sample Video&quot; -metadata copyright=&quot;Copyright 2024&quot; output.mp4
</code></pre>
<p>이 명령어는 비디오 파일의 메타데이터에 제목과 저작권 정보를 추가한다.</p>
<h3 id="_36">스트리밍 설정</h3>
<p>FFMPEG은 비디오 파일을 스트리밍할 수 있도록 설정할 수 있으며, 이를 위해 주로 RTMP(Real-Time Messaging Protocol) 또는 HTTP를 사용한다. 스트리밍 설정을 하려면 먼저 비디오 파일을 적절한 포맷으로 인코딩한 후, 스트리밍 서버로 전송해야 한다.</p>
<p>예를 들어, RTMP 프로토콜을 사용하여 스트리밍 서버로 비디오를 전송하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -re -i input.mp4 -c:v libx264 -f flv rtmp://server/live/stream
</code></pre>
<p>여기서 <code>-re</code>는 입력 파일의 재생 속도를 그대로 유지하면서 스트리밍한다는 의미이며, <code>-f flv</code>는 RTMP 프로토콜에서 주로 사용되는 FLV 포맷으로 비디오를 전송하라는 뜻이다.</p>
<h3 id="_37">라이브 스트리밍 변환</h3>
<p>라이브 스트리밍을 설정할 때 FFMPEG을 사용하여 실시간으로 비디오를 인코딩하고 변환할 수 있다. 라이브 스트리밍 시에는 실시간 비디오 입력을 처리해야 하며, 예를 들어 카메라에서 직접 비디오를 받아 변환할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -f v4l2 -i /dev/video0 -c:v libx264 -f flv rtmp://server/live/stream
</code></pre>
<p>이 명령어는 카메라 <code>/dev/video0</code>에서 입력을 받아 RTMP 서버로 스트리밍하는 예시이다. 이때 비디오 인코딩은 H.264로 설정된다.</p>
<h3 id="rtmphttp">RTMP/HTTP 스트리밍 설정</h3>
<p>FFMPEG을 사용하여 RTMP나 HTTP 프로토콜을 통해 스트리밍을 설정할 수 있다. RTMP는 실시간 스트리밍에 자주 사용되며, HTTP는 비디오 파일을 요청에 따라 제공하는 데 사용된다. HTTP를 통해 스트리밍을 설정하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -f mpegts http://localhost:8080
</code></pre>
<p>이 명령어는 MPEG-TS 포맷을 사용하여 HTTP 서버를 통해 비디오를 제공하는 예시이다.</p>
<h3 id="_38">다중 트랙 지원</h3>
<p>FFMPEG은 하나의 비디오 파일에서 여러 개의 트랙(비디오, 오디오, 자막 등)을 지원하며, 이를 병합하거나 분리할 수 있다. 예를 들어, 비디오 파일에서 오디오와 비디오 트랙을 각각 추출하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -map 0:v -map 0:a -c copy video_only.mp4 -c copy audio_only.mp4
</code></pre>
<p>이 명령어는 비디오 트랙과 오디오 트랙을 별도의 파일로 저장한다.</p>
<h3 id="_39">비디오 속도 조정</h3>
<p>비디오의 속도를 조정하려면 <code>-filter:v "setpts"</code> 필터를 사용하여 비디오의 재생 시간을 변경할 수 있다. 예를 들어, 비디오의 속도를 2배로 빠르게 하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -filter:v &quot;setpts=0.5*PTS&quot; output.mp4
</code></pre>
<p>여기서 <code>setpts=0.5*PTS</code>는 비디오의 시간을 절반으로 줄여 속도를 두 배로 빠르게 한다는 의미이다.</p>
<h3 id="_40">오디오 속도 조정</h3>
<p>오디오의 속도를 조정하려면 <code>-filter:a</code> 필터를 사용하여 재생 속도를 조정할 수 있다. 예를 들어, 오디오의 속도를 두 배로 빠르게 하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -filter:a &quot;atempo=2.0&quot; output.mp4
</code></pre>
<p>여기서 <code>atempo=2.0</code>은 오디오의 속도를 두 배로 빠르게 한다는 의미이다. 반대로, 속도를 느리게 하려면 <code>atempo=0.5</code>로 설정할 수 있다.</p>
<h3 id="_41">비디오 품질 최적화</h3>
<p>비디오 품질을 최적화하려면 비트레이트, 코덱 설정, 해상도 등을 적절히 조정해야 한다. 특히 <code>-crf</code> 옵션은 비디오 품질과 파일 크기 사이의 균형을 맞추는 중요한 역할을 한다. 다음 명령어는 H.264 코덱을 사용하여 품질을 최적화하는 예시이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -crf 18 output.mp4
</code></pre>
<p>여기서 <code>-crf 18</code>은 고품질을 나타내며, 값이 낮을수록 더 높은 품질을 의미한다. 일반적으로 <code>-crf 18</code>에서 <code>-crf 23</code> 사이의 값이 권장된다.</p>
<h3 id="_42">오디오 품질 최적화</h3>
<p>오디오 품질을 최적화하려면 비트레이트와 코덱을 적절히 설정해야 한다. 오디오 비트레이트가 높을수록 품질이 높아지지만, 파일 크기 또한 커진다. 다음 명령어는 오디오 품질을 256kbps로 설정하는 예시이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -b:a 256k output.mp4
</code></pre>
<p>여기서 <code>-b:a 256k</code>는 오디오 비트레이트를 256kbps로 설정하는 옵션이다. 고품질 오디오를 원한다면 이 값을 더 높일 수 있다.</p>
<h3 id="_43">비디오 회전 및 뒤집기</h3>
<p>비디오를 회전하거나 뒤집는 작업은 FFMPEG에서 <code>transpose</code> 필터를 사용하여 수행할 수 있다. <code>transpose</code> 필터는 비디오를 90도 단위로 회전시킬 수 있으며, <code>vflip</code> 및 <code>hflip</code> 필터를 사용하여 비디오를 수직 및 수평으로 뒤집을 수 있다.</p>
<p>예를 들어, 비디오를 90도 시계 방향으로 회전하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;transpose=1&quot; output.mp4
</code></pre>
<p>여기서 <code>transpose=1</code>은 시계 방향으로 90도 회전시키는 필터다. 비디오를 180도 회전하려면 <code>transpose=2</code>를 사용할 수 있다.</p>
<p>비디오를 수직으로 뒤집으려면 <code>vflip</code> 필터를 사용하고, 수평으로 뒤집으려면 <code>hflip</code> 필터를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;vflip&quot; output.mp4
</code></pre>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;hflip&quot; output.mp4
</code></pre>
<h3 id="_44">비디오 화면 비율 조정</h3>
<p>비디오의 가로세로 비율(Aspect Ratio)을 조정하려면 <code>-aspect</code> 옵션을 사용하여 지정할 수 있다. 예를 들어, 16:9 비율로 비디오를 설정하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -aspect 16:9 output.mp4
</code></pre>
<p>이 옵션은 비디오의 가로세로 비율을 강제로 설정하는 역할을 하며, 원본 비율과 일치하지 않는 경우 비디오의 외관이 왜곡될 수 있다. 따라서 비율을 변경할 때는 해상도와 함께 조정하는 것이 중요하다.</p>
<h3 id="_45">오디오 채널 변환</h3>
<p>오디오 파일의 채널을 변환할 수 있으며, 예를 들어 스테레오 오디오를 모노 오디오로 변환하거나 그 반대로 설정할 수 있다. 이를 위해 <code>-ac</code> 옵션을 사용한다. 다음 명령어는 모노 오디오로 변환하는 예시이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -ac 1 output.mp4
</code></pre>
<p>여기서 <code>-ac 1</code>은 오디오를 모노로 변환하는 옵션이다. 반대로 스테레오로 변환하려면 <code>-ac 2</code>를 사용한다.</p>
<h3 id="_46">무손실 변환</h3>
<p>FFMPEG을 사용하여 품질을 손상시키지 않고 무손실로 변환할 수 있다. 이를 위해 무손실 코덱을 사용하거나 <code>-q:v 0</code> 옵션을 사용할 수 있다. 예를 들어, H.264 코덱을 사용하여 무손실 비디오를 생성하려면 다음과 같은 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -crf 0 output.mp4
</code></pre>
<p>여기서 <code>-crf 0</code>은 무손실 품질을 의미하며, 비디오의 품질을 유지하면서 압축을 수행한다. 하지만 무손실 변환은 파일 크기가 매우 커질 수 있다.</p>
<h3 id="_47">하드웨어 가속 설정</h3>
<p>FFMPEG은 하드웨어 가속을 지원하여 비디오 인코딩 및 디코딩 속도를 크게 향상시킬 수 있다. 이를 위해 GPU를 사용할 수 있으며, NVIDIA의 NVENC 또는 VAAPI와 같은 하드웨어 가속 기술을 사용할 수 있다.</p>
<p>예를 들어, NVIDIA GPU를 사용하여 H.264 비디오를 인코딩하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v h264_nvenc output.mp4
</code></pre>
<p>여기서 <code>h264_nvenc</code>는 NVIDIA NVENC를 사용하여 H.264 코덱으로 비디오를 인코딩한다는 의미이다.</p>
<h3 id="gpu">GPU 인코딩/디코딩</h3>
<p>GPU를 사용한 비디오 인코딩 및 디코딩은 CPU보다 훨씬 빠르게 처리될 수 있으며, 주로 대용량 비디오 파일을 다룰 때 유리하다. FFMPEG은 NVIDIA의 NVENC 및 AMD의 VCE와 같은 다양한 하드웨어 가속 옵션을 지원하며, 이를 통해 인코딩 속도를 크게 향상시킬 수 있다.</p>
<p>예를 들어, 다음 명령어는 NVIDIA NVENC를 사용하여 H.265 비디오를 인코딩하는 예시이다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v hevc_nvenc output.mp4
</code></pre>
<p>이 명령어는 H.265(HEVC) 코덱을 사용하여 비디오를 인코딩한다.</p>
<h3 id="_48">다중 코덱 사용</h3>
<p>FFMPEG은 하나의 파일 내에서 여러 개의 비디오 또는 오디오 코덱을 사용할 수 있다. 예를 들어, 비디오 스트림은 H.264 코덱으로, 오디오 스트림은 AAC 코덱으로 인코딩할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -c:v libx264 -c:a aac output.mp4
</code></pre>
<p>이 명령어는 비디오 스트림은 H.264 코덱으로, 오디오 스트림은 AAC 코덱으로 각각 인코딩한다.</p>
<h3 id="_49">다중 파일 변환</h3>
<p>FFMPEG을 사용하여 여러 파일을 동시에 변환할 수 있으며, 이를 위해 <code>-i</code> 옵션을 여러 번 사용할 수 있다. 예를 들어, 두 개의 비디오 파일을 동시에 변환하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input1.mp4 -i input2.mp4 -c:v libx264 output1.mp4 output2.mp4
</code></pre>
<p>이 명령어는 두 개의 입력 파일을 각각 변환하여 두 개의 출력 파일을 생성한다.</p>
<h3 id="_50">파일 포맷 자동 감지</h3>
<p>FFMPEG은 입력 파일의 포맷을 자동으로 감지하여 처리할 수 있다. 파일의 확장자나 내부 구조를 기반으로 포맷을 감지하며, 이에 따라 적절한 코덱을 선택하여 변환 작업을 수행한다. 이 과정에서 특별한 옵션을 지정하지 않아도 되므로 사용자는 입력 파일을 지정하기만 하면 된다.</p>
<h3 id="_51">실시간 미리보기</h3>
<p>FFMPEG을 사용하여 실시간으로 변환 중인 비디오의 미리보기를 확인할 수 있다. 변환 작업을 수행하면서 동시에 비디오를 화면에 출력하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -vf &quot;scale=1280:720&quot; -f sdl2 -
</code></pre>
<p>이 명령어는 변환 작업을 수행하는 동안 비디오를 1280x720 해상도로 축소하여 실시간으로 화면에 출력한다.</p>
<h3 id="ffmpeg">FFmpeg 로그 관리</h3>
<p>FFMPEG은 변환 과정에서 다양한 로그를 생성하며, 이 로그는 변환 상태를 모니터링하거나 오류를 디버깅하는 데 유용하다. 로그의 수준을 조정하려면 <code>-loglevel</code> 옵션을 사용할 수 있으며, <code>quiet</code>, <code>error</code>, <code>warning</code>, <code>info</code>, <code>verbose</code>, <code>debug</code>와 같은 다양한 수준을 지원한다.</p>
<p>예를 들어, 로그 수준을 <code>info</code>로 설정하려면 다음 명령어를 사용할 수 있다.</p>
<pre><code class="language-bash">ffmpeg -i input.mp4 -loglevel info output.mp4
</code></pre>
<p>이 명령어는 변환 과정에서 중요한 정보만 출력하는 로그 수준을 설정한다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../A007/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../A007/" class="btn btn-xs btn-link">
        오디오 포맷 변환
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../A005/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../A005/" class="btn btn-xs btn-link">
        출력 파일 포맷 설정
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>