<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/applied%20math/kalman%20filter/chapter%2008/084/">
    <link rel="shortcut icon" href="../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>검증 지표와 분석 도구 - 실험 도서관</title>
    <link href="../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../css/highlight.css">
    <link href="../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\ucd94\uc815 \uc624\ucc28 \uacf5\ubd84\uc0b0 (Estimation Error Covariance)", url: "#_top", children: [
          ]},
          {title: "\ud601\uc2e0 (Innovation) \ubc0f \ud601\uc2e0 \uacf5\ubd84\uc0b0", url: "#innovation", children: [
          ]},
          {title: "\ud3c9\uade0 \uc81c\uacf1 \uc624\ucc28 (Mean Squared Error, MSE)", url: "#mean-squared-error-mse", children: [
          ]},
          {title: "\uc815\uaddc\ud654 \ud601\uc2e0 \uc81c\uacf1 (Normalized Innovation Squared, NIS)", url: "#normalized-innovation-squared-nis", children: [
          ]},
          {title: "\uc2e4\uc2dc\uac04 \ud2b8\ub798\ud0b9 \uc624\ucc28 (Real-Time Tracking Error)", url: "#real-time-tracking-error", children: [
          ]},
          {title: "\ucd94\uc815 \uc624\ucc28(Eestimation Error)", url: "#eestimation-error", children: [
          ]},
          {title: "\ucd94\uc815 \uc624\ucc28 \uacf5\ubd84\uc0b0(Eestimation Error Covariance)", url: "#eestimation-error-covariance", children: [
          ]},
          {title: "\ud601\uc2e0(Innovation) \ubd84\uc11d", url: "#innovation_1", children: [
          ]},
          {title: "\ub85c\uadf8 \uac00\ub2a5\ub3c4 \ud568\uc218(Log-Likelihood Function)", url: "#log-likelihood-function", children: [
          ]},
          {title: "\ub204\uc801 \ud601\uc2e0 \uc81c\uacf1\ud569(Cumulative Sum of Squared Innovations, CSSI)", url: "#cumulative-sum-of-squared-innovations-cssi", children: [
          ]},
          {title: "\uc794\ucc28 \ubd84\uc11d(Residual Analysis)", url: "#residual-analysis", children: [
          ]},
          {title: "\ub2e4\uc591\ud55c \uc131\ub2a5 \uc9c0\ud45c\uc758 \uc885\ud569 \ubd84\uc11d", url: "#_1", children: [
          ]},
          {title: "\ub370\uc774\ud130 \uc2dc\uac01\ud654 \ub3c4\uad6c", url: "#_2", children: [
          ]},
          {title: "\ub85c\uadf8 \uac00\ub2a5\ub3c4 \ud568\uc218 (Log-Likelihood Function)", url: "#log-likelihood-function_1", children: [
          ]},
          {title: "\uc794\ucc28 \ubd84\uc11d (Residual Analysis)", url: "#residual-analysis_1", children: [
          ]},
          {title: "\ucc28\ubd84 \uc2dc\ud000\uc2a4\uc758 \ud1b5\uacc4\uc801 \ubd84\uc11d (Statistical Analysis of Difference Sequences)", url: "#statistical-analysis-of-difference-sequences", children: [
          ]},
          {title: "\uc2dc\uac01\ud654 \ub3c4\uad6c (Visualization Tools)", url: "#visualization-tools", children: [
          ]},
          {title: "\uc794\ucc28 \ubd84\uc11d (Residual Analysis)", url: "#residual-analysis_2", children: [
          ]},
          {title: "\ub85c\uadf8 \uc6b0\ub3c4 (Log-Likelihood)", url: "#log-likelihood", children: [
          ]},
          {title: "\uc790\uac00 \uc0c1\uad00 (Autocorrelation) \uac80\uc815", url: "#autocorrelation", children: [
          ]},
          {title: "\ubaac\ud14c\uce74\ub97c\ub85c \uc2dc\ubbac\ub808\uc774\uc158 (Monte Carlo Simulation)", url: "#monte-carlo-simulation", children: [
          ]},
          {title: "\ucc28\uc774 \ubd84\uc11d (Difference Analysis)", url: "#difference-analysis", children: [
          ]},
          {title: "\uc2e4\uc2dc\uac04 \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c", url: "#_3", children: [
          ]},
        ];

    </script>
    <script src="../../../../js/base.js"></script>
      <script src="../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter%2009/091/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter%2009/091/" class="btn btn-xs btn-link">
        정보 필터(Information Filter)
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../083/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../083/" class="btn btn-xs btn-link">
        실제 데이터 적용 사례
      </a>
    </div>
    
  </div>

    

    <h3 id="estimation-error-covariance">추정 오차 공분산 (Estimation Error Covariance)</h3>
<p>칼만 필터의 성능을 평가하기 위한 가장 기본적인 지표 중 하나는 추정 오차 공분산이다. 추정 오차는 필터에서 계산된 상태 추정치와 실제 상태 간의 차이로 정의된다. 이를 수식으로 표현하면 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{e}_k = \mathbf{x}_k - \hat{\mathbf{x}}_k
</div>
<script type="math/tex; mode=display">
\mathbf{e}_k = \mathbf{x}_k - \hat{\mathbf{x}}_k
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_k</span><script type="math/tex">\mathbf{x}_k</script></span>는 실제 상태 벡터,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\hat{\mathbf{x}}_k</span><script type="math/tex">\hat{\mathbf{x}}_k</script></span>는 추정된 상태 벡터,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{e}_k</span><script type="math/tex">\mathbf{e}_k</script></span>는 오차 벡터이다.</p>
<p>추정 오차 공분산은 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{P}_e = \mathbb{E}[\mathbf{e}_k \mathbf{e}_k^\top]
</div>
<script type="math/tex; mode=display">
\mathbf{P}_e = \mathbb{E}[\mathbf{e}_k \mathbf{e}_k^\top]
</script>
</div>
<p>이 공분산 행렬 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_e</span><script type="math/tex">\mathbf{P}_e</script></span>는 상태 추정의 불확실성을 나타내며, 이 값이 작을수록 필터의 추정 성능이 좋음을 의미한다. 일반적으로 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_e</span><script type="math/tex">\mathbf{P}_e</script></span>는 필터의 이론적 성능을 예측하기 위해 필터 설계 과정에서 계산되며, 실제 적용 과정에서도 이 값이 가능한 한 작도록 필터를 조정한다.</p>
<h3 id="innovation">혁신 (Innovation) 및 혁신 공분산</h3>
<p>칼만 필터에서 또 다른 중요한 분석 도구는 혁신 벡터(또는 잔차) <span class="arithmatex"><span class="MathJax_Preview">\mathbf{v}_k</span><script type="math/tex">\mathbf{v}_k</script></span>와 혁신 공분산 행렬 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{S}_k</span><script type="math/tex">\mathbf{S}_k</script></span>이다. 혁신 벡터는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{v}_k = \mathbf{z}_k - \mathbf{H}_k \hat{\mathbf{x}}_{k|k-1}
</div>
<script type="math/tex; mode=display">
\mathbf{v}_k = \mathbf{z}_k - \mathbf{H}_k \hat{\mathbf{x}}_{k|k-1}
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{z}_k</span><script type="math/tex">\mathbf{z}_k</script></span>는 관측된 측정치 벡터,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{H}_k</span><script type="math/tex">\mathbf{H}_k</script></span>는 측정 행렬,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\hat{\mathbf{x}}_{k|k-1}</span><script type="math/tex">\hat{\mathbf{x}}_{k|k-1}</script></span>는 시간 갱신 후의 상태 추정치이다.</p>
<p>혁신 벡터는 측정치와 예상 측정치 간의 차이를 나타내며, 이 값이 작을수록 필터의 상태 추정이 정확함을 의미한다.</p>
<p>혁신 공분산은 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{S}_k = \mathbf{H}_k \mathbf{P}_{k|k-1} \mathbf{H}_k^\top + \mathbf{R}_k
</div>
<script type="math/tex; mode=display">
\mathbf{S}_k = \mathbf{H}_k \mathbf{P}_{k|k-1} \mathbf{H}_k^\top + \mathbf{R}_k
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{k|k-1}</span><script type="math/tex">\mathbf{P}_{k|k-1}</script></span>는 시간 갱신 후의 추정 오차 공분산,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}_k</span><script type="math/tex">\mathbf{R}_k</script></span>는 측정 잡음 공분산이다.</p>
<p>혁신 공분산 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{S}_k</span><script type="math/tex">\mathbf{S}_k</script></span>는 혁신 벡터의 불확실성을 나타내며, 이 값이 실제 데이터에서 측정된 혁신 벡터와 잘 일치해야 필터가 올바르게 작동하고 있음을 시사한다.</p>
<h3 id="mean-squared-error-mse">평균 제곱 오차 (Mean Squared Error, MSE)</h3>
<p>평균 제곱 오차는 추정치의 정확성을 평가하는 일반적인 방법이다. 필터가 여러 시간 단계에 걸쳐 생성한 추정치의 오차의 제곱을 평균 내어 계산한다. 수식으로는 다음과 같이 표현된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\text{MSE} = \frac{1}{N} \sum_{k=1}^{N} \|\mathbf{x}_k - \hat{\mathbf{x}}_k\|^2
</div>
<script type="math/tex; mode=display">
\text{MSE} = \frac{1}{N} \sum_{k=1}^{N} \|\mathbf{x}_k - \hat{\mathbf{x}}_k\|^2
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span>은 총 시간 단계 수,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\|\cdot\|</span><script type="math/tex">\|\cdot\|</script></span>는 벡터의 유클리드 노름이다.</p>
<p>MSE는 오차 벡터의 제곱 합의 평균으로, 이 값이 작을수록 필터의 성능이 우수함을 의미한다. MSE는 단일 지표로 필터의 성능을 쉽게 비교할 수 있는 장점이 있다.</p>
<h3 id="normalized-innovation-squared-nis">정규화 혁신 제곱 (Normalized Innovation Squared, NIS)</h3>
<p>NIS는 혁신 벡터의 크기가 정상적으로 분포하는지 여부를 판단하는 데 사용되는 지표이다. 이는 다음과 같이 계산된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\text{NIS} = \mathbf{v}_k^\top \mathbf{S}_k^{-1} \mathbf{v}_k
</div>
<script type="math/tex; mode=display">
\text{NIS} = \mathbf{v}_k^\top \mathbf{S}_k^{-1} \mathbf{v}_k
</script>
</div>
<p>NIS는 분포 검정(statistical test)의 형태로 사용될 수 있으며, 일반적으로 <span class="arithmatex"><span class="MathJax_Preview">\chi^2</span><script type="math/tex">\chi^2</script></span> 분포를 따르는지 여부를 통해 필터의 적합성을 평가한다. 기대값에서 벗어난 NIS 값은 필터가 잘못된 가정을 하고 있거나 모델이 실제 시스템을 잘 나타내지 못하는 신호일 수 있다.</p>
<h3 id="real-time-tracking-error">실시간 트래킹 오차 (Real-Time Tracking Error)</h3>
<p>실제 시스템에서 칼만 필터의 성능을 평가할 때, 필터가 실시간으로 생성하는 상태 추정치와 실제 상태 간의 오차를 모니터링하는 것이 중요하다. 이 오차는 다음과 같이 계산된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\text{Tracking Error}_k = \|\mathbf{x}_k - \hat{\mathbf{x}}_k\|
</div>
<script type="math/tex; mode=display">
\text{Tracking Error}_k = \|\mathbf{x}_k - \hat{\mathbf{x}}_k\|
</script>
</div>
<p>Tracking Error는 필터의 상태 추정이 시간에 따라 어떻게 변화하는지 실시간으로 평가할 수 있는 도구이다. 특히, 시스템의 동적 환경에서 필터의 적응성을 평가하는 데 유용하다.</p>
<p>칼만 필터의 성능을 평가하고 검증하기 위해서는 다양한 지표와 분석 도구를 활용하여 추정 결과의 정확도와 신뢰성을 판단해야 한다. 이 섹션에서는 칼만 필터의 성능을 평가하는 데 사용되는 주요 지표와 이를 분석하기 위한 도구들에 대해 상세히 설명하겠다.</p>
<h3 id="eestimation-error">추정 오차(Eestimation Error)</h3>
<p>칼만 필터의 핵심 목표는 시스템의 상태를 가능한 정확하게 추정하는 것이다. 따라서 추정 오차는 성능 평가의 중요한 기준이 된다.</p>
<ul>
<li><strong>추정 오차 정의</strong>: 추정 오차는 실제 상태 <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_t</span><script type="math/tex">\mathbf{x}_t</script></span></strong>와 필터가 추정한 상태 <strong><span class="arithmatex"><span class="MathJax_Preview">\hat{\mathbf{x}}_t</span><script type="math/tex">\hat{\mathbf{x}}_t</script></span></strong> 사이의 차이로 정의된다.</li>
</ul>
<p>$$
  \mathbf{e}_t = \mathbf{x}_t - \hat{\mathbf{x}}_t</p>
<p>$$</p>
<p>여기서, <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{e}_t</span><script type="math/tex">\mathbf{e}_t</script></span></strong>는 시간 <strong><span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span></strong>에서의 추정 오차를 나타낸다.</p>
<ul>
<li><strong>평균 추정 오차(Mean Estimation Error)</strong>: </li>
</ul>
<p>$$
  \mathbf{\bar{e}} = \frac{1}{N} \sum_{t=1}^{N} \mathbf{e}_t</p>
<p>$$</p>
<p>필터의 오차가 평균적으로 0에 가까운지를 확인함으로써, 필터가 바이어스 없는 추정을 하고 있는지 판단할 수 있다.</p>
<h3 id="eestimation-error-covariance">추정 오차 공분산(Eestimation Error Covariance)</h3>
<ul>
<li><strong>추정 오차 공분산 정의</strong>: 추정 오차의 공분산 행렬 <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_t</span><script type="math/tex">\mathbf{P}_t</script></span></strong>는 다음과 같이 정의된다.</li>
</ul>
<p>$$
  \mathbf{P}_t = \mathbb{E}[\mathbf{e}_t \mathbf{e}_t^T]</p>
<p>$$</p>
<p>이 행렬은 추정 오차의 분산과 상태 변수 간의 공분산을 나타낸다.</p>
<ul>
<li><strong>필터 성능 평가</strong>: <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_t</span><script type="math/tex">\mathbf{P}_t</script></span></strong>가 작을수록 필터가 상태를 정확하게 추정하고 있음을 의미한다. 특히, <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_t</span><script type="math/tex">\mathbf{P}_t</script></span></strong>는 필터의 불확실성을 나타내는 지표로도 사용되며, 시스템의 불확실성에 대해 필터가 어떻게 반응하는지를 평가할 수 있다.</li>
</ul>
<h3 id="innovation_1">혁신(Innovation) 분석</h3>
<ul>
<li><strong>혁신(Innovation)</strong>: 혁신 <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{v}_t</span><script type="math/tex">\mathbf{v}_t</script></span></strong>는 예측된 관측치와 실제 관측치 간의 차이로 정의된다.</li>
</ul>
<p>$$
  \mathbf{v}<em>t = \mathbf{z}_t - \mathbf{H}_t \hat{\mathbf{x}}</em>{t|t-1}</p>
<p>$$</p>
<p>여기서, <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{z}_t</span><script type="math/tex">\mathbf{z}_t</script></span></strong>는 시간 <strong><span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span></strong>에서의 실제 관측치, <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{H}_t</span><script type="math/tex">\mathbf{H}_t</script></span></strong>는 관측 행렬, <strong><span class="arithmatex"><span class="MathJax_Preview">\hat{\mathbf{x}}_{t|t-1}</span><script type="math/tex">\hat{\mathbf{x}}_{t|t-1}</script></span></strong>는 시간 <strong><span class="arithmatex"><span class="MathJax_Preview">t-1</span><script type="math/tex">t-1</script></span></strong>에서 예측한 상태이다.</p>
<ul>
<li><strong>혁신 공분산(Innovation Covariance)</strong>: 혁신의 공분산 <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{S}_t</span><script type="math/tex">\mathbf{S}_t</script></span></strong>는 다음과 같이 정의된다.</li>
</ul>
<p>$$
  \mathbf{S}<em>t = \mathbf{H}_t \mathbf{P}</em>{t|t-1} \mathbf{H}_t^T + \mathbf{R}_t</p>
<p>$$</p>
<p>여기서, <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{t|t-1}</span><script type="math/tex">\mathbf{P}_{t|t-1}</script></span></strong>는 예측된 오차 공분산, <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}_t</span><script type="math/tex">\mathbf{R}_t</script></span></strong>는 측정 노이즈 공분산이다.</p>
<ul>
<li><strong>혁신 분석의 중요성</strong>: 혁신이 가우시안 분포를 따르며, 평균이 0에 가까워야 필터가 잘 동작하고 있음을 의미한다. 만약 혁신의 평균이 0에서 크게 벗어나거나, 혁신 공분산이 예상보다 크거나 작다면, 이는 모델의 오류, 초기 조건의 부정확성, 혹은 노이즈 모델의 부정확성 등을 시사할 수 있다.</li>
</ul>
<h3 id="log-likelihood-function">로그 가능도 함수(Log-Likelihood Function)</h3>
<p>로그 가능도 함수는 주어진 관측치 시퀀스에 대해 모델의 성능을 평가할 수 있는 또 다른 지표이다.</p>
<ul>
<li><strong>로그 가능도 정의</strong>: 칼만 필터에서 로그 가능도 함수 <strong><span class="arithmatex"><span class="MathJax_Preview">L(\mathbf{z}_{1:T})</span><script type="math/tex">L(\mathbf{z}_{1:T})</script></span></strong>는 다음과 같이 정의된다.</li>
</ul>
<p>$$
  L(\mathbf{z}<em>{1:T}) = -\frac{1}{2} \sum</em>{t=1}^{T} \left(\ln(\det(\mathbf{S}_t)) + \mathbf{v}_t^T \mathbf{S}_t^{-1} \mathbf{v}_t \right)</p>
<p>$$</p>
<p>여기서 <strong><span class="arithmatex"><span class="MathJax_Preview">\mathbf{z}_{1:T}</span><script type="math/tex">\mathbf{z}_{1:T}</script></span></strong>는 전체 관측치 시퀀스, <strong><span class="arithmatex"><span class="MathJax_Preview">\det(\mathbf{S}_t)</span><script type="math/tex">\det(\mathbf{S}_t)</script></span></strong>는 혁신 공분산의 행렬식을 의미한다.</p>
<ul>
<li><strong>로그 가능도의 역할</strong>: 로그 가능도는 필터가 주어진 관측치에 얼마나 잘 맞는지를 평가한다. 이 값이 높을수록 필터의 예측이 관측과 잘 일치함을 의미한다. 이는 주로 모델 파라미터 최적화 및 모델 검증에 사용된다.</li>
</ul>
<h3 id="cumulative-sum-of-squared-innovations-cssi">누적 혁신 제곱합(Cumulative Sum of Squared Innovations, CSSI)</h3>
<ul>
<li><strong>CSSI 정의</strong>: 누적 혁신 제곱합(CSSI)은 혁신의 제곱을 누적한 값으로, 다음과 같이 정의된다.</li>
</ul>
<p>$$
  \text{CSSI}(t) = \sum_{i=1}^{t} \mathbf{v}_i^T \mathbf{v}_i</p>
<p>$$</p>
<ul>
<li><strong>CSSI 분석</strong>: 이 값이 시간에 따라 급격히 증가하는 경우, 이는 필터가 모델링 오류나 변화하는 시스템 동역학에 대해 적절하게 대응하지 못하고 있음을 나타낼 수 있다. 따라서 CSSI는 필터의 안정성과 성능을 장기적으로 평가하는 데 유용하다.</li>
</ul>
<h3 id="residual-analysis">잔차 분석(Residual Analysis)</h3>
<p>잔차 분석은 필터의 성능을 평가하는 또 다른 방법으로, 주로 모델링 오류를 탐지하고 필터의 조정이 필요한 경우를 파악하는 데 사용된다.</p>
<ul>
<li>
<p><strong>잔차 정의</strong>: 잔차는 필터의 혁신과 비교하여 추가적인 분석을 통해 모델과 관측 간의 차이를 분석하는 도구이다.</p>
</li>
<li>
<p><strong>잔차의 자기상관(Autocorrelation of Residuals)</strong>: 이상적인 경우, 잔차는 시간에 대해 상관성이 없어야 한다. 즉, 잔차의 자기상관 함수(ACF)가 0에 가까워야 하며, 이는 필터가 모델에 대한 정확한 추정을 하고 있음을 시사한다.</p>
</li>
<li>
<p><strong>잔차의 정규성 검정(Test for Normality)</strong>: 잔차가 정규 분포를 따르는지 검정함으로써, 필터의 예측이 적절한지 평가할 수 있다. 비정규성은 모델링 오류를 나타낼 수 있다.</p>
</li>
</ul>
<h3 id="_1">다양한 성능 지표의 종합 분석</h3>
<p>지금까지 소개한 지표들은 칼만 필터의 성능을 다각도로 평가하는 데 중요한 역할을 한다. 각 지표가 필터의 성능을 평가하는 특정 측면을 나타내므로, 이들을 종합적으로 분석함으로써 필터의 전체적인 성능을 더욱 정확하게 판단할 수 있다. 이를 통해 필터의 튜닝, 모델의 개선, 혹은 보다 복잡한 필터링 방법으로의 전환 여부를 결정할 수 있다.</p>
<h3 id="_2">데이터 시각화 도구</h3>
<p>지표들의 결과를 직관적으로 이해하기 위해서는 시각화가 필수적이다. 대표적인 시각화 방법에는 다음이 포함된다.</p>
<ul>
<li><strong>시간에 따른 추정 오차와 오차 공분산의 변화 그래프</strong></li>
<li><strong>혁신과 잔차의 시간적 변화 그래프</strong></li>
<li><strong>혁신 공분산의 행렬식 변화 그래프</strong></li>
<li><strong>로그 가능도 함수의 변화 그래프</strong></li>
<li><strong>잔차의 자기상관 함수 그래프</strong></li>
</ul>
<p>이러한 그래프들은 필터가 시간에 따라 어떻게 동작하는지를 시각적으로 보여주며, 잠재적인 문제점을 빠르게 파악할 수 있도록 도와준다.</p>
<h3 id="log-likelihood-function_1">로그 가능도 함수 (Log-Likelihood Function)</h3>
<p>로그 가능도 함수는 칼만 필터가 주어진 데이터에 얼마나 잘 맞는지를 측정하는 지표로 사용된다. 가능도 함수는 관측된 데이터가 주어진 모델 및 필터 설정에서 발생할 확률을 나타내며, 그 로그 값을 통해 최적화를 용이하게 한다. 로그 가능도는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\log L(\theta) = -\frac{1}{2} \sum_{k=1}^{N} \left( \log \det(\mathbf{S}_k) + \mathbf{v}_k^\top \mathbf{S}_k^{-1} \mathbf{v}_k + m \log(2\pi) \right)
</div>
<script type="math/tex; mode=display">
\log L(\theta) = -\frac{1}{2} \sum_{k=1}^{N} \left( \log \det(\mathbf{S}_k) + \mathbf{v}_k^\top \mathbf{S}_k^{-1} \mathbf{v}_k + m \log(2\pi) \right)
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>는 필터 및 모델 파라미터,<br />
- <span class="arithmatex"><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>은 관측치 벡터 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{z}_k</span><script type="math/tex">\mathbf{z}_k</script></span>의 차원이다.</p>
<p>로그 가능도 함수의 값을 최대화하는 파라미터 <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>를 찾는 것은 필터의 최적화 문제와 직결된다. 높은 로그 가능도 값은 필터가 주어진 데이터에 잘 맞는다는 것을 의미하며, 이를 통해 필터의 적합성을 평가할 수 있다.</p>
<h3 id="residual-analysis_1">잔차 분석 (Residual Analysis)</h3>
<p>잔차 분석은 필터의 예측 성능을 평가하기 위한 또 다른 방법이다. 잔차(또는 혁신) 벡터 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{v}_k</span><script type="math/tex">\mathbf{v}_k</script></span>의 통계적 특성을 분석함으로써 필터가 제대로 작동하고 있는지 확인할 수 있다. 이상적인 경우, 잔차 벡터는 평균이 0이고, 공분산이 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{S}_k</span><script type="math/tex">\mathbf{S}_k</script></span>인 가우시안 분포를 따라야 한다.</p>
<p>잔차의 주요 분석 항목은 다음과 같다:
- <strong>평균</strong>: 잔차의 평균이 0에 가까워야 한다.
- <strong>분산</strong>: 잔차의 분산이 혁신 공분산 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{S}_k</span><script type="math/tex">\mathbf{S}_k</script></span>와 일치해야 한다.
- <strong>자기상관</strong>: 잔차 벡터 간의 자기상관(Autocorrelation)이 없어야 한다.</p>
<p>잔차 분석 결과는 필터의 모델링 정확도를 평가하는 데 중요한 역할을 하며, 필터의 성능을 향상시키기 위해 필요한 조정을 파악하는 데 유용하다.</p>
<h3 id="statistical-analysis-of-difference-sequences">차분 시퀀스의 통계적 분석 (Statistical Analysis of Difference Sequences)</h3>
<p>차분 시퀀스는 연속된 상태 추정치 간의 차이를 나타내며, 이를 통해 필터가 얼마나 잘 수렴하고 있는지 평가할 수 있다. 차분 시퀀스는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\Delta \hat{\mathbf{x}}_k = \hat{\mathbf{x}}_k - \hat{\mathbf{x}}_{k-1}
</div>
<script type="math/tex; mode=display">
\Delta \hat{\mathbf{x}}_k = \hat{\mathbf{x}}_k - \hat{\mathbf{x}}_{k-1}
</script>
</div>
<p>차분 시퀀스의 통계적 분석은 필터의 상태 추정치가 시간에 따라 안정적으로 변화하는지, 혹은 과도한 진동이나 드리프트가 있는지 확인하는 데 유용하다. 이 분석은 다음과 같은 지표를 포함한다:
- <strong>평균</strong>: 차분 시퀀스의 평균이 0에 가까운지 확인한다.
- <strong>분산</strong>: 차분 시퀀스의 분산이 특정 임계값 이하인지 평가한다.
- <strong>자기상관</strong>: 연속된 차분 시퀀스 간의 상관 관계를 평가하여 필터의 안정성을 분석한다.</p>
<h3 id="visualization-tools">시각화 도구 (Visualization Tools)</h3>
<p>필터 성능을 평가할 때, 다양한 시각화 도구를 활용하는 것이 중요하다. 시각적 표현은 수치적 지표가 제공하지 못하는 직관적인 이해를 도울 수 있다. 주요 시각화 도구는 다음과 같다:
- <strong>추정치와 실제 값의 비교 그래프</strong>: 시간에 따른 필터의 상태 추정치와 실제 상태 간의 차이를 그래프로 표시하여 필터의 성능을 직관적으로 평가할 수 있다.
- <strong>오차의 히스토그램</strong>: 추정 오차 벡터의 분포를 히스토그램으로 나타내어, 오차의 통계적 특성을 시각적으로 분석할 수 있다.
- <strong>잔차 플롯</strong>: 혁신 벡터 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{v}_k</span><script type="math/tex">\mathbf{v}_k</script></span>의 시간에 따른 변화를 플롯하여, 잔차의 패턴을 분석할 수 있다.
- <strong>NIS 값의 시계열 플롯</strong>: 시간에 따른 NIS 값을 플롯하여, 필터의 가정이 얼마나 잘 유지되고 있는지 시각적으로 평가할 수 있다.</p>
<p>이러한 시각화 도구는 필터의 설계 및 조정 과정에서 필수적인 역할을 하며, 필터의 성능을 직관적으로 이해하고 개선할 수 있는 정보를 제공한다. </p>
<h3 id="residual-analysis_2">잔차 분석 (Residual Analysis)</h3>
<p>잔차 분석은 칼만 필터의 성능을 검증하는 또 다른 방법이다. 잔차는 혁신 벡터와 유사하지만, 주로 추정된 측정치와 실제 측정치 간의 차이를 나타낸다. 잔차 벡터는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{r}_k = \mathbf{z}_k - \mathbf{H}_k \hat{\mathbf{x}}_k
</div>
<script type="math/tex; mode=display">
\mathbf{r}_k = \mathbf{z}_k - \mathbf{H}_k \hat{\mathbf{x}}_k
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{r}_k</span><script type="math/tex">\mathbf{r}_k</script></span>는 잔차 벡터,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\hat{\mathbf{x}}_k</span><script type="math/tex">\hat{\mathbf{x}}_k</script></span>는 측정 갱신 후의 상태 추정치이다.</p>
<p>잔차 벡터의 통계적 성질을 분석함으로써 필터의 성능을 평가할 수 있다. 잔차가 평균이 0이고, 공분산이 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}_k</span><script type="math/tex">\mathbf{R}_k</script></span>에 가까운지를 확인하여 필터가 정상적으로 작동하고 있는지를 판단한다. 잔차의 이상한 패턴(예: 지속적인 편향 또는 예상치 못한 변동성)은 필터 모델에 문제가 있을 가능성을 시사할 수 있다.</p>
<h3 id="log-likelihood">로그 우도 (Log-Likelihood)</h3>
<p>로그 우도는 관측된 데이터를 기반으로 필터의 성능을 정량화하는 강력한 방법이다. 칼만 필터에서, 시간 단계 <span class="arithmatex"><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span>에서의 로그 우도는 다음과 같이 계산된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\log p(\mathbf{z}_k | \mathbf{Z}_{k-1}) = -\frac{1}{2} \left( \log \det \mathbf{S}_k + \mathbf{v}_k^\top \mathbf{S}_k^{-1} \mathbf{v}_k + n \log(2\pi) \right)
</div>
<script type="math/tex; mode=display">
\log p(\mathbf{z}_k | \mathbf{Z}_{k-1}) = -\frac{1}{2} \left( \log \det \mathbf{S}_k + \mathbf{v}_k^\top \mathbf{S}_k^{-1} \mathbf{v}_k + n \log(2\pi) \right)
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{Z}_{k-1}</span><script type="math/tex">\mathbf{Z}_{k-1}</script></span>는 이전 시간 단계까지의 모든 측정치,<br />
- <span class="arithmatex"><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span>은 측정 벡터의 차원이다.</p>
<p>로그 우도는 필터가 특정 데이터 집합을 얼마나 잘 설명하는지를 나타내며, 필터의 성능을 비교하는 데 사용될 수 있다. 여러 시점에서의 로그 우도를 합산하여 전체 필터 성능을 평가할 수 있다. 이 값이 크면 클수록 필터가 데이터에 잘 맞는다는 것을 의미한다.</p>
<h3 id="autocorrelation">자가 상관 (Autocorrelation) 검정</h3>
<p>자가 상관 검정은 잔차가 시간에 따라 독립적인지를 평가하는 방법이다. 자가 상관이 있다면, 이는 필터가 시스템의 동적 특성을 제대로 포착하지 못하고 있음을 나타낼 수 있다. 자가 상관 함수는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\rho(\tau) = \frac{\mathbb{E}[(\mathbf{r}_k - \mathbb{E}[\mathbf{r}_k])^\top (\mathbf{r}_{k+\tau} - \mathbb{E}[\mathbf{r}_{k+\tau}])]}{\mathbb{E}[(\mathbf{r}_k - \mathbb{E}[\mathbf{r}_k])^\top (\mathbf{r}_k - \mathbb{E}[\mathbf{r}_k])]}
</div>
<script type="math/tex; mode=display">
\rho(\tau) = \frac{\mathbb{E}[(\mathbf{r}_k - \mathbb{E}[\mathbf{r}_k])^\top (\mathbf{r}_{k+\tau} - \mathbb{E}[\mathbf{r}_{k+\tau}])]}{\mathbb{E}[(\mathbf{r}_k - \mathbb{E}[\mathbf{r}_k])^\top (\mathbf{r}_k - \mathbb{E}[\mathbf{r}_k])]}
</script>
</div>
<p>여기서,<br />
- <span class="arithmatex"><span class="MathJax_Preview">\tau</span><script type="math/tex">\tau</script></span>는 시간 지연(lag)을 의미한다.</p>
<p>자가 상관 함수 <span class="arithmatex"><span class="MathJax_Preview">\rho(\tau)</span><script type="math/tex">\rho(\tau)</script></span>가 <span class="arithmatex"><span class="MathJax_Preview">0</span><script type="math/tex">0</script></span>에 가까운 경우 잔차는 시간적으로 독립적임을 의미하며, 이는 필터가 적절히 설계되었음을 시사한다. 반면, 유의미한 자가 상관이 발견되면 필터 모델이 수정되어야 할 필요가 있을 수 있다.</p>
<h3 id="monte-carlo-simulation">몬테카를로 시뮬레이션 (Monte Carlo Simulation)</h3>
<p>몬테카를로 시뮬레이션은 칼만 필터의 성능을 다양한 시나리오에서 평가하는 데 사용되는 방법이다. 이 방법은 다양한 초기 조건, 시스템 노이즈, 측정 노이즈 조건 하에서 필터를 반복적으로 실행하여 성능을 평가한다. 몬테카를로 시뮬레이션의 기본 단계는 다음과 같다:</p>
<ol>
<li>필터에 적용할 다양한 시나리오를 정의한다.</li>
<li>각 시나리오에 대해 필터를 반복적으로 실행한다.</li>
<li>각 반복 실행에서 발생하는 상태 추정 오차, 혁신, 로그 우도 등을 기록한다.</li>
<li>반복 실행 결과를 통계적으로 분석하여 필터의 성능을 평가한다.</li>
</ol>
<p>이 방법을 통해 칼만 필터가 다양한 환경에서 얼마나 일관되게 작동하는지, 그리고 특정 조건 하에서 성능이 어떻게 변하는지를 평가할 수 있다.</p>
<h3 id="difference-analysis">차이 분석 (Difference Analysis)</h3>
<p>차이 분석은 필터의 출력이 이전 시간 단계의 예측과 얼마나 일치하는지를 평가하는 방법이다. 필터의 시간 갱신 단계에서 예측된 상태와 실제 관측치를 비교하여, 다음의 차이를 분석한다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\Delta_k = \mathbf{H}_k \mathbf{x}_k - \mathbf{z}_k
</div>
<script type="math/tex; mode=display">
\Delta_k = \mathbf{H}_k \mathbf{x}_k - \mathbf{z}_k
</script>
</div>
<p>이 차이가 시스템 노이즈 공분산 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}_k</span><script type="math/tex">\mathbf{R}_k</script></span>와 일치하는지를 평가하여 필터가 적절히 동작하고 있는지를 확인한다. 큰 차이가 지속적으로 발생하는 경우, 필터가 시스템 동작을 제대로 반영하지 못하는 신호일 수 있다.</p>
<h3 id="_3">실시간 성능 모니터링 도구</h3>
<p>실제 시스템에서 칼만 필터를 사용하는 경우, 실시간 성능 모니터링 도구를 구축하는 것이 중요하다. 이러한 도구는 다음과 같은 기능을 포함할 수 있다:</p>
<ul>
<li>실시간으로 혁신 벡터, 잔차, 추정 오차 공분산 등을 시각화하여 필터의 성능을 모니터링.</li>
<li>혁신 공분산과 잔차의 자가 상관을 계산하여 필터의 안정성을 평가.</li>
<li>예기치 않은 상황 발생 시 경고를 생성하여 필터의 조정이 필요함을 알림.</li>
</ul>
<p>이러한 도구는 필터의 실시간 성능을 지속적으로 평가하고, 필터가 기대한 대로 작동하지 않을 경우 신속하게 조치를 취할 수 있게 해준다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter%2009/091/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter%2009/091/" class="btn btn-xs btn-link">
        정보 필터(Information Filter)
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../083/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../083/" class="btn btn-xs btn-link">
        실제 데이터 적용 사례
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>