<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/robot/robot_simulation_with_unity/chapter_12/1201/">
    <link rel="shortcut icon" href="../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>SDF 파일 포맷 설명 - 소프트웨어 융합</title>
    <link href="../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../css/highlight.css">
    <link href="../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "SDF \ud30c\uc77c\uc758 \uae30\ubcf8 \uad6c\uc870", url: "#_top", children: [
          ]},
          {title: "\ub9c1\ud06c(Link) \uc815\uc758", url: "#link", children: [
              {title: "\ub9c1\ud06c\uc758 \uad00\uc131 \uc815\uc758", url: "#_1" },
          ]},
          {title: "\uc870\uc778\ud2b8(Joint) \uc815\uc758", url: "#joint", children: [
              {title: "\ud68c\uc804 \uc870\uc778\ud2b8\uc758 \uc218\ud559\uc801 \ud45c\ud604", url: "#_2" },
          ]},
          {title: "\uc13c\uc11c \uc815\uc758", url: "#_3", children: [
              {title: "\ub77c\uc774\ub2e4(LiDAR) \uc13c\uc11c", url: "#lidar" },
              {title: "\uce74\uba54\ub77c \uc13c\uc11c", url: "#_4" },
          ]},
          {title: "\ub9c1\ud06c\uc640 \uc870\uc778\ud2b8\uc758 \uc0c1\ud638\uc791\uc6a9", url: "#_5", children: [
              {title: "\ub9c1\ud06c \uac04\uc758 \ub3d9\uc791 \uc815\uc758", url: "#_6" },
          ]},
          {title: "\uc870\uc778\ud2b8(Joint)\uc758 \ub9c8\ucc30 \ubc0f \uac10\uc1e0 \uc124\uc815", url: "#joint_1", children: [
              {title: "\ub9c8\ucc30(Friction)", url: "#friction" },
              {title: "\uac10\uc1e0(Damping)", url: "#damping" },
          ]},
          {title: "SDF \ud30c\uc77c\uc758 URDF\uc640\uc758 \ucc28\uc774\uc810", url: "#sdf-urdf", children: [
              {title: "XML \uad6c\uc870", url: "#xml" },
              {title: "\ubb3c\ub9ac \uc5d4\uc9c4 \uc9c0\uc6d0", url: "#_7" },
              {title: "\ud655\uc7a5\uc131", url: "#_8" },
          ]},
          {title: "SDF\uc5d0\uc11c \uc13c\uc11c\uc758 \uc0c1\uc138 \uc815\uc758", url: "#sdf_1", children: [
              {title: "IMU \uc13c\uc11c", url: "#imu" },
          ]},
          {title: "\ud50c\ub7ec\uadf8\uc778(Plugin) \uc0ac\uc6a9", url: "#plugin", children: [
              {title: "\ud50c\ub7ec\uadf8\uc778\uc758 \uad6c\uc870", url: "#_9" },
          ]},
          {title: "\ubb3c\ub9ac \uae30\ubc18 \uc2dc\ubbac\ub808\uc774\uc158 \uc124\uc815", url: "#_10", children: [
              {title: "\uc911\ub825 \uc124\uc815", url: "#_11" },
              {title: "\ucda9\ub3cc \ucc98\ub9ac", url: "#_12" },
          ]},
        ];

    </script>
    <script src="../../../../js/base.js"></script>
      <script src="../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../1202/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../1202/" class="btn btn-xs btn-link">
        SDF에서 Unity로의 변환
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../chapter_11/1103/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../chapter_11/1103/" class="btn btn-xs btn-link">
        협동 로봇 시뮬레이션
      </a>
    </div>
    
  </div>

    

    <p>SDF(Simulation Description Format)는 로봇 시뮬레이션을 위한 표준 파일 포맷으로, 주로 물리 기반 시뮬레이션과 로봇 동작 시뮬레이션에서 사용된다. SDF는 XML 기반의 파일 형식을 사용하며, 로봇의 구조, 센서, 조인트, 링크 등의 물리적 속성을 정의하는 데 매우 적합한다. 특히 다양한 시뮬레이션 환경에서 사용될 수 있도록 설계되어, 복잡한 로봇 시뮬레이션을 간편하게 설정하고 관리할 수 있다.</p>
<h2 id="sdf">SDF 파일의 기본 구조</h2>
<p>SDF 파일은 XML 구조를 기반으로 하기 때문에, 각 요소들은 XML 태그로 감싸여 있으며, 태그 내에서 속성들을 정의한다. SDF 파일의 기본 구조는 다음과 같다:</p>
<pre><code class="language-xml">&lt;sdf version=&quot;1.6&quot;&gt;
  &lt;model name=&quot;robot&quot;&gt;
    &lt;link name=&quot;base_link&quot;&gt;
      &lt;!-- 링크 정의 --&gt;
    &lt;/link&gt;
    &lt;joint name=&quot;joint1&quot; type=&quot;revolute&quot;&gt;
      &lt;!-- 조인트 정의 --&gt;
    &lt;/joint&gt;
  &lt;/model&gt;
&lt;/sdf&gt;
</code></pre>
<ul>
<li><strong>sdf 태그</strong>: SDF 파일의 최상위 태그로, <code>version</code> 속성을 통해 SDF의 버전을 명시한다.</li>
<li><strong>model 태그</strong>: 로봇의 모델을 정의하는 태그로, <code>name</code> 속성은 해당 모델의 이름을 지정한다.</li>
<li><strong>link 태그</strong>: 로봇의 각 부분(링크)을 정의하는 태그이다. 링크는 로봇의 구조를 구성하는 기본 단위이다.</li>
<li><strong>joint 태그</strong>: 링크 간의 연결을 정의하며, 회전 또는 이동할 수 있는 요소를 지정할 수 있다.</li>
</ul>
<h2 id="link">링크(Link) 정의</h2>
<p>SDF에서 링크는 로봇의 물리적 부분을 나타낸다. 링크는 각 로봇의 특정한 부분(예: 팔, 다리 등)에 해당하며, 여러 링크가 연결되어 하나의 로봇 모델을 구성한다. 링크의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>name</strong>: 링크의 이름을 지정한다.</li>
<li><strong>inertial</strong>: 관성 정보를 포함하는 태그로, 질량, 관성 모멘트 등을 정의한다.</li>
<li><strong>visual</strong>: 링크의 시각적 표현을 정의하는 태그이다. 주로 3D 메쉬 또는 기하학적 모양으로 표현된다.</li>
<li><strong>collision</strong>: 충돌을 처리하기 위한 링크의 물리적 속성을 정의한다.</li>
</ul>
<h3 id="_1">링크의 관성 정의</h3>
<p>SDF에서는 링크의 물리적 속성을 정의할 때, 관성 정보가 필수적이다. 관성은 물체가 회전하거나 가속될 때 필요한 물리적 저항을 정의한다. 관성 행렬은 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{I} = 
\begin{bmatrix}
I_{xx} &amp; I_{xy} &amp; I_{xz} \\
I_{yx} &amp; I_{yy} &amp; I_{yz} \\
I_{zx} &amp; I_{zy} &amp; I_{zz}
\end{bmatrix}
</div>
<script type="math/tex; mode=display">
\mathbf{I} = 
\begin{bmatrix}
I_{xx} & I_{xy} & I_{xz} \\
I_{yx} & I_{yy} & I_{yz} \\
I_{zx} & I_{zy} & I_{zz}
\end{bmatrix}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{I}</span><script type="math/tex">\mathbf{I}</script></span>는 관성 텐서(Inertia Tensor)를 나타내며, 각 항목들은 링크의 회전 축에 따른 관성 모멘트를 정의한다. 예를 들어 <span class="arithmatex"><span class="MathJax_Preview">I_{xx}</span><script type="math/tex">I_{xx}</script></span>는 x축을 기준으로 한 관성 모멘트이다.</p>
<p>SDF 파일에서 관성을 정의하는 XML 구문은 다음과 같다:</p>
<pre><code class="language-xml">&lt;link name=&quot;base_link&quot;&gt;
  &lt;inertial&gt;
    &lt;mass&gt;1.0&lt;/mass&gt;
    &lt;inertia&gt;
      &lt;ixx&gt;0.1&lt;/ixx&gt;
      &lt;iyy&gt;0.1&lt;/iyy&gt;
      &lt;izz&gt;0.1&lt;/izz&gt;
    &lt;/inertia&gt;
  &lt;/inertial&gt;
&lt;/link&gt;
</code></pre>
<p>위 코드에서는 <code>mass</code>를 통해 링크의 질량을 정의하고, <code>inertia</code>를 통해 관성 텐서의 각 성분을 지정한다.</p>
<h2 id="joint">조인트(Joint) 정의</h2>
<p>SDF에서 조인트는 두 링크 간의 연결을 나타내며, 회전(revolute) 또는 이동(prismatic) 동작을 설정할 수 있다. 조인트의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>name</strong>: 조인트의 이름을 지정한다.</li>
<li><strong>type</strong>: 조인트의 종류를 설정하며, 회전형(revolute), 프리즘형(prismatic), 고정형(fixed) 등이 있다.</li>
<li><strong>parent</strong>: 부모 링크를 지정한다.</li>
<li><strong>child</strong>: 자식 링크를 지정한다.</li>
</ul>
<h3 id="_2">회전 조인트의 수학적 표현</h3>
<p>회전 조인트는 두 링크 간의 상대적인 회전 운동을 정의한다. 예를 들어, 회전 조인트는 한 링크가 고정된 축을 따라 회전할 수 있도록 설정된다. 회전 각도 <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{T}_{rotation}(\theta) = 
\begin{bmatrix}
\cos(\theta) &amp; -\sin(\theta) &amp; 0 &amp; 0 \\
\sin(\theta) &amp; \cos(\theta) &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
</div>
<script type="math/tex; mode=display">
\mathbf{T}_{rotation}(\theta) = 
\begin{bmatrix}
\cos(\theta) & -\sin(\theta) & 0 & 0 \\
\sin(\theta) & \cos(\theta) & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1
\end{bmatrix}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{T}_{rotation}(\theta)</span><script type="math/tex">\mathbf{T}_{rotation}(\theta)</script></span>는 회전 변환 행렬로, 링크가 특정 축을 따라 <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> 각도로 회전하는 것을 나타낸다.</p>
<p>SDF 파일에서 회전 조인트를 정의하는 XML 구문은 다음과 같다:</p>
<pre><code class="language-xml">&lt;joint name=&quot;joint1&quot; type=&quot;revolute&quot;&gt;
  &lt;parent&gt;base_link&lt;/parent&gt;
  &lt;child&gt;link1&lt;/child&gt;
  &lt;axis&gt;
    &lt;xyz&gt;0 0 1&lt;/xyz&gt;
    &lt;limit&gt;
      &lt;lower&gt;-1.57&lt;/lower&gt;
      &lt;upper&gt;1.57&lt;/upper&gt;
    &lt;/limit&gt;
  &lt;/axis&gt;
&lt;/joint&gt;
</code></pre>
<p>위 코드에서는 <code>axis</code> 태그를 통해 회전 축을 정의하고, <code>limit</code> 태그를 통해 회전 각도의 범위를 설정한다.</p>
<h2 id="_3">센서 정의</h2>
<p>SDF 파일에서는 로봇에 장착된 센서의 속성도 정의할 수 있다. 다양한 센서 유형을 지원하며, 라이다(LiDAR), 카메라, IMU(관성 측정 장치) 등의 센서를 시뮬레이션할 수 있다. 각 센서는 특정 링크에 장착되며, 해당 링크의 움직임에 따라 센서 데이터가 생성된다.</p>
<h3 id="lidar">라이다(LiDAR) 센서</h3>
<p>라이다 센서는 레이저를 이용해 거리 데이터를 측정하는 장치로, 주로 환경의 3D 지형을 인식하는 데 사용된다. SDF에서 라이다 센서는 <code>ray</code> 요소로 정의된다. 라이다의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>horizontal_samples</strong>: 수평 방향의 샘플 개수.</li>
<li><strong>vertical_samples</strong>: 수직 방향의 샘플 개수.</li>
<li><strong>range_min/max</strong>: 측정 가능한 최소/최대 거리.</li>
<li><strong>resolution</strong>: 각도 해상도.</li>
</ul>
<p>SDF 파일에서 라이다 센서를 정의하는 XML 구문은 다음과 같다:</p>
<pre><code class="language-xml">&lt;sensor name=&quot;lidar&quot; type=&quot;ray&quot;&gt;
  &lt;pose&gt;0 0 0 0 0 0&lt;/pose&gt;
  &lt;ray&gt;
    &lt;scan&gt;
      &lt;horizontal&gt;
        &lt;samples&gt;640&lt;/samples&gt;
        &lt;resolution&gt;1&lt;/resolution&gt;
        &lt;min_angle&gt;-1.57&lt;/min_angle&gt;
        &lt;max_angle&gt;1.57&lt;/max_angle&gt;
      &lt;/horizontal&gt;
      &lt;vertical&gt;
        &lt;samples&gt;1&lt;/samples&gt;
        &lt;resolution&gt;1&lt;/resolution&gt;
        &lt;min_angle&gt;0&lt;/min_angle&gt;
        &lt;max_angle&gt;0&lt;/max_angle&gt;
      &lt;/vertical&gt;
    &lt;/scan&gt;
    &lt;range&gt;
      &lt;min&gt;0.1&lt;/min&gt;
      &lt;max&gt;10.0&lt;/max&gt;
      &lt;resolution&gt;0.01&lt;/resolution&gt;
    &lt;/range&gt;
  &lt;/ray&gt;
&lt;/sensor&gt;
</code></pre>
<p>위 코드에서 <code>scan</code> 요소는 라이다의 스캔 범위를 정의하며, <code>horizontal</code>과 <code>vertical</code> 요소는 각각 수평 및 수직 방향의 샘플 개수와 각도 범위를 설정한다. <code>range</code> 요소는 라이다의 측정 가능한 거리 범위를 정의한다.</p>
<h3 id="_4">카메라 센서</h3>
<p>카메라 센서는 영상 데이터를 수집하는 데 사용되며, 2D 이미지를 생성한다. SDF에서 카메라 센서는 <code>camera</code> 요소로 정의된다. 카메라의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>image_width/height</strong>: 생성되는 이미지의 해상도.</li>
<li><strong>horizontal_fov</strong>: 카메라의 수평 시야각.</li>
<li><strong>clip</strong>: 근거리 및 원거리 클리핑 값.</li>
</ul>
<p>SDF 파일에서 카메라 센서를 정의하는 XML 구문은 다음과 같다:</p>
<pre><code class="language-xml">&lt;sensor name=&quot;camera&quot; type=&quot;camera&quot;&gt;
  &lt;pose&gt;0 0 1 0 0 0&lt;/pose&gt;
  &lt;camera&gt;
    &lt;horizontal_fov&gt;1.047&lt;/horizontal_fov&gt;
    &lt;image&gt;
      &lt;width&gt;640&lt;/width&gt;
      &lt;height&gt;480&lt;/height&gt;
    &lt;/image&gt;
    &lt;clip&gt;
      &lt;near&gt;0.1&lt;/near&gt;
      &lt;far&gt;100&lt;/far&gt;
    &lt;/clip&gt;
  &lt;/camera&gt;
&lt;/sensor&gt;
</code></pre>
<p>위 코드에서 <code>image</code> 요소는 카메라가 생성하는 이미지의 해상도를 정의하며, <code>horizontal_fov</code>는 카메라의 수평 시야각을 설정한다. <code>clip</code> 요소는 카메라의 근거리 및 원거리 클리핑 값을 정의하여, 렌더링할 수 있는 거리를 제한한다.</p>
<h2 id="_5">링크와 조인트의 상호작용</h2>
<p>SDF 파일에서 로봇의 동작은 링크와 조인트의 상호작용에 의해 결정된다. 링크는 로봇의 구조적 부분을 나타내고, 조인트는 이들 링크 간의 동작을 정의한다. 이러한 링크와 조인트의 상호작용을 통해 로봇의 각 부위가 어떻게 움직이는지 결정할 수 있다.</p>
<h3 id="_6">링크 간의 동작 정의</h3>
<p>두 링크 간의 상대적 위치와 회전은 조인트를 통해 결정되며, 조인트는 각도나 위치에 대한 제한을 설정할 수 있다. 예를 들어, 회전 조인트의 경우, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> 각도 범위를 제한할 수 있으며, 이는 다음과 같은 방정식으로 표현된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\theta_{\text{min}} \leq \theta \leq \theta_{\text{max}}
</div>
<script type="math/tex; mode=display">
\theta_{\text{min}} \leq \theta \leq \theta_{\text{max}}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\theta_{\text{min}}</span><script type="math/tex">\theta_{\text{min}}</script></span>은 최소 회전 각도를, <span class="arithmatex"><span class="MathJax_Preview">\theta_{\text{max}}</span><script type="math/tex">\theta_{\text{max}}</script></span>은 최대 회전 각도를 나타낸다.</p>
<p>SDF 파일에서는 이를 <code>limit</code> 태그를 통해 설정할 수 있다. 예를 들어, 다음과 같은 구문으로 조인트의 회전 범위를 정의할 수 있다:</p>
<pre><code class="language-xml">&lt;joint name=&quot;joint1&quot; type=&quot;revolute&quot;&gt;
  &lt;axis&gt;
    &lt;xyz&gt;0 0 1&lt;/xyz&gt;
    &lt;limit&gt;
      &lt;lower&gt;-1.57&lt;/lower&gt;
      &lt;upper&gt;1.57&lt;/upper&gt;
    &lt;/limit&gt;
  &lt;/axis&gt;
&lt;/joint&gt;
</code></pre>
<p>이와 같은 설정을 통해 두 링크가 특정 범위 내에서만 회전하거나 이동할 수 있도록 제한할 수 있다.</p>
<h2 id="joint_1">조인트(Joint)의 마찰 및 감쇠 설정</h2>
<p>SDF 파일에서 조인트는 회전 또는 이동 동작을 수행할 때 마찰과 감쇠를 설정할 수 있다. 이는 실제 환경에서 발생하는 에너지 손실을 시뮬레이션하기 위한 요소로, 로봇이 더욱 현실적으로 움직이도록 만든다. </p>
<h3 id="friction">마찰(Friction)</h3>
<p>마찰은 로봇의 조인트가 움직일 때 발생하는 저항력을 나타낸다. SDF에서 마찰은 <code>dynamics</code> 요소 내부에서 설정되며, <code>friction</code> 값을 통해 마찰 계수를 정의할 수 있다. 조인트의 마찰은 회전 또는 이동 중에 발생하는 에너지 손실을 시뮬레이션하는데 사용된다.</p>
<p>마찰을 정의하는 방정식은 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\tau_{\text{friction}} = -\mu \cdot \dot{\theta}
</div>
<script type="math/tex; mode=display">
\tau_{\text{friction}} = -\mu \cdot \dot{\theta}
</script>
</div>
<p>여기서:
- <span class="arithmatex"><span class="MathJax_Preview">\tau_{\text{friction}}</span><script type="math/tex">\tau_{\text{friction}}</script></span>은 마찰에 의한 토크
- <span class="arithmatex"><span class="MathJax_Preview">\mu</span><script type="math/tex">\mu</script></span>는 마찰 계수
- <span class="arithmatex"><span class="MathJax_Preview">\dot{\theta}</span><script type="math/tex">\dot{\theta}</script></span>는 각속도</p>
<p>SDF 파일에서 마찰 설정을 정의하는 구문은 다음과 같다:</p>
<pre><code class="language-xml">&lt;joint name=&quot;joint1&quot; type=&quot;revolute&quot;&gt;
  &lt;axis&gt;
    &lt;dynamics&gt;
      &lt;friction&gt;0.5&lt;/friction&gt;
    &lt;/dynamics&gt;
  &lt;/axis&gt;
&lt;/joint&gt;
</code></pre>
<p>이 코드는 <code>friction</code> 태그를 통해 조인트의 마찰 계수를 0.5로 설정한다. 이는 로봇이 조인트를 회전할 때 저항을 받는 정도를 의미한다.</p>
<h3 id="damping">감쇠(Damping)</h3>
<p>감쇠는 로봇의 조인트가 움직일 때 에너지를 흡수하는 성질을 나타낸다. 감쇠 계수는 조인트의 움직임을 점차적으로 줄이는 역할을 하며, 이는 실제 로봇 시스템에서 매우 중요한 역할을 한다. 감쇠는 <code>damping</code> 값으로 설정되며, 감쇠 방정식은 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\tau_{\text{damping}} = -c \cdot \dot{\theta}
</div>
<script type="math/tex; mode=display">
\tau_{\text{damping}} = -c \cdot \dot{\theta}
</script>
</div>
<p>여기서:
- <span class="arithmatex"><span class="MathJax_Preview">\tau_{\text{damping}}</span><script type="math/tex">\tau_{\text{damping}}</script></span>은 감쇠에 의한 토크
- <span class="arithmatex"><span class="MathJax_Preview">c</span><script type="math/tex">c</script></span>는 감쇠 계수
- <span class="arithmatex"><span class="MathJax_Preview">\dot{\theta}</span><script type="math/tex">\dot{\theta}</script></span>는 각속도</p>
<p>SDF 파일에서 감쇠 설정을 정의하는 구문은 다음과 같다:</p>
<pre><code class="language-xml">&lt;joint name=&quot;joint1&quot; type=&quot;revolute&quot;&gt;
  &lt;axis&gt;
    &lt;dynamics&gt;
      &lt;damping&gt;0.1&lt;/damping&gt;
    &lt;/dynamics&gt;
  &lt;/axis&gt;
&lt;/joint&gt;
</code></pre>
<p>이 코드는 <code>damping</code> 태그를 통해 조인트의 감쇠 계수를 0.1로 설정한다. 이는 로봇이 움직이는 동안 에너지를 점차적으로 소모하게 하여, 과도한 진동을 줄이는데 도움이 된다.</p>
<h2 id="sdf-urdf">SDF 파일의 URDF와의 차이점</h2>
<p>SDF와 URDF(Universal Robot Description Format)는 둘 다 로봇의 물리적 구조를 정의하는데 사용되지만, 그 구조와 기능에서 몇 가지 차이점이 있다.</p>
<h3 id="xml">XML 구조</h3>
<p>URDF와 SDF는 모두 XML 기반이지만, SDF는 보다 복잡한 시뮬레이션을 지원하는데 적합한 구조를 가지고 있다. 예를 들어, SDF는 다중 링크, 복잡한 물리 속성, 센서 정의, 그리고 조인트의 동적 요소(마찰, 감쇠 등)를 더 잘 지원한다. 반면 URDF는 비교적 단순한 로봇 구조와 동작을 정의하는 데 적합한다.</p>
<h3 id="_7">물리 엔진 지원</h3>
<p>SDF는 Gazebo와 같은 물리 기반 시뮬레이션 환경을 위해 설계되었기 때문에, 물리 엔진과의 통합이 더 원활한다. 반면, URDF는 주로 로봇의 기하학적 정의에 초점을 맞추고 있으며, 물리적 속성에 대한 지원은 상대적으로 제한적이다. 따라서 물리 기반 시뮬레이션에서 더 복잡한 설정이 필요한 경우 SDF가 URDF보다 더 적합할 수 있다.</p>
<h3 id="_8">확장성</h3>
<p>SDF는 로봇의 모델뿐만 아니라 환경, 센서, 액추에이터 등의 요소를 정의할 수 있는 확장성을 제공한다. 이러한 이유로 로봇 시뮬레이션뿐만 아니라 전체 시뮬레이션 환경을 정의하는 데 사용될 수 있다. 반면, URDF는 주로 로봇의 구조와 기하학적 속성에 중점을 두고 있기 때문에, 전체 시뮬레이션 환경을 정의하는 데는 한계가 있다.</p>
<h2 id="sdf_1">SDF에서 센서의 상세 정의</h2>
<p>SDF 파일은 로봇에 장착된 센서의 특성을 매우 구체적으로 정의할 수 있다. SDF에서 지원하는 다양한 센서들은 실제 센서의 동작을 시뮬레이션할 수 있으며, 환경의 상태를 모니터링하거나 데이터를 생성하는 데 사용된다. 라이다(LiDAR), 카메라, IMU 등의 센서뿐만 아니라 다양한 다른 센서도 설정 가능한다.</p>
<h3 id="imu">IMU 센서</h3>
<p>IMU(관성 측정 장치)는 로봇의 가속도와 각속도를 측정하는 데 사용되는 센서이다. IMU는 로봇의 움직임을 인식하는 데 필수적인 역할을 하며, 특히 자율 주행 및 로봇 제어 시스템에서 매우 중요한 데이터를 제공한다. SDF에서는 IMU 센서를 <code>imu</code> 요소를 통해 정의할 수 있다.</p>
<p>IMU의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>linear_acceleration</strong>: 가속도를 측정하는 속성.</li>
<li><strong>angular_velocity</strong>: 각속도를 측정하는 속성.</li>
<li><strong>update_rate</strong>: IMU의 업데이트 주기.</li>
</ul>
<p>SDF 파일에서 IMU 센서를 정의하는 예시는 다음과 같다:</p>
<pre><code class="language-xml">&lt;sensor name=&quot;imu&quot; type=&quot;imu&quot;&gt;
  &lt;pose&gt;0 0 1 0 0 0&lt;/pose&gt;
  &lt;imu&gt;
    &lt;linear_acceleration&gt;
      &lt;x&gt;1&lt;/x&gt;
      &lt;y&gt;1&lt;/y&gt;
      &lt;z&gt;1&lt;/z&gt;
    &lt;/linear_acceleration&gt;
    &lt;angular_velocity&gt;
      &lt;x&gt;1&lt;/x&gt;
      &lt;y&gt;1&lt;/y&gt;
      &lt;z&gt;1&lt;/z&gt;
    &lt;/angular_velocity&gt;
  &lt;/imu&gt;
&lt;/sensor&gt;
</code></pre>
<p>위 코드에서 <code>linear_acceleration</code> 태그와 <code>angular_velocity</code> 태그는 IMU 센서가 측정하는 가속도와 각속도를 정의한다. 이를 통해 로봇의 동작에 대한 데이터를 수집할 수 있다.</p>
<h2 id="plugin">플러그인(Plugin) 사용</h2>
<p>SDF 파일은 기본적인 물리적 속성 및 센서 설정 외에도 플러그인을 사용하여 시뮬레이션의 동작을 확장할 수 있다. 플러그인은 시뮬레이션 동안 특정 동작을 실행하는 스크립트로, 로봇의 제어, 시뮬레이션 환경 제어, 데이터 로깅 등을 구현할 수 있다.</p>
<h3 id="_9">플러그인의 구조</h3>
<p>SDF에서 플러그인은 <code>plugin</code> 요소를 통해 추가되며, 로봇의 동작을 제어하거나 시뮬레이션 환경에서 특정 동작을 실행할 수 있다. 플러그인의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>name</strong>: 플러그인의 이름을 정의한다.</li>
<li><strong>filename</strong>: 플러그인의 파일 경로를 정의한다. 주로 <code>.so</code> 또는 <code>.dll</code> 파일로 제공된다.</li>
</ul>
<p>플러그인을 정의하는 SDF 파일의 예시는 다음과 같다:</p>
<pre><code class="language-xml">&lt;plugin name=&quot;my_robot_plugin&quot; filename=&quot;libmy_robot_plugin.so&quot;&gt;
  &lt;ros_topic&gt;/robot/data&lt;/ros_topic&gt;
  &lt;update_rate&gt;100&lt;/update_rate&gt;
&lt;/plugin&gt;
</code></pre>
<p>위 코드는 <code>my_robot_plugin</code>이라는 이름의 플러그인을 로드하며, ROS 토픽 <code>/robot/data</code>를 구독하고, 100Hz의 업데이트 주기를 설정한다.</p>
<h2 id="_10">물리 기반 시뮬레이션 설정</h2>
<p>SDF 파일은 물리 엔진을 이용하여 로봇 시뮬레이션을 수행하며, 이를 위해 중력, 충돌 처리, 관성 모멘트 등의 물리적 속성을 정의할 수 있다. SDF는 시뮬레이션의 사실성을 높이기 위해 다양한 물리적 요소를 설정할 수 있다.</p>
<h3 id="_11">중력 설정</h3>
<p>중력은 로봇 시뮬레이션에서 중요한 요소로, 로봇이 현실적인 환경에서 동작하도록 만드는 데 필수적이다. SDF 파일에서는 <code>gravity</code> 요소를 사용하여 시뮬레이션 환경의 중력을 설정할 수 있다. 중력의 값은 3차원 벡터로 정의되며, 일반적으로 지구의 중력 가속도 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{g} = \langle 0, 0, -9.81 \rangle</span><script type="math/tex">\mathbf{g} = \langle 0, 0, -9.81 \rangle</script></span>로 설정된다.</p>
<p>중력 설정의 예시는 다음과 같다:</p>
<pre><code class="language-xml">&lt;world name=&quot;default&quot;&gt;
  &lt;gravity&gt;0 0 -9.81&lt;/gravity&gt;
&lt;/world&gt;
</code></pre>
<p>위 코드에서는 중력 벡터가 지구의 표준 중력인 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{g} = \langle 0, 0, -9.81 \rangle</span><script type="math/tex">\mathbf{g} = \langle 0, 0, -9.81 \rangle</script></span>로 설정되어 있다. 이는 시뮬레이션 내의 모든 객체가 지구의 중력 영향을 받도록 한다.</p>
<h3 id="_12">충돌 처리</h3>
<p>SDF는 로봇이 환경과 상호작용할 때 발생하는 충돌을 처리하기 위해 <code>collision</code> 요소를 제공한다. 충돌 처리 설정은 로봇의 각 링크에 대해 정의되며, 충돌 감지를 위한 기하학적 모양과 물리적 속성을 설정할 수 있다.</p>
<p>충돌 처리의 주요 속성은 다음과 같다:</p>
<ul>
<li><strong>geometry</strong>: 충돌 모양을 정의한다. 박스, 구, 실린더, 메쉬 등의 형태로 설정할 수 있다.</li>
<li><strong>surface</strong>: 충돌 시 표면 간의 상호작용을 정의한다.</li>
</ul>
<p>SDF 파일에서 충돌 처리를 정의하는 예시는 다음과 같다:</p>
<pre><code class="language-xml">&lt;link name=&quot;base_link&quot;&gt;
  &lt;collision name=&quot;collision&quot;&gt;
    &lt;geometry&gt;
      &lt;box&gt;
        &lt;size&gt;1 1 1&lt;/size&gt;
      &lt;/box&gt;
    &lt;/geometry&gt;
    &lt;surface&gt;
      &lt;friction&gt;
        &lt;ode&gt;
          &lt;mu&gt;0.5&lt;/mu&gt;
          &lt;mu2&gt;0.3&lt;/mu2&gt;
        &lt;/ode&gt;
      &lt;/friction&gt;
    &lt;/surface&gt;
  &lt;/collision&gt;
&lt;/link&gt;
</code></pre>
<p>위 코드에서 <code>geometry</code> 요소는 충돌의 기하학적 모양을 정의하며, <code>surface</code> 요소는 충돌 시 마찰 계수를 설정한다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../1202/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../1202/" class="btn btn-xs btn-link">
        SDF에서 Unity로의 변환
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../chapter_11/1103/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../chapter_11/1103/" class="btn btn-xs btn-link">
        협동 로봇 시뮬레이션
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>