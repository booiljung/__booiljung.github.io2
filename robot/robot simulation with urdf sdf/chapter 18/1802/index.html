<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/robot/robot%20simulation%20with%20urdf%20sdf/chapter%2018/1802/">
    <link rel="shortcut icon" href="../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>복잡한 URDF를 xacro로 효율적으로 관리 - 실험 도서관</title>
    <link href="../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../css/highlight.css">
    <link href="../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "1. \ubc18\ubcf5\uc801\uc778 \uad6c\uc870\uc758 \ub2e8\uc21c\ud654", url: "#_top", children: [
              {title: "\uc608\uc2dc", url: "#_1" },
          ]},
          {title: "2. \ubcc0\uc218\uc640 \ub9e4\uac1c\ubcc0\uc218 \ud65c\uc6a9", url: "#2", children: [
              {title: "\ud30c\ub77c\ubbf8\ud130\ud654 \uc608\uc2dc", url: "#_2" },
          ]},
          {title: "3. \uc218\uc2dd \ud65c\uc6a9", url: "#3", children: [
              {title: "\uc608\uc2dc", url: "#_3" },
          ]},
          {title: "4. \uc870\uac74\ubb38 \uc0ac\uc6a9", url: "#4", children: [
              {title: "\uc870\uac74\ubb38 \uc608\uc2dc", url: "#_4" },
          ]},
          {title: "5. \ubc18\ubcf5\ubb38 \uc0ac\uc6a9", url: "#5", children: [
              {title: "\ubc18\ubcf5\ubb38 \uc608\uc2dc", url: "#_5" },
          ]},
          {title: "6. \ubcf5\uc7a1\ud55c \ubaa8\ub378\uc5d0\uc11c\uc758 \ub9e4\ud06c\ub85c \ud65c\uc6a9", url: "#6", children: [
              {title: "\ubcf5\uc7a1\ud55c \ubaa8\ub378\uc5d0\uc11c\uc758 \ub9e4\ud06c\ub85c \uc608\uc2dc", url: "#_6" },
          ]},
          {title: "7. xacro\ub97c \uc0ac\uc6a9\ud55c \uad6c\uc870\uc758 \uacc4\uce35\ud654", url: "#7-xacro", children: [
              {title: "\uacc4\uce35\ud654 \uc608\uc2dc", url: "#_7" },
          ]},
          {title: "8. xacro\ub97c \ud65c\uc6a9\ud55c \uba40\ud2f0 \uc870\uc778\ud2b8 \ub85c\ubd07\uc758 \uc815\uc758", url: "#8-xacro", children: [
              {title: "\uba40\ud2f0 \uc870\uc778\ud2b8 \ub85c\ubd07 \uc608\uc2dc", url: "#_8" },
          ]},
          {title: "9. \ud30c\ub77c\ubbf8\ud130\ud654\ub41c \ub85c\ubd07 \ubaa8\ub378\ub9c1\uc758 \uc720\uc5f0\uc131", url: "#9", children: [
              {title: "\ud30c\ub77c\ubbf8\ud130\ud654 \uc608\uc2dc", url: "#_9" },
          ]},
          {title: "10. \ubcf5\uc7a1\ud55c \ub85c\ubd07 \uc2dc\uc2a4\ud15c\uc758 \uad6c\uc131 \uad00\ub9ac", url: "#10", children: [
              {title: "\ubcf5\uc7a1\ud55c \uc2dc\uc2a4\ud15c \uad6c\uc131 \uc608\uc2dc", url: "#_10" },
          ]},
        ];

    </script>
    <script src="../../../../js/base.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../1803/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../1803/" class="btn btn-xs btn-link">
        파라미터를 통한 로봇 모델링의 유연성
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../1801/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../1801/" class="btn btn-xs btn-link">
        반복적인 구조 간소화
      </a>
    </div>
    
  </div>

    

    <p>xacro는 복잡한 URDF 파일을 효율적으로 관리하기 위해 설계된 XML 매크로 언어이다. 로봇 모델링에 있어 여러 링크, 조인트, 센서 등을 포함하는 복잡한 구조를 정의할 때, 이를 반복적으로 작성하거나 동일한 패턴을 반복해야 하는 경우가 많다. 이 과정에서 발생할 수 있는 코드를 줄이고, 유지보수를 용이하게 하며, 파라미터를 활용한 유연한 모델링이 가능하다.</p>
<h3 id="1">1. 반복적인 구조의 단순화</h3>
<p>복잡한 URDF를 관리하는 첫 번째 방법은 반복적인 구조를 매크로로 정의하는 것이다. 예를 들어, 여러 링크와 조인트가 동일한 형식으로 정의되어야 할 때, 매번 이를 작성하는 대신, 매크로로 정의하여 필요할 때마다 호출하는 방식으로 간소화할 수 있다. 이를 통해 코드 중복을 줄이고 유지보수를 쉽게 할 수 있다.</p>
<h4 id="_1">예시</h4>
<p>다음은 동일한 링크 구조를 여러 번 정의해야 하는 경우를 xacro로 간소화한 예이다.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;define_link&quot; params=&quot;link_name&quot;&gt;
  &lt;link name=&quot;${link_name}&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;1 1 1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
    &lt;collision&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;1 1 1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/collision&gt;
  &lt;/link&gt;
&lt;/xacro:macro&gt;
</code></pre>
<p>이 매크로를 사용하면 복잡한 URDF에서 여러 링크를 간편하게 정의할 수 있다.</p>
<pre><code class="language-xml">&lt;xacro:define_link link_name=&quot;link_1&quot;/&gt;
&lt;xacro:define_link link_name=&quot;link_2&quot;/&gt;
</code></pre>
<p>이렇게 하면 각각의 링크를 일일이 작성할 필요 없이 매크로 호출로 간단하게 처리할 수 있다.</p>
<h3 id="2">2. 변수와 매개변수 활용</h3>
<p>xacro는 변수와 매개변수를 통해 URDF 모델링을 유연하게 한다. 이를 통해 동일한 구조라도 크기나 형상 등의 파라미터를 다르게 설정할 수 있다. 예를 들어, 링크의 길이나 무게 등을 변수로 정의하여, 특정 로봇의 모델링에 맞춰 조정할 수 있다.</p>
<h4 id="_2">파라미터화 예시</h4>
<p>다음과 같이 xacro 파일에서 링크의 길이를 변수로 설정할 수 있다.</p>
<pre><code class="language-xml">&lt;xacro:property name=&quot;link_length&quot; value=&quot;1.0&quot;/&gt;
&lt;robot name=&quot;robot&quot;&gt;
  &lt;link name=&quot;base_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${link_length}${link_length} ${link_length}&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
&lt;/robot&gt;
</code></pre>
<p>이러한 방식으로 파라미터를 통해 로봇의 모델을 동적으로 변경할 수 있다. 복잡한 URDF 파일에서 여러 링크나 조인트를 정의할 때 파라미터화를 적극적으로 사용하면 모델을 쉽게 조정할 수 있다.</p>
<h3 id="3">3. 수식 활용</h3>
<p>xacro에서는 기본적인 산술 연산을 지원하기 때문에, 파라미터를 수식으로 정의하고 이를 통해 로봇의 구조를 더욱 유연하게 설정할 수 있다. 예를 들어, 링크의 길이를 다른 파라미터의 함수로 설정하거나, 특정 각도를 기준으로 링크의 위치를 계산할 수 있다.</p>
<h4 id="_3">예시</h4>
<pre><code class="language-xml">&lt;xacro:property name=&quot;link_length&quot; value=&quot;1.0&quot;/&gt;
&lt;xacro:property name=&quot;scale_factor&quot; value=&quot;2.0&quot;/&gt;
&lt;xacro:property name=&quot;adjusted_length&quot; value=&quot;${link_length * scale_factor}&quot;/&gt;
</code></pre>
<p>이 수식은 링크의 길이를 <code>scale_factor</code>로 배율하여 자동으로 계산된 값을 적용한다. 이를 통해 로봇의 구조를 수학적으로 정의하고, 복잡한 URDF 구조를 효율적으로 관리할 수 있다.</p>
<h3 id="4">4. 조건문 사용</h3>
<p>xacro에서는 조건문을 통해 특정 조건에 따라 URDF 구조를 다르게 정의할 수 있다. 복잡한 URDF 파일에서 조건에 따라 다른 링크나 조인트를 포함하거나 제외할 수 있으며, 이를 통해 다양한 시나리오에 맞춰 유연한 로봇 모델링이 가능하다.</p>
<h4 id="_4">조건문 예시</h4>
<p>아래와 같이 조건문을 사용하여 특정 조건에 따라 링크의 크기를 조정할 수 있다.</p>
<pre><code class="language-xml">&lt;xacro:property name=&quot;use_large_link&quot; value=&quot;true&quot;/&gt;
&lt;robot name=&quot;robot&quot;&gt;
  &lt;link name=&quot;base_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${use_large_link ? 2.0 : 1.0}${use_large_link ? 2.0 : 1.0} ${use_large_link ? 2.0 : 1.0}&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
&lt;/robot&gt;
</code></pre>
<p>위의 예에서는 <code>use_large_link</code> 값이 <code>true</code>일 경우 링크의 크기가 2.0이 되고, <code>false</code>일 경우 1.0이 된다. 이를 통해 특정 조건에 따라 로봇의 구조를 자동으로 조정할 수 있다.</p>
<h3 id="5">5. 반복문 사용</h3>
<p>xacro는 반복문을 지원하여 동일한 구조가 여러 번 반복되는 경우를 처리할 수 있다. 반복적으로 링크나 조인트를 정의할 때 반복문을 사용하면 URDF 파일을 더욱 효율적으로 작성할 수 있다.</p>
<h4 id="_5">반복문 예시</h4>
<p>다음은 반복문을 사용하여 여러 개의 조인트를 자동으로 정의하는 방법이다.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;define_joints&quot; params=&quot;joint_name joint_count&quot;&gt;
  &lt;xacro:for each=&quot;i&quot; value=&quot;${range(0, joint_count)}&quot;&gt;
    &lt;joint name=&quot;${joint_name}_${i}&quot; type=&quot;revolute&quot;&gt;
      &lt;parent link=&quot;link_${i}&quot;/&gt;
      &lt;child link=&quot;link_${i+1}&quot;/&gt;
      &lt;origin xyz=&quot;0 0 0&quot; rpy=&quot;0 0 0&quot;/&gt;
      &lt;axis xyz=&quot;0 0 1&quot;/&gt;
    &lt;/joint&gt;
  &lt;/xacro:for&gt;
&lt;/xacro:macro&gt;

&lt;xacro:define_joints joint_name=&quot;joint&quot; joint_count=&quot;5&quot;/&gt;
</code></pre>
<p>이 코드를 실행하면 5개의 회전 조인트가 자동으로 생성된다. 각 조인트는 연속된 링크를 연결하며, 반복적인 코드 작성을 피할 수 있다.</p>
<h3 id="6">6. 복잡한 모델에서의 매크로 활용</h3>
<p>매크로는 복잡한 로봇 모델에서 매우 유용하다. 예를 들어, 멀티 조인트 로봇이나 복잡한 센서 시스템을 모델링할 때, 반복적인 구조를 매크로로 정의하고 필요할 때마다 호출하여 사용함으로써 URDF의 유지보수를 크게 단순화할 수 있다. 또한 매크로는 로봇의 특정 부분을 모듈화하여 관리할 수 있게 해주므로, 로봇의 특정 부품이나 시스템을 독립적으로 정의하고 조정할 수 있다.</p>
<h4 id="_6">복잡한 모델에서의 매크로 예시</h4>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;robot_arm_segment&quot; params=&quot;segment_name segment_length&quot;&gt;
  &lt;link name=&quot;${segment_name}_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${segment_length} 0.1 0.1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
  &lt;joint name=&quot;${segment_name}_joint&quot; type=&quot;revolute&quot;&gt;
    &lt;parent link=&quot;${segment_name}_link&quot;/&gt;
    &lt;child link=&quot;${segment_name}_next_link&quot;/&gt;
    &lt;origin xyz=&quot;0 ${segment_length} 0&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
  &lt;/joint&gt;
&lt;/xacro:macro&gt;

&lt;xacro:robot_arm_segment segment_name=&quot;arm_1&quot; segment_length=&quot;1.0&quot;/&gt;
&lt;xacro:robot_arm_segment segment_name=&quot;arm_2&quot; segment_length=&quot;0.8&quot;/&gt;
</code></pre>
<p>위 코드를 통해 여러 개의 팔(segment)을 가진 로봇의 각 팔을 매크로로 정의하여, 전체 구조를 효율적으로 관리할 수 있다.</p>
<h3 id="7-xacro">7. xacro를 사용한 구조의 계층화</h3>
<p>복잡한 URDF 구조를 효율적으로 관리하는 또 하나의 방법은 계층화를 통해 로봇의 각 구성 요소를 모듈화하는 것이다. xacro에서는 다양한 매크로를 정의하여 이를 로봇의 각 파트로 계층화할 수 있다. 이를 통해 전체 로봇을 구성하는 요소들을 각각 독립적으로 관리할 수 있으며, 유지보수가 용이해진다.</p>
<h4 id="_7">계층화 예시</h4>
<p>다음 예시는 로봇의 팔과 다리를 각각 매크로로 정의하고, 이를 최종 로봇 구조에 통합하는 방식이다.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;robot_leg&quot; params=&quot;leg_name leg_length&quot;&gt;
  &lt;link name=&quot;${leg_name}_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;0.1 ${leg_length} 0.1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
  &lt;joint name=&quot;${leg_name}_joint&quot; type=&quot;revolute&quot;&gt;
    &lt;parent link=&quot;base_link&quot;/&gt;
    &lt;child link=&quot;${leg_name}_link&quot;/&gt;
    &lt;origin xyz=&quot;0 0 0&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
  &lt;/joint&gt;
&lt;/xacro:macro&gt;

&lt;xacro:macro name=&quot;robot_arm&quot; params=&quot;arm_name arm_length&quot;&gt;
  &lt;link name=&quot;${arm_name}_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${arm_length} 0.1 0.1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
  &lt;joint name=&quot;${arm_name}_joint&quot; type=&quot;revolute&quot;&gt;
    &lt;parent link=&quot;base_link&quot;/&gt;
    &lt;child link=&quot;${arm_name}_link&quot;/&gt;
    &lt;origin xyz=&quot;0 ${arm_length} 0&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
  &lt;/joint&gt;
&lt;/xacro:macro&gt;

&lt;robot name=&quot;robot&quot;&gt;
  &lt;xacro:robot_leg leg_name=&quot;left_leg&quot; leg_length=&quot;1.0&quot;/&gt;
  &lt;xacro:robot_leg leg_name=&quot;right_leg&quot; leg_length=&quot;1.0&quot;/&gt;
  &lt;xacro:robot_arm arm_name=&quot;left_arm&quot; arm_length=&quot;0.8&quot;/&gt;
  &lt;xacro:robot_arm arm_name=&quot;right_arm&quot; arm_length=&quot;0.8&quot;/&gt;
&lt;/robot&gt;
</code></pre>
<p>이 예제에서는 로봇의 팔과 다리를 각각 독립적인 매크로로 정의하고, 로봇 모델에 통합하여 계층화된 구조로 로봇을 모델링하고 있다. 이러한 방식으로 복잡한 구조를 간단하게 관리할 수 있으며, 필요 시 각 구성 요소를 쉽게 수정할 수 있다.</p>
<h3 id="8-xacro">8. xacro를 활용한 멀티 조인트 로봇의 정의</h3>
<p>멀티 조인트 로봇의 경우, 많은 링크와 조인트가 필요하게 되는데, 이를 일일이 정의하는 것은 비효율적이다. xacro 매크로를 사용하면 각 링크와 조인트의 규칙적인 패턴을 정의하고 이를 통해 멀티 조인트 로봇을 쉽게 생성할 수 있다.</p>
<h4 id="_8">멀티 조인트 로봇 예시</h4>
<p>다음은 3개의 조인트를 가진 로봇 팔을 정의하는 xacro 매크로이다.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;robot_arm_segment&quot; params=&quot;segment_name segment_length&quot;&gt;
  &lt;link name=&quot;${segment_name}_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${segment_length} 0.1 0.1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
  &lt;joint name=&quot;${segment_name}_joint&quot; type=&quot;revolute&quot;&gt;
    &lt;parent link=&quot;${segment_name}_parent_link&quot;/&gt;
    &lt;child link=&quot;${segment_name}_link&quot;/&gt;
    &lt;origin xyz=&quot;0 ${segment_length} 0&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
  &lt;/joint&gt;
&lt;/xacro:macro&gt;

&lt;robot name=&quot;robot_arm&quot;&gt;
  &lt;xacro:robot_arm_segment segment_name=&quot;segment_1&quot; segment_length=&quot;0.5&quot;/&gt;
  &lt;xacro:robot_arm_segment segment_name=&quot;segment_2&quot; segment_length=&quot;0.4&quot;/&gt;
  &lt;xacro:robot_arm_segment segment_name=&quot;segment_3&quot; segment_length=&quot;0.3&quot;/&gt;
&lt;/robot&gt;
</code></pre>
<p>이 예제에서는 각 팔의 세그먼트를 매크로로 정의하여 반복적인 구조를 간단하게 처리하고 있다. 각 세그먼트의 길이를 매개변수로 받아 로봇 팔의 크기를 조정할 수 있다.</p>
<h3 id="9">9. 파라미터화된 로봇 모델링의 유연성</h3>
<p>xacro의 또 다른 강력한 기능은 매개변수화를 통해 복잡한 로봇 모델링을 유연하게 조정할 수 있다는 점이다. 매개변수를 사용하면 URDF 파일에서 로봇의 각 부분을 변수화하여, 동일한 구조에서도 크기, 모양, 물리적 특성 등을 쉽게 변경할 수 있다. 이를 통해 다양한 로봇 모델을 효율적으로 생성할 수 있다.</p>
<h4 id="_9">파라미터화 예시</h4>
<p>다음 예시는 로봇의 링크와 조인트를 매개변수화하여 여러 크기와 형상으로 쉽게 조정할 수 있는 방법을 보여준다.</p>
<pre><code class="language-xml">&lt;xacro:property name=&quot;link_length&quot; value=&quot;1.0&quot;/&gt;
&lt;xacro:property name=&quot;link_width&quot; value=&quot;0.1&quot;/&gt;
&lt;xacro:property name=&quot;joint_type&quot; value=&quot;revolute&quot;/&gt;

&lt;robot name=&quot;param_robot&quot;&gt;
  &lt;link name=&quot;base_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${link_length}${link_width} ${link_width}&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;

  &lt;joint name=&quot;joint_1&quot; type=&quot;${joint_type}&quot;&gt;
    &lt;parent link=&quot;base_link&quot;/&gt;
    &lt;child link=&quot;link_1&quot;/&gt;
    &lt;origin xyz=&quot;0 0 0&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
  &lt;/joint&gt;

  &lt;link name=&quot;link_1&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${link_length}${link_width} ${link_width}&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
&lt;/robot&gt;
</code></pre>
<p>이 예에서는 <code>link_length</code>, <code>link_width</code>, 그리고 <code>joint_type</code>과 같은 변수를 정의하여 로봇의 각 링크와 조인트의 크기와 특성을 쉽게 변경할 수 있다. 예를 들어, <code>link_length</code> 값을 바꾸면 전체 로봇의 링크 길이를 조정할 수 있으며, <code>joint_type</code>을 변경하면 조인트의 유형도 유연하게 바뀐다.</p>
<h3 id="10">10. 복잡한 로봇 시스템의 구성 관리</h3>
<p>복잡한 로봇 시스템에서는 여러 개의 센서, 링크, 조인트, 그리고 추가적인 구성 요소들이 필요하게 된다. 이러한 복잡한 시스템을 xacro를 사용하여 관리하면 각 구성 요소를 효율적으로 정의하고 제어할 수 있다. 예를 들어, 여러 개의 로봇 팔을 가진 시스템이나 다양한 센서가 장착된 로봇을 매크로와 매개변수화된 정의를 통해 쉽게 구성할 수 있다.</p>
<h4 id="_10">복잡한 시스템 구성 예시</h4>
<p>다음 예시는 여러 개의 로봇 팔과 센서 시스템을 가진 로봇 모델을 xacro를 사용하여 정의하는 방법을 보여준다.</p>
<pre><code class="language-xml">&lt;xacro:macro name=&quot;robot_arm&quot; params=&quot;arm_name arm_length&quot;&gt;
  &lt;link name=&quot;${arm_name}_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;${arm_length} 0.1 0.1&quot; /&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
  &lt;joint name=&quot;${arm_name}_joint&quot; type=&quot;revolute&quot;&gt;
    &lt;parent link=&quot;base_link&quot;/&gt;
    &lt;child link=&quot;${arm_name}_link&quot;/&gt;
    &lt;origin xyz=&quot;0 ${arm_length} 0&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
  &lt;/joint&gt;
&lt;/xacro:macro&gt;

&lt;xacro:macro name=&quot;sensor_system&quot; params=&quot;sensor_name&quot;&gt;
  &lt;link name=&quot;${sensor_name}_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;cylinder radius=&quot;0.05&quot; length=&quot;0.1&quot;/&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
  &lt;/link&gt;
&lt;/xacro:macro&gt;

&lt;robot name=&quot;complex_robot&quot;&gt;
  &lt;xacro:robot_arm arm_name=&quot;left_arm&quot; arm_length=&quot;1.0&quot;/&gt;
  &lt;xacro:robot_arm arm_name=&quot;right_arm&quot; arm_length=&quot;1.0&quot;/&gt;

  &lt;xacro:sensor_system sensor_name=&quot;camera&quot;/&gt;
  &lt;xacro:sensor_system sensor_name=&quot;lidar&quot;/&gt;
&lt;/robot&gt;
</code></pre>
<p>위의 예제는 각각의 로봇 팔과 센서 시스템을 매크로로 정의하고 이를 로봇 전체 시스템에 통합한 방식이다. 이처럼 복잡한 로봇 시스템을 매크로와 매개변수화를 통해 간단하게 관리할 수 있으며, 이를 통해 로봇의 특정 부품이나 시스템을 손쉽게 추가하고 수정할 수 있다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../1803/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../1803/" class="btn btn-xs btn-link">
        파라미터를 통한 로봇 모델링의 유연성
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../1801/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../1801/" class="btn btn-xs btn-link">
        반복적인 구조 간소화
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>