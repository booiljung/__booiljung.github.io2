<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://booiljung.github.io/programming/dart/chapter_16/1602/" rel="canonical"/>
<link href="../../../../img/favicon.ico" rel="shortcut icon"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<title>모바일 UI 구성 - 실험 도서관</title>
<link href="../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet"/>
<link href="../../../../css/font-awesome-4.7.0.css" rel="stylesheet"/>
<link href="../../../../css/base.css" rel="stylesheet"/>
<link href="../../../../css/highlight.css" rel="stylesheet"/>
<link href="../../../../css/custom.css" rel="stylesheet"/>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<script src="../../../../js/jquery-3.2.1.min.js"></script>
<script src="../../../../js/bootstrap-3.3.7.min.js"></script>
<script src="../../../../js/highlight.pack.js"></script>
<base target="_top"/>
<script>
      var base_url = '../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Flutter UI \uad6c\uc870\uc758 \uae30\ubcf8 \uac1c\ub150", url: "#_top", children: [
          ]},
          {title: "\ub808\uc774\uc544\uc6c3 \uc2dc\uc2a4\ud15c", url: "#_1", children: [
          ]},
          {title: "\uc704\uc82f \ud2b8\ub9ac \uad6c\uc870", url: "#_2", children: [
              {title: "\uc704\uc82f \ud2b8\ub9ac\uc758 \uc7ac\uad6c\uc131", url: "#_3" },
          ]},
          {title: "\uc704\uc82f \ubc30\uce58\uc640 \uc815\ub82c", url: "#_4", children: [
              {title: "\uc8fc\ucd95 \ubc0f \uad50\ucc28\ucd95 \uc815\ub82c", url: "#_5" },
              {title: "Flexible\uacfc Expanded", url: "#flexible-expanded" },
          ]},
          {title: "Flutter\uc758 \ubc18\uc751\ud615 \ub514\uc790\uc778", url: "#flutter", children: [
              {title: "MediaQuery", url: "#mediaquery" },
              {title: "LayoutBuilder", url: "#layoutbuilder" },
          ]},
          {title: "\uc0c1\ud0dc \uad00\ub9ac", url: "#_6", children: [
              {title: "setState() \uba54\uc11c\ub4dc", url: "#setstate" },
          ]},
          {title: "\uc0c1\ud0dc \uad00\ub9ac\uc758 \uace0\uae09 \ubc29\ubc95", url: "#_7", children: [
              {title: "Provider \ud328\ud134", url: "#provider" },
          ]},
          {title: "\ud14c\ub9c8\uc640 \uc2a4\ud0c0\uc77c \uad00\ub9ac", url: "#_8", children: [
              {title: "\uc804\uc5ed \ud14c\ub9c8 \uc124\uc815", url: "#_9" },
              {title: "\uac1c\ubcc4 \uc704\uc82f \uc2a4\ud0c0\uc77c \uc124\uc815", url: "#_10" },
          ]},
          {title: "2D \uadf8\ub798\ud53d \ucc98\ub9ac", url: "#2d", children: [
              {title: "CustomPainter\ub97c \uc0ac\uc6a9\ud55c \uadf8\ub798\ud53d \uadf8\ub9ac\uae30", url: "#custompainter" },
              {title: "CustomPainter \uc801\uc6a9", url: "#custompainter_1" },
          ]},
        ];

    </script>
<script src="../../../../js/base.js"></script>
<script src="../../../../js/google_analytics.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script>
</meta></head>
<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>
<div class="container-fluid wm-page-content">
<a name="_top"></a>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../1603/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../1603/">
        Flutter 위젯 시스템
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../1601/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../1601/">
        Flutter와의 연계
      </a>
</div>
</div>
<p>모바일 UI 구성에서는 Flutter를 통해 Dart를 사용하여 UI를 개발하는 방법을 중점적으로 다룬다. Flutter는 모바일 애플리케이션 개발에서 널리 사용되며, UI 구성 요소를 다루기 위한 다양한 위젯 시스템과 상태 관리를 제공한다. 이를 기반으로 모바일 UI의 주요 구성 요소와 개발 방법을 세부적으로 설명한다.</p>
<h3 id="flutter-ui">Flutter UI 구조의 기본 개념</h3>
<p>Flutter에서 UI는 <code>Widget</code>이라는 개념을 중심으로 구성된다. 모든 Flutter 애플리케이션은 여러 <code>Widget</code>들로 이루어져 있으며, <code>StatelessWidget</code>과 <code>StatefulWidget</code> 두 가지 유형이 있다.</p>
<ul>
<li><code>StatelessWidget</code>: 상태 변화가 없는 정적인 UI 구성에 사용된다. 예를 들어, 단순한 텍스트나 아이콘 등을 표시할 때 사용된다.</li>
<li><code>StatefulWidget</code>: 상태 변화가 필요한 동적인 UI 구성에 사용된다. 사용자 입력이나 애니메이션 등의 변화를 처리하는 UI에 적합한다.</li>
</ul>
<pre><code class="language-dart">class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(
          title: Text('Flutter UI Example'),
        ),
        body: Center(
          child: Text('Hello, Flutter!'),
        ),
      ),
    );
  }
}
</code></pre>
<p>이 코드는 기본적인 Flutter UI 구조로, <code>MaterialApp</code>을 사용하여 앱의 전반적인 디자인을 설정하고, <code>Scaffold</code>를 통해 기본적인 화면 구조를 생성한다.</p>
<h3 id="_1">레이아웃 시스템</h3>
<p>Flutter는 레이아웃을 구성하기 위한 강력한 위젯 시스템을 제공한다. 일반적으로 사용되는 위젯은 <code>Column</code>, <code>Row</code>, <code>Container</code> 등이 있으며, 이러한 위젯을 사용하여 화면의 배치를 제어할 수 있다.</p>
<ul>
<li><code>Column</code>: 세로 방향으로 위젯을 나열할 때 사용된다.</li>
<li><code>Row</code>: 가로 방향으로 위젯을 나열할 때 사용된다.</li>
<li><code>Container</code>: 여백, 경계선, 크기 등을 설정하여 하나의 위젯을 감싸는 용도로 사용된다.</li>
</ul>
<pre><code class="language-dart">body: Column(
  children: &lt;Widget&gt;[
    Text('First line'),
    Text('Second line'),
  ],
),
</code></pre>
<p>이와 같이 <code>Column</code>을 사용하여 여러 텍스트 위젯을 세로로 나열할 수 있다.</p>
<h3 id="_2">위젯 트리 구조</h3>
<p>Flutter에서 UI는 위젯 트리 구조로 이루어진다. 모든 UI 요소는 위젯으로 구성되며, 부모-자식 관계를 통해 위젯들이 서로 결합된다. 이 위젯 트리는 <code>build()</code> 메서드를 통해 재구성되며, 트리 구조는 매우 유연하게 설계될 수 있다.</p>
<h4 id="_3">위젯 트리의 재구성</h4>
<p>Flutter의 핵심은 상태 변화에 따라 위젯 트리가 재구성된다는 것이다. 상태가 변경될 때마다 Flutter는 <code>build()</code> 메서드를 다시 호출하여 UI를 새롭게 렌더링한다. 이 과정에서 성능 최적화를 위해 최적의 재구성 방식이 적용된다.</p>
<div class="mermaid">graph TD;
  A[Widget 트리의 루트] --&gt; B[StatelessWidget]
  A --&gt; C[StatefulWidget]
  C --&gt; D[상태 변경 발생]
  D --&gt; E[위젯 트리 재구성]
</div>
<p>이 다이어그램은 상태 변화에 따른 위젯 트리의 재구성 과정을 보여준다. <code>StatefulWidget</code>에서 상태 변화가 발생하면, Flutter는 해당 부분의 위젯 트리를 재구성한다.</p>
<h3 id="_4">위젯 배치와 정렬</h3>
<p>Flutter에서는 위젯의 배치와 정렬을 간단하게 제어할 수 있는 다양한 속성을 제공한다. 이를 통해 사용자 인터페이스의 구성 요소들이 화면에서 어떻게 배치될지 세부적으로 제어할 수 있다.</p>
<h4 id="_5">주축 및 교차축 정렬</h4>
<p><code>Column</code>이나 <code>Row</code> 위젯을 사용할 때, 각 위젯의 배치 방향에 따라 두 가지 축을 고려할 수 있다:
- <strong>주축(main axis)</strong>: <code>Column</code>에서는 세로 축, <code>Row</code>에서는 가로 축이다.
- <strong>교차축(cross axis)</strong>: 주축에 수직인 축으로, <code>Column</code>에서는 가로 축, <code>Row</code>에서는 세로 축이다.</p>
<p>이 두 축을 기준으로 위젯을 정렬할 수 있는 속성들이 존재한다.
- <code>mainAxisAlignment</code>: 주축에서 위젯을 정렬하는 방식이다. 예를 들어, <code>MainAxisAlignment.center</code>는 모든 위젯을 중앙에 배치한다.
- <code>crossAxisAlignment</code>: 교차축에서 위젯을 정렬하는 방식이다. <code>CrossAxisAlignment.stretch</code>는 위젯을 교차축에 맞게 늘려준다.</p>
<pre><code class="language-dart">Column(
  mainAxisAlignment: MainAxisAlignment.center,
  crossAxisAlignment: CrossAxisAlignment.start,
  children: &lt;Widget&gt;[
    Text('First'),
    Text('Second'),
    Text('Third'),
  ],
)
</code></pre>
<p>이 예시에서는 <code>mainAxisAlignment</code>를 <code>center</code>로 설정하여 위젯들이 세로 중앙에 배치되고, <code>crossAxisAlignment</code>를 <code>start</code>로 설정하여 위젯들이 가로 방향의 시작점에 정렬된다.</p>
<h4 id="flexible-expanded">Flexible과 Expanded</h4>
<p>화면 공간을 보다 효율적으로 활용하기 위해 <code>Flexible</code>과 <code>Expanded</code> 위젯을 사용할 수 있다. 이러한 위젯들은 부모 위젯 내에서 자식 위젯들이 차지하는 공간을 동적으로 조절할 수 있게 해준다.</p>
<ul>
<li><code>Flexible</code>: 위젯이 남은 공간을 일정 비율로 차지하도록 설정할 수 있다.</li>
<li><code>Expanded</code>: 부모 위젯 내의 모든 공간을 자식 위젯이 차지하도록 강제한다.</li>
</ul>
<pre><code class="language-dart">Row(
  children: &lt;Widget&gt;[
    Expanded(
      child: Container(
        color: Colors.red,
        child: Text('Expanded'),
      ),
    ),
    Flexible(
      flex: 2,
      child: Container(
        color: Colors.blue,
        child: Text('Flexible'),
      ),
    ),
  ],
)
</code></pre>
<p>이 코드에서는 <code>Expanded</code> 위젯이 주어진 공간을 모두 차지하고, <code>Flexible</code> 위젯은 남은 공간 중 일부만 차지하게 된다. <code>flex</code> 속성을 통해 비율을 조정할 수 있다.</p>
<h3 id="flutter">Flutter의 반응형 디자인</h3>
<p>모바일 애플리케이션에서는 다양한 화면 크기에 맞추어 UI가 적절하게 동작하도록 해야 한다. Flutter는 반응형 디자인을 쉽게 구현할 수 있도록 도와주는 다양한 도구를 제공한다.</p>
<h4 id="mediaquery">MediaQuery</h4>
<p><code>MediaQuery</code>를 사용하면 현재 장치의 화면 크기, 픽셀 밀도 등을 쉽게 얻을 수 있다. 이를 통해 특정 화면 크기에 맞추어 UI 요소의 크기나 레이아웃을 조정할 수 있다.</p>
<pre><code class="language-dart">@override
Widget build(BuildContext context) {
  var screenWidth = MediaQuery.of(context).size.width;
  return Container(
    width: screenWidth * 0.5,
    color: Colors.green,
    child: Text('반응형 UI'),
  );
}
</code></pre>
<p>이 예시에서는 <code>MediaQuery</code>를 통해 화면 너비의 절반을 차지하는 컨테이너를 생성한다. 화면 크기에 따라 자동으로 조정된다.</p>
<h4 id="layoutbuilder">LayoutBuilder</h4>
<p><code>LayoutBuilder</code> 위젯은 부모 위젯의 크기에 따라 자식 위젯의 레이아웃을 결정할 수 있도록 도와준다. 이 위젯을 사용하면 UI가 다양한 화면 크기에서 유연하게 동작할 수 있다.</p>
<pre><code class="language-dart">LayoutBuilder(
  builder: (BuildContext context, BoxConstraints constraints) {
    if (constraints.maxWidth &lt; 600) {
      return Text('Small Screen');
    } else {
      return Text('Large Screen');
    }
  },
)
</code></pre>
<p>이 코드는 화면 크기에 따라 다른 텍스트를 표시하는 반응형 레이아웃을 구현한다.</p>
<h3 id="_6">상태 관리</h3>
<p>모바일 애플리케이션에서 중요한 부분은 <strong>상태 관리</strong>이다. Flutter는 다양한 상태 관리 방법을 제공하며, 그 중 기본적으로 사용하는 방식은 <code>StatefulWidget</code>에서 상태를 처리하는 것이다.</p>
<h4 id="setstate">setState() 메서드</h4>
<p><code>setState()</code> 메서드는 상태가 변경되었을 때 UI를 업데이트하는 가장 간단한 방법이다. 상태가 변경될 때마다 <code>build()</code> 메서드가 호출되어 위젯 트리가 재구성된다.</p>
<pre><code class="language-dart">class MyStatefulWidget extends StatefulWidget {
  @override
  _MyStatefulWidgetState createState() =&gt; _MyStatefulWidgetState();
}

class _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {
  int _counter = 0;

  void _incrementCounter() {
    setState(() {
      _counter++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('State Management'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: &lt;Widget&gt;[
            Text(
              'You have pushed the button this many times:',
            ),
            Text(
              '$_counter',
              style: Theme.of(context).textTheme.headline4,
            ),
          ],
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        tooltip: 'Increment',
        child: Icon(Icons.add),
      ),
    );
  }
}
</code></pre>
<p>위 코드는 버튼을 누를 때마다 <code>setState()</code>가 호출되어 <code>_counter</code> 변수의 값을 증가시키고, 이 값에 따라 UI가 업데이트된다.</p>
<h3 id="_7">상태 관리의 고급 방법</h3>
<p>Flutter에서는 더 복잡한 상태 관리를 필요로 할 때, <code>Provider</code>, <code>Bloc</code> 패턴, 또는 <code>Riverpod</code> 등의 상태 관리 도구를 사용할 수 있다. 이 도구들은 상태를 보다 효율적이고 확장 가능하게 관리할 수 있도록 도와준다. 간단한 <code>setState()</code> 방식은 소규모 애플리케이션에서는 충분할 수 있지만, 상태가 여러 위젯 간에 공유되거나, 대규모 애플리케이션에서는 관리가 어려워질 수 있기 때문이다.</p>
<h4 id="provider">Provider 패턴</h4>
<p><code>Provider</code>는 Flutter에서 널리 사용되는 상태 관리 도구로, 상태를 트리 구조에서 하위 위젯에 쉽게 전달할 수 있도록 해준다. <code>Provider</code>를 통해 애플리케이션 전역에서 상태를 관리하고 이를 필요로 하는 위젯들이 쉽게 접근할 수 있다.</p>
<ol>
<li><strong>Provider 설정</strong></li>
</ol>
<p>먼저, 상태를 관리할 클래스를 정의한다.</p>
<p>```dart
   class Counter with ChangeNotifier {
     int _count = 0;</p>
<pre><code> int get count =&gt; _count;

 void increment() {
   _count++;
   notifyListeners();
 }
</code></pre>
<p>}
   ```</p>
<p>이 클래스는 <code>ChangeNotifier</code>를 상속받아 상태가 변경될 때 <code>notifyListeners()</code>를 호출하여 UI를 업데이트할 수 있다.</p>
<ol>
<li><strong>Provider 적용</strong></li>
</ol>
<p>애플리케이션 트리의 상위에서 <code>ChangeNotifierProvider</code>로 상태를 공급하고, 하위 위젯에서 상태를 구독한다.</p>
<p><code>dart
   void main() {
     runApp(
       ChangeNotifierProvider(
         create: (context) =&gt; Counter(),
         child: MyApp(),
       ),
     );
   }</code></p>
<ol>
<li><strong>상태 구독</strong></li>
</ol>
<p>하위 위젯에서는 <code>Provider.of&lt;Counter&gt;(context)</code>를 통해 상태를 접근하거나, <code>Consumer</code> 위젯을 사용하여 상태 변화에 맞춰 UI를 자동으로 업데이트한다.</p>
<p><code>dart
   @override
   Widget build(BuildContext context) {
     final counter = Provider.of&lt;Counter&gt;(context);
     return Scaffold(
       appBar: AppBar(
         title: Text('Provider Example'),
       ),
       body: Center(
         child: Column(
           mainAxisAlignment: MainAxisAlignment.center,
           children: &lt;Widget&gt;[
             Text('Counter: ${counter.count}'),
           ],
         ),
       ),
       floatingActionButton: FloatingActionButton(
         onPressed: counter.increment,
         child: Icon(Icons.add),
       ),
     );
   }</code></p>
<p>이 방식은 상태 관리가 더 복잡해질 경우, 상태를 전역에서 다루기 때문에 트리 깊숙한 곳에 있는 위젯들이 상태에 쉽게 접근하고 UI를 효율적으로 갱신할 수 있다.</p>
<h3 id="_8">테마와 스타일 관리</h3>
<p>모바일 UI에서 중요한 또 다른 요소는 <strong>테마와 스타일 관리</strong>이다. Flutter에서는 전역 및 개별 위젯 수준에서 테마를 설정할 수 있는 기능을 제공한다. 이를 통해 일관된 디자인을 유지하면서도 특정 위젯에 대해서는 별도의 스타일을 적용할 수 있다.</p>
<h4 id="_9">전역 테마 설정</h4>
<p>Flutter에서는 <code>MaterialApp</code>의 <code>theme</code> 속성을 사용하여 앱 전체의 전역 테마를 설정할 수 있다. 전역 테마는 앱 전반에 걸쳐 적용되며, 텍스트 스타일, 버튼 디자인, 색상 등을 정의할 수 있다.</p>
<pre><code class="language-dart">MaterialApp(
  theme: ThemeData(
    primarySwatch: Colors.blue,
    textTheme: TextTheme(
      bodyText2: TextStyle(fontSize: 16, color: Colors.black),
    ),
  ),
  home: MyHomePage(),
);
</code></pre>
<p>위 코드에서 <code>ThemeData</code>를 사용하여 전역적으로 기본 색상 팔레트와 텍스트 스타일을 설정할 수 있다.</p>
<h4 id="_10">개별 위젯 스타일 설정</h4>
<p>전역 테마 외에도 개별 위젯에 대해 별도로 스타일을 설정할 수 있다. 이는 특정 UI 요소에 대해 맞춤형 디자인을 적용하고자 할 때 유용하다.</p>
<pre><code class="language-dart">Text(
  'Custom Style Text',
  style: TextStyle(
    fontSize: 20,
    fontWeight: FontWeight.bold,
    color: Colors.red,
  ),
);
</code></pre>
<p>이 코드에서는 텍스트의 크기, 두께, 색상을 개별적으로 설정하여, 전역 테마와는 다른 스타일을 적용한다.</p>
<h3 id="2d">2D 그래픽 처리</h3>
<p>모바일 UI에서는 간단한 텍스트나 버튼 외에도 2D 그래픽을 처리하는 기능이 필요할 수 있다. Flutter는 <code>CustomPainter</code> 클래스를 통해 2D 그래픽을 그릴 수 있도록 지원한다. 이를 사용하면 다양한 도형, 차트, 애니메이션 등을 구현할 수 있다.</p>
<h4 id="custompainter">CustomPainter를 사용한 그래픽 그리기</h4>
<p><code>CustomPainter</code>는 UI 요소 위에 직접 도형을 그리기 위한 도구로, <code>paint()</code> 메서드를 사용하여 다양한 그래픽 요소를 그릴 수 있다. 이를 통해 맞춤형 2D 그래픽을 생성할 수 있다.</p>
<pre><code class="language-dart">class MyPainter extends CustomPainter {
  @override
  void paint(Canvas canvas, Size size) {
    final paint = Paint()
      ..color = Colors.blue
      ..strokeWidth = 5
      ..style = PaintingStyle.stroke;

    canvas.drawRect(
      Rect.fromLTWH(50, 50, 200, 200),
      paint,
    );
  }

  @override
  bool shouldRepaint(covariant CustomPainter oldDelegate) {
    return false;
  }
}
</code></pre>
<p>위 코드에서는 <code>CustomPainter</code>를 사용하여 파란색 사각형을 그리는 예시를 보여준다. <code>Canvas</code> 객체는 Flutter의 2D 그래픽 처리를 담당하는 핵심 객체로, 도형을 그리는 다양한 메서드를 제공한다.</p>
<h4 id="custompainter_1">CustomPainter 적용</h4>
<p><code>CustomPainter</code>로 정의한 그래픽은 <code>CustomPaint</code> 위젯을 통해 Flutter UI에 적용할 수 있다.</p>
<pre><code class="language-dart">CustomPaint(
  size: Size(300, 300),
  painter: MyPainter(),
);
</code></pre>
<p>이 위젯은 <code>CustomPainter</code>를 호출하여 해당 영역에 정의한 2D 그래픽을 렌더링한다.</p>
<br/>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../1603/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../1603/">
        Flutter 위젯 시스템
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../1601/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../1601/">
        Flutter와의 연계
      </a>
</div>
</div>
<br/>
</div>
<footer class="container-fluid wm-page-content">
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>