<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/programming/dart/chapter_11/1103/">
    <link rel="shortcut icon" href="../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>파일과 디렉토리 탐색 - 소프트웨어 융합</title>
    <link href="../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../css/highlight.css">
    <link href="../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\ub514\ub809\ud1a0\ub9ac \ud0d0\uc0c9 \uac1c\uc694", url: "#_top", children: [
          ]},
          {title: "Directory \ud074\ub798\uc2a4 \uc0ac\uc6a9\ubc95", url: "#directory", children: [
          ]},
          {title: "\uc7ac\uadc0\uc801\uc73c\ub85c \ub514\ub809\ud1a0\ub9ac \ud0d0\uc0c9", url: "#_2", children: [
          ]},
          {title: "\ud2b9\uc815 \ud655\uc7a5\uc790 \ud30c\uc77c \uac80\uc0c9", url: "#_3", children: [
          ]},
          {title: "\ub514\ub809\ud1a0\ub9ac \uc874\uc7ac \uc5ec\ubd80 \ud655\uc778", url: "#_4", children: [
          ]},
          {title: "\ub514\ub809\ud1a0\ub9ac \uc0dd\uc131", url: "#_5", children: [
          ]},
          {title: "\ud30c\uc77c\uacfc \ub514\ub809\ud1a0\ub9ac \uc0ad\uc81c", url: "#_6", children: [
          ]},
          {title: "\ub514\ub809\ud1a0\ub9ac\uc758 \uacbd\ub85c \uc815\ubcf4", url: "#_7", children: [
          ]},
          {title: "\ud30c\uc77c \uc2dc\uc2a4\ud15c\uc758 \ub514\ub809\ud1a0\ub9ac \ud2b8\ub9ac \uc2dc\uac01\ud654", url: "#_8", children: [
          ]},
          {title: "\ub514\ub809\ud1a0\ub9ac\uc758 \uba54\ud0c0\ub370\uc774\ud130 \uc811\uadfc", url: "#_9", children: [
          ]},
          {title: "\uc2ec\ubcfc\ub9ad \ub9c1\ud06c \ucc98\ub9ac", url: "#_10", children: [
          ]},
          {title: "\uacbd\ub85c \uc870\uc791", url: "#_11", children: [
          ]},
          {title: "\uacbd\ub85c \uc870\uc791\uc744 \uc704\ud55c \ud328\ud0a4\uc9c0", url: "#_12", children: [
          ]},
        ];

    </script>
    <script src="../../../../js/base.js"></script>
      <script src="../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter_12/1201/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter_12/1201/" class="btn btn-xs btn-link">
        HTTP 요청 보내기
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../1102/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../1102/" class="btn btn-xs btn-link">
        비동기 파일 처리
      </a>
    </div>
    
  </div>

    

    <h3 id="_1">디렉토리 탐색 개요</h3>
<p>Dart에서 파일 시스템을 탐색하는 방법은 매우 직관적이다. <code>dart:io</code> 패키지를 사용하여 파일과 디렉토리를 처리할 수 있으며, 이를 통해 파일을 읽고 쓰는 작업뿐만 아니라 디렉토리의 내용을 검색하는 작업도 수행할 수 있다.</p>
<p>Dart의 <code>Directory</code> 클래스는 파일 시스템의 디렉토리를 나타내며, 디렉토리 내의 파일과 서브 디렉토리를 쉽게 탐색할 수 있는 기능을 제공한다. </p>
<h3 id="directory">Directory 클래스 사용법</h3>
<p><code>Directory</code> 클래스는 다음과 같이 사용된다.</p>
<pre><code class="language-dart">import 'dart:io';

void listDirectory(String path) {
  var directory = Directory(path);
  directory.list().forEach((entity) {
    print(entity.path);
  });
}
</code></pre>
<p>이 코드는 주어진 경로 <code>path</code>에 있는 모든 파일과 디렉토리를 출력한다. <code>directory.list()</code> 메소드는 비동기적으로 <code>Stream</code>을 반환하므로 디렉토리의 내용을 순차적으로 처리할 수 있다.</p>
<h3 id="_2">재귀적으로 디렉토리 탐색</h3>
<p>때로는 하위 디렉토리까지 포함하여 재귀적으로 파일을 탐색해야 할 경우가 있다. 이를 위해서는 <code>listSync()</code> 메소드를 사용하여 동기 방식으로 디렉토리를 탐색할 수 있다. </p>
<pre><code class="language-dart">void listAllFiles(String path) {
  var directory = Directory(path);
  directory.listSync(recursive: true).forEach((entity) {
    print(entity.path);
  });
}
</code></pre>
<p>위 코드에서 <code>recursive: true</code> 옵션을 주면 하위 디렉토리까지 탐색하여 그 안에 있는 파일 및 디렉토리 경로를 모두 출력할 수 있다.</p>
<h3 id="_3">특정 확장자 파일 검색</h3>
<p>디렉토리를 탐색하는 과정에서 특정 확장자의 파일만 검색하고 싶을 때는, 파일의 경로에서 확장자를 검사하는 방법을 사용할 수 있다. Dart에서는 <code>entity.path</code>를 통해 파일의 경로를 확인하고 이를 기반으로 확장자를 추출할 수 있다.</p>
<pre><code class="language-dart">void listSpecificFiles(String path, String extension) {
  var directory = Directory(path);
  directory.listSync().forEach((entity) {
    if (entity.path.endsWith(extension)) {
      print(entity.path);
    }
  });
}
</code></pre>
<p>이 코드는 주어진 디렉토리에서 특정 확장자(예: <code>.txt</code>)를 가진 파일만 출력한다.</p>
<h3 id="_4">디렉토리 존재 여부 확인</h3>
<p>디렉토리를 탐색하기 전에 해당 경로가 실제로 존재하는지 확인하는 것은 매우 중요하다. 이를 위해 <code>Directory</code> 클래스의 <code>existsSync()</code> 메소드를 사용할 수 있다.</p>
<pre><code class="language-dart">bool checkDirectoryExists(String path) {
  var directory = Directory(path);
  return directory.existsSync();
}
</code></pre>
<p>이 코드는 주어진 경로의 디렉토리가 존재하는지 여부를 <code>true</code> 또는 <code>false</code>로 반환한다.</p>
<h3 id="_5">디렉토리 생성</h3>
<p>파일 탐색을 하기 전에 원하는 경로에 디렉토리가 존재하지 않는다면 디렉토리를 생성해야 할 경우도 있다. Dart에서는 <code>createSync()</code> 메소드를 사용하여 동기적으로 디렉토리를 생성할 수 있다. </p>
<pre><code class="language-dart">void createDirectory(String path) {
  var directory = Directory(path);
  if (!directory.existsSync()) {
    directory.createSync();
    print('Directory created: $path');
  } else {
    print('Directory already exists.');
  }
}
</code></pre>
<p>위 코드는 지정한 경로에 디렉토리가 존재하지 않으면 새 디렉토리를 생성하고, 이미 존재하면 생성하지 않는다.</p>
<p>또한, 비동기 방식으로 디렉토리를 생성하고 싶을 때는 <code>create()</code> 메소드를 사용할 수 있다.</p>
<pre><code class="language-dart">Future&lt;void&gt; createDirectoryAsync(String path) async {
  var directory = Directory(path);
  if (!await directory.exists()) {
    await directory.create();
    print('Directory created: $path');
  } else {
    print('Directory already exists.');
  }
}
</code></pre>
<p>비동기 방식은 파일 시스템 작업이 완료되기를 기다리는 동안 다른 작업을 처리할 수 있어 더 효율적이다.</p>
<h3 id="_6">파일과 디렉토리 삭제</h3>
<p>디렉토리나 파일을 삭제할 때는 <code>deleteSync()</code> 메소드를 사용한다. 이때, <code>recursive: true</code> 옵션을 주면 디렉토리 내 모든 파일과 서브 디렉토리를 재귀적으로 삭제할 수 있다.</p>
<pre><code class="language-dart">void deleteDirectory(String path) {
  var directory = Directory(path);
  if (directory.existsSync()) {
    directory.deleteSync(recursive: true);
    print('Directory deleted: $path');
  } else {
    print('Directory does not exist.');
  }
}
</code></pre>
<p>비동기 방식으로 삭제할 경우에는 <code>delete()</code> 메소드를 사용할 수 있다.</p>
<pre><code class="language-dart">Future&lt;void&gt; deleteDirectoryAsync(String path) async {
  var directory = Directory(path);
  if (await directory.exists()) {
    await directory.delete(recursive: true);
    print('Directory deleted: $path');
  } else {
    print('Directory does not exist.');
  }
}
</code></pre>
<p>이 코드들은 파일 시스템 내의 디렉토리나 파일을 안전하게 삭제하는 방법을 보여준다.</p>
<h3 id="_7">디렉토리의 경로 정보</h3>
<p>Dart의 <code>Directory</code> 클래스는 여러 가지 유용한 경로 정보를 제공한다. 예를 들어, 사용자의 홈 디렉토리나 임시 디렉토리 경로를 얻을 수 있다.</p>
<pre><code class="language-dart">void getDirectoryPaths() {
  print('Temporary Directory: ${Directory.systemTemp.path}');
  print('Current Directory: ${Directory.current.path}');
}
</code></pre>
<p><code>Directory.systemTemp</code>는 임시 파일을 저장할 수 있는 시스템의 임시 디렉토리 경로를 반환하며, <code>Directory.current</code>는 현재 실행 중인 프로그램의 디렉토리 경로를 반환한다.</p>
<h3 id="_8">파일 시스템의 디렉토리 트리 시각화</h3>
<p>여러 디렉토리를 재귀적으로 탐색할 때 그 구조를 시각화하여 보여줄 수 있다. Dart에서는 재귀적인 탐색을 통해 디렉토리 트리를 생성하고, 이를 콘솔에 출력할 수 있다.</p>
<pre><code class="language-dart">void printDirectoryTree(String path, {String prefix = ''}) {
  var directory = Directory(path);
  if (directory.existsSync()) {
    directory.listSync().forEach((entity) {
      print('$prefix${entity.path}');
      if (entity is Directory) {
        printDirectoryTree(entity.path, prefix: '$prefix  ');
      }
    });
  }
}
</code></pre>
<p>이 함수는 지정된 경로를 재귀적으로 탐색하며, 디렉토리의 트리 구조를 보기 쉽게 출력해 준다. 이를 통해 파일 시스템의 디렉토리 구조를 시각적으로 이해하기 쉽다.</p>
<h3 id="_9">디렉토리의 메타데이터 접근</h3>
<p>디렉토리뿐만 아니라 파일의 메타데이터 정보에도 접근할 수 있다. Dart에서는 파일과 디렉토리의 생성 날짜, 수정 날짜, 크기 등의 정보를 가져올 수 있다. 이를 위해서는 <code>statSync()</code> 또는 비동기적으로 <code>stat()</code> 메소드를 사용할 수 있다.</p>
<pre><code class="language-dart">void printDirectoryMetadata(String path) {
  var directory = Directory(path);
  if (directory.existsSync()) {
    var stats = directory.statSync();
    print('Type: ${stats.type}');
    print('Changed: ${stats.changed}');
    print('Modified: ${stats.modified}');
    print('Accessed: ${stats.accessed}');
  } else {
    print('Directory does not exist.');
  }
}
</code></pre>
<p>위 코드에서 <code>statSync()</code> 메소드를 사용하여 디렉토리의 메타데이터에 동기적으로 접근한다. 이를 통해 디렉토리 또는 파일의 마지막 수정 시간, 접근 시간, 파일 유형 등을 확인할 수 있다.</p>
<p>비동기 방식으로 메타데이터를 얻고자 할 때는 다음과 같이 <code>await</code>을 사용하여 처리할 수 있다.</p>
<pre><code class="language-dart">Future&lt;void&gt; printDirectoryMetadataAsync(String path) async {
  var directory = Directory(path);
  if (await directory.exists()) {
    var stats = await directory.stat();
    print('Type: ${stats.type}');
    print('Changed: ${stats.changed}');
    print('Modified: ${stats.modified}');
    print('Accessed: ${stats.accessed}');
  } else {
    print('Directory does not exist.');
  }
}
</code></pre>
<h3 id="_10">심볼릭 링크 처리</h3>
<p>파일 시스템 탐색 중에는 심볼릭 링크가 포함될 수 있다. 심볼릭 링크는 파일이나 디렉토리의 경로에 대한 참조이다. Dart의 <code>Link</code> 클래스를 사용하여 심볼릭 링크를 처리할 수 있다.</p>
<p>심볼릭 링크를 생성하는 예제는 다음과 같다.</p>
<pre><code class="language-dart">void createSymbolicLink(String targetPath, String linkPath) {
  var link = Link(linkPath);
  link.createSync(targetPath);
  print('Symbolic link created: $linkPath -&gt;$targetPath');
}
</code></pre>
<p>이 코드는 <code>targetPath</code>를 참조하는 심볼릭 링크를 <code>linkPath</code> 경로에 생성한다. 비동기 방식으로도 생성할 수 있다.</p>
<p>심볼릭 링크를 탐색할 때는 <code>resolveSymbolicLinks()</code> 메소드를 사용하여 실제 파일 경로를 확인할 수 있다.</p>
<pre><code class="language-dart">void resolveLink(String linkPath) {
  var link = Link(linkPath);
  print('Resolved link: ${link.resolveSymbolicLinksSync()}');
}
</code></pre>
<p>비동기 방식의 경우는 <code>resolveSymbolicLinks()</code> 메소드를 <code>await</code>하여 사용한다.</p>
<pre><code class="language-dart">Future&lt;void&gt; resolveLinkAsync(String linkPath) async {
  var link = Link(linkPath);
  print('Resolved link: ${await link.resolveSymbolicLinks()}');
}
</code></pre>
<h3 id="_11">경로 조작</h3>
<p>디렉토리 탐색을 할 때 경로를 조작하는 방법도 중요하다. Dart에서는 <code>Path</code> 클래스가 존재하지 않지만, Dart의 <code>String</code> 메소드를 사용하여 경로를 쉽게 다룰 수 있다. 파일 경로에서 파일명을 추출하거나 확장자를 제거하는 등의 작업을 <code>String</code> 메소드로 처리할 수 있다.</p>
<pre><code class="language-dart">void manipulatePath(String filePath) {
  print('Directory name: ${filePath.split(Platform.pathSeparator).last}');
  print('File extension: ${filePath.split('.').last}');
}
</code></pre>
<p>이 코드는 경로에서 디렉토리 또는 파일명을 추출하고, 파일의 확장자를 가져오는 간단한 예이다.</p>
<h3 id="_12">경로 조작을 위한 패키지</h3>
<p>경로를 보다 효율적으로 조작하기 위해 Dart에서는 <code>path</code> 패키지를 사용할 수 있다. 이 패키지를 사용하면 OS에 상관없이 플랫폼 간 호환성을 보장하며 경로를 처리할 수 있다.</p>
<pre><code class="language-dart">import 'package:path/path.dart' as p;

void pathOperations(String filePath) {
  print('Base name: ${p.basename(filePath)}');
  print('Directory name: ${p.dirname(filePath)}');
  print('Extension: ${p.extension(filePath)}');
}
</code></pre>
<p>이 코드는 <code>path</code> 패키지를 사용하여 파일의 경로에서 기본 이름, 디렉토리 이름, 확장자를 쉽게 추출한다. 이 패키지는 경로 관련 작업에서 매우 유용하다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter_12/1201/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter_12/1201/" class="btn btn-xs btn-link">
        HTTP 요청 보내기
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../1102/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../1102/" class="btn btn-xs btn-link">
        비동기 파일 처리
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>