<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/programming/cplusplus/cmake/chapter%2003/002/">
    <link rel="shortcut icon" href="../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>변수 선언 및 사용 - 실험 도서관</title>
    <link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../css/highlight.css">
    <link href="../../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\ubcc0\uc218 \uc120\uc5b8 (Variable Declaration)", url: "#_top", children: [
          ]},
          {title: "\ubcc0\uc218 \uc0ac\uc6a9 (Variable Usage)", url: "#variable-usage", children: [
          ]},
          {title: "\ubcc0\uc218 \uc2a4\ucf54\ud504 (Variable Scope)", url: "#variable-scope", children: [
          ]},
          {title: "\uce90\uc2dc \ubcc0\uc218 (Cache Variables)", url: "#cache-variables", children: [
          ]},
          {title: "\uc870\uac74\ubb38\uacfc \ubcc0\uc218 (Conditionals and Variables)", url: "#conditionals-and-variables", children: [
          ]},
          {title: "\ubcc0\uc218\uc758 \ub9ac\uc2a4\ud2b8 (Variable Lists)", url: "#variable-lists", children: [
          ]},
          {title: "\ubcc0\uc218\uc758 \ucd08\uae30\ud654\uc640 \uae30\ubcf8\uac12 (Initialization and Default Values)", url: "#initialization-and-default-values", children: [
          ]},
        ];

    </script>
    <script src="../../../../../js/base.js"></script>
      <script src="../../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <h3 id="variable-declaration">변수 선언 (Variable Declaration)</h3>
<p>CMake에서 변수는 <code>set()</code> 명령어를 통해 선언된다. <code>set()</code> 명령어는 변수의 이름과 그 값을 할당하는 데 사용된다. 예를 들어, <code>set(MY_VAR "Hello")</code>는 <code>MY_VAR</code>라는 이름의 변수를 선언하고 그 값으로 <code>"Hello"</code>를 할당한다. 변수의 이름은 대소문자를 구분하지 않는다.</p>
<p>변수는 다음과 같이 선언된다:</p>
<pre><code class="language-cmake">set(변수명 값)
</code></pre>
<p>변수는 숫자, 문자열, 파일 경로, Boolean 값 등 다양한 형식을 가질 수 있다. CMake에서는 이러한 변수들이 어떤 타입인지 명시하지 않기 때문에 동적으로 타입이 결정된다.</p>
<h3 id="variable-usage">변수 사용 (Variable Usage)</h3>
<p>선언된 변수는 <code>${}</code> 구문을 통해 참조된다. 예를 들어, <code>set(MY_VAR "Hello")</code>로 선언된 변수를 참조하려면 <code>${MY_VAR}</code>로 사용하면 된다. 변수를 참조할 때는 항상 <code>${}</code> 구문을 사용해야 하며, 그렇지 않으면 변수의 이름이 문자열로 취급될 수 있다.</p>
<pre><code class="language-cmake">message(STATUS &quot;The value of MY_VAR is: ${MY_VAR}&quot;)
</code></pre>
<p>이 예제에서 <code>message()</code> 함수는 <code>MY_VAR</code> 변수의 값을 출력한다.</p>
<h3 id="variable-scope">변수 스코프 (Variable Scope)</h3>
<p>CMake 변수는 선언된 위치에 따라 스코프(범위)가 달라진다. 기본적으로 변수는 선언된 디렉토리와 그 하위 디렉토리에서만 유효한다. 이를 디렉토리 스코프(Directory Scope)라고 한다. </p>
<p>변수 스코프에는 크게 다음과 같은 종류가 있다:</p>
<ul>
<li><strong>디렉토리 스코프(Directory Scope):</strong> 기본 스코프로, 변수가 선언된 디렉토리와 그 하위 디렉토리에서만 유효한다.</li>
<li><strong>캐시 스코프(Cache Scope):</strong> 캐시 변수는 CMake가 처음 실행될 때 설정되며, 이후 CMake 실행 시에도 그 값을 유지한다. 캐시 변수는 <code>set()</code> 명령어에 <code>CACHE</code> 옵션을 사용하여 선언된다.</li>
<li><strong>전역 스코프(Global Scope):</strong> 특정 변수는 CMake의 전체 프로젝트에서 유효할 수 있으며, 이를 전역 스코프라고 한다. 그러나 일반적으로 CMake에서는 전역 스코프 변수를 권장하지 않는다.</li>
</ul>
<h3 id="cache-variables">캐시 변수 (Cache Variables)</h3>
<p>캐시 변수는 사용자가 직접 설정하거나 <code>cmake</code> 명령어를 실행할 때, CMake GUI, 또는 <code>ccmake</code>에서 설정할 수 있다. 캐시 변수는 CMakeLists.txt 파일에 <code>set()</code> 명령어를 사용할 때 <code>CACHE</code> 키워드를 통해 선언할 수 있다.</p>
<pre><code class="language-cmake">set(MY_VAR &quot;Hello&quot; CACHE STRING &quot;A cached variable&quot;)
</code></pre>
<p>이 변수는 프로젝트 내의 모든 CMakeLists.txt 파일에서 접근할 수 있으며, CMake가 다시 실행될 때도 그 값을 유지한다.</p>
<h3 id="conditionals-and-variables">조건문과 변수 (Conditionals and Variables)</h3>
<p>CMake에서 변수는 조건문 내에서 사용될 수 있다. 예를 들어, 특정 조건에 따라 다른 값을 설정하거나 특정 코드를 실행할 수 있다. </p>
<pre><code class="language-cmake">if(MY_VAR STREQUAL &quot;Hello&quot;)
    message(STATUS &quot;MY_VAR is Hello&quot;)
endif()
</code></pre>
<p>이 예제에서는 <code>MY_VAR</code>의 값이 <code>"Hello"</code>인지 확인하고, 조건이 참이면 메시지를 출력한다.</p>
<h3 id="variable-lists">변수의 리스트 (Variable Lists)</h3>
<p>CMake 변수는 하나의 값이 아니라 여러 값을 가질 수 있으며, 이를 리스트라고 한다. 리스트는 세미콜론(<code>;</code>)으로 구분된 값들의 집합이다.</p>
<pre><code class="language-cmake">set(MY_LIST &quot;one;two;three&quot;)
</code></pre>
<p>이 변수는 세 개의 값을 가진 리스트로, 각각 <code>one</code>, <code>two</code>, <code>three</code>가 된다. 리스트의 요소에 접근하거나 조작하기 위해 <code>list()</code> 명령어를 사용할 수 있다.</p>
<pre><code class="language-cmake">list(APPEND MY_LIST &quot;four&quot;)
</code></pre>
<p>이 명령어는 <code>MY_LIST</code> 변수에 <code>four</code> 값을 추가한다.</p>
<h3 id="initialization-and-default-values">변수의 초기화와 기본값 (Initialization and Default Values)</h3>
<p>변수는 선언과 동시에 초기화할 수 있으며, 초기화되지 않은 변수는 참조할 때 빈 문자열로 간주된다. 특정 변수가 이미 선언되어 있는지 여부를 확인하려면 <code>if(DEFINED 변수명)</code> 구문을 사용할 수 있다.</p>
<pre><code class="language-cmake">if(NOT DEFINED MY_VAR)
    set(MY_VAR &quot;DefaultValue&quot;)
endif()
</code></pre>
<p>이 구문은 <code>MY_VAR</code> 변수가 선언되지 않았다면 <code>"DefaultValue"</code>로 초기화한다.</p>
<hr />
<p>관련 자료:
- CMake Documentation: https://cmake.org/cmake/help/latest/
- Mastering CMake by Ken Martin and Bill Hoffman</p>

  <br>
    

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>