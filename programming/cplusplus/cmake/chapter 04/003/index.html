<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/programming/cplusplus/cmake/chapter%2004/003/">
    <link rel="shortcut icon" href="../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>타겟 생성 - 실험 도서관</title>
    <link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../css/highlight.css">
    <link href="../../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\ud0c0\uac9f\uc758 \uae30\ubcf8 \uac1c\ub150", url: "#_top", children: [
          ]},
          {title: "\ud0c0\uac9f \uc0dd\uc131 \uba85\ub839\uc5b4", url: "#_2", children: [
          ]},
          {title: "\ud0c0\uac9f \uc18d\uc131 \uc124\uc815", url: "#_3", children: [
          ]},
          {title: "\ud0c0\uac9f \uc18d\uc131\uc758 \uc811\uadfc\uacfc \uc218\uc815", url: "#_4", children: [
          ]},
          {title: "\uc758\uc874\uc131 \uad00\ub9ac", url: "#_5", children: [
          ]},
          {title: "\ud0c0\uac9f \uc124\uce58", url: "#_6", children: [
          ]},
        ];

    </script>
    <script src="../../../../../js/base.js"></script>
      <script src="../../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <p>CMake는 프로젝트를 빌드하기 위해 사용되는 강력한 도구이다. 타겟(Target)은 CMake에서 중요한 개념으로, 빌드할 수 있는 실행 파일, 라이브러리 또는 커스텀 명령어 등을 의미한다. 타겟을 생성하고 관리하는 방법은 CMakeLists.txt 파일에서 중요한 부분을 차지한다.</p>
<h3 id="_1">타겟의 기본 개념</h3>
<p>CMake에서 타겟은 프로젝트 빌드의 핵심 요소이다. 타겟은 실행 파일, 정적 라이브러리, 동적 라이브러리 등 다양한 형태로 존재할 수 있다. 각 타겟은 독립적으로 빌드되며, 소스 파일 및 의존성을 포함한다.</p>
<h3 id="_2">타겟 생성 명령어</h3>
<p>타겟을 생성하기 위해 CMake는 <code>add_executable()</code>과 <code>add_library()</code> 같은 명령어를 제공한다.</p>
<ul>
<li><strong>add_executable(target_name source1 source2 ...)</strong>: 실행 파일 타겟을 생성한다. <code>target_name</code>은 타겟의 이름이며, 뒤따르는 소스 파일 리스트는 이 타겟에 포함될 파일들이다.</li>
</ul>
<p><code>cmake
  add_executable(MyApp main.cpp utils.cpp)</code></p>
<p>이 명령어는 <code>MyApp</code>이라는 이름의 실행 파일을 생성한다.</p>
<ul>
<li><strong>add_library(target_name [STATIC | SHARED | MODULE] source1 source2 ...)</strong>: 라이브러리 타겟을 생성한다. 라이브러리는 정적(<code>STATIC</code>), 동적(<code>SHARED</code>), 모듈(<code>MODULE</code>)로 구분된다. </li>
</ul>
<p><code>cmake
  add_library(MyLib STATIC lib.cpp)</code></p>
<p>위의 예에서는 <code>MyLib</code>이라는 이름의 정적 라이브러리를 생성한다.</p>
<h3 id="_3">타겟 속성 설정</h3>
<p>타겟이 생성된 후, 타겟에 여러 가지 속성을 설정할 수 있다. 이는 타겟의 동작을 제어하거나, 추가적인 설정을 적용하는 데 사용된다.</p>
<ul>
<li><strong>target_include_directories(target_name PUBLIC|PRIVATE|INTERFACE dirs...)</strong>: 타겟의 포함 디렉토리를 설정한다. <code>PUBLIC</code>, <code>PRIVATE</code>, <code>INTERFACE</code> 키워드는 이 포함 디렉토리가 타겟 자신과 타겟을 의존하는 타겟에 어떻게 적용될지를 결정한다.</li>
</ul>
<p><code>cmake
  target_include_directories(MyApp PRIVATE include/)</code></p>
<p>위의 예에서는 <code>MyApp</code> 타겟에 대해 <code>include/</code> 디렉토리를 포함 경로로 추가한다.</p>
<ul>
<li><strong>target_link_libraries(target_name PUBLIC|PRIVATE|INTERFACE libraries...)</strong>: 타겟에 연결할 라이브러리를 지정한다. 이 명령어는 타겟이 다른 라이브러리와의 의존성을 가지도록 설정한다.</li>
</ul>
<p><code>cmake
  target_link_libraries(MyApp PRIVATE MyLib)</code></p>
<p>이 명령어는 <code>MyApp</code> 타겟이 <code>MyLib</code> 라이브러리를 링크하도록 설정한다.</p>
<h3 id="_4">타겟 속성의 접근과 수정</h3>
<p>CMake에서는 타겟의 다양한 속성을 확인하고 수정할 수 있는 명령어들을 제공한다.</p>
<ul>
<li><strong>set_target_properties(target_name PROPERTIES prop1 value1 prop2 value2 ...)</strong>: 타겟의 속성을 설정한다.</li>
</ul>
<p><code>cmake
  set_target_properties(MyApp PROPERTIES CXX_STANDARD 17)</code></p>
<p>위의 예에서는 <code>MyApp</code> 타겟이 C++17 표준을 사용하도록 설정한다.</p>
<ul>
<li><strong>get_target_property(var target_name property)</strong>: 타겟의 속성을 가져와서 변수에 저장한다.</li>
</ul>
<p><code>cmake
  get_target_property(OutputName MyApp OUTPUT_NAME)</code></p>
<p>이 명령어는 <code>MyApp</code> 타겟의 <code>OUTPUT_NAME</code> 속성을 <code>OutputName</code> 변수에 저장한다.</p>
<h3 id="_5">의존성 관리</h3>
<p>타겟 간의 의존성을 관리하는 것은 매우 중요하다. CMake는 이를 자동화할 수 있는 여러 도구를 제공한다.</p>
<ul>
<li><strong>add_dependencies(target_name depend_target1 depend_target2 ...)</strong>: 타겟 간의 빌드 순서를 설정한다. 특정 타겟이 다른 타겟들에 의존해야 하는 경우 사용한다.</li>
</ul>
<p><code>cmake
  add_dependencies(MyApp MyLib)</code></p>
<p>위의 예에서는 <code>MyApp</code> 타겟이 <code>MyLib</code> 타겟에 의존성을 가지며, <code>MyLib</code>이 먼저 빌드되어야 함을 의미한다.</p>
<h3 id="_6">타겟 설치</h3>
<p>타겟을 생성한 후, CMake를 통해 설치할 수도 있다.</p>
<ul>
<li><strong>install(TARGETS target_name DESTINATION <dir>)</strong>: 타겟을 지정된 디렉토리에 설치한다.</li>
</ul>
<p><code>cmake
  install(TARGETS MyApp DESTINATION bin)</code></p>
<p>이 명령어는 <code>MyApp</code> 실행 파일을 <code>bin</code> 디렉토리에 설치한다.</p>
<hr />
<p>관련 자료:</p>
<ul>
<li><a href="https://cmake.org/cmake/help/latest/">CMake Documentation</a></li>
<li><a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">CMake Tutorial</a></li>
<li><a href="https://cliutils.gitlab.io/modern-cmake/">CMake Best Practices</a></li>
</ul>

  <br>
    

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>