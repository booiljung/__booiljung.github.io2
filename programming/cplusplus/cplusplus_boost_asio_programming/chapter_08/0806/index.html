<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://booiljung.github.io/programming/cplusplus/cplusplus_boost_asio_programming/chapter_08/0806/" rel="canonical"/>
<link href="../../../../../img/favicon.ico" rel="shortcut icon"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<title>타이머 비동기 작업의 오류 처리 - 소프트웨어 융합</title>
<link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet"/>
<link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet"/>
<link href="../../../../../css/base.css" rel="stylesheet"/>
<link href="../../../../../css/highlight.css" rel="stylesheet"/>
<link href="../../../../../css/custom.css" rel="stylesheet"/>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<script src="../../../../../js/jquery-3.2.1.min.js"></script>
<script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
<script src="../../../../../js/highlight.pack.js"></script>
<base target="_top"/>
<script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\uc624\ub958 \ucc98\ub9ac\uc758 \uc911\uc694\uc131", url: "#_top", children: [
          ]},
          {title: "\ube44\ub3d9\uae30 \uc791\uc5c5\uc5d0\uc11c \uc624\ub958 \uc804\ub2ec", url: "#_2", children: [
          ]},
          {title: "Boost.Asio\uc758 \uc624\ub958 \ucf54\ub4dc \ucc98\ub9ac \uba54\ucee4\ub2c8\uc998", url: "#boostasio", children: [
          ]},
          {title: "\ud0c0\uc774\uba38\uc5d0\uc11c \ubc1c\uc0dd \uac00\ub2a5\ud55c \uc8fc\uc694 \uc624\ub958\ub4e4", url: "#_3", children: [
          ]},
          {title: "\uc624\ub958 \ucc98\ub9ac \uc804\ub7b5", url: "#_4", children: [
              {title: "\ubcf5\uad6c \uac00\ub2a5\ud55c \uc624\ub958", url: "#_5" },
              {title: "\ubcf5\uad6c \ubd88\uac00\ub2a5\ud55c \uc624\ub958", url: "#_6" },
          ]},
          {title: "\ube44\ub3d9\uae30 \ud0c0\uc774\uba38\uc758 \uc624\ub958 \ucc98\ub9ac \uc608\uc2dc", url: "#_7", children: [
          ]},
          {title: "\uc624\ub958 \ucc98\ub9ac \uc2dc \uc720\uc758 \uc0ac\ud56d", url: "#_8", children: [
          ]},
          {title: "\ucf5c\ubc31 \ud568\uc218\uc5d0\uc11c\uc758 \uc624\ub958 \ucc98\ub9ac \uc804\ub7b5", url: "#_9", children: [
          ]},
          {title: "\ube44\ub3d9\uae30 \ud0c0\uc774\uba38\uc640 \uc624\ub958 \ubc1c\uc0dd \uc2dc \ud750\ub984", url: "#_10", children: [
          ]},
          {title: "\ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \ucde8\uc18c \ucc98\ub9ac", url: "#_11", children: [
          ]},
          {title: "\ud0c0\uc774\uba38\uc758 \ube44\ub3d9\uae30 \uc791\uc5c5 \uc911 \uc608\uc678 \ucc98\ub9ac", url: "#_12", children: [
          ]},
          {title: "\uc548\uc804\ud55c \uc790\uc6d0 \uad00\ub9ac\uc640 \uc624\ub958 \ucc98\ub9ac", url: "#_13", children: [
              {title: "\uc2a4\ub9c8\ud2b8 \ud3ec\uc778\ud130\ub97c \ud1b5\ud55c \uc790\uc6d0 \uad00\ub9ac", url: "#_14" },
          ]},
          {title: "\ube44\ub3d9\uae30 \uc791\uc5c5 \ucde8\uc18c \uc2dc\uc758 \uc790\uc6d0 \ucc98\ub9ac", url: "#_15", children: [
          ]},
          {title: "Boost.Asio\uc758 \uc624\ub958 \ubc94\uc8fc", url: "#boostasio_1", children: [
          ]},
          {title: "\ud0c0\uc774\uba38 \ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \uc131\ub2a5 \uace0\ub824 \uc0ac\ud56d", url: "#_16", children: [
              {title: "\ud0c0\uc774\uba38 \uc815\ud655\uc131", url: "#_17" },
              {title: "\ub124\ud2b8\uc6cc\ud06c I/O \uc131\ub2a5", url: "#io" },
          ]},
        ];

    </script>
<script src="../../../../../js/base.js"></script>
<script src="../../../../../js/google_analytics.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script>
</meta></head>
<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>
<div class="container-fluid wm-page-content">
<a name="_top"></a>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../../chapter_09/0901/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../../chapter_09/0901/">
        스트림 기반 입출력 개요
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../0805/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../0805/">
        타이머와 이벤트 기반 프로그래밍
      </a>
</div>
</div>
<h3 id="_1">오류 처리의 중요성</h3>
<p>비동기 프로그래밍에서는 작업이 성공적으로 완료되지 않거나 예기치 않은 상황이 발생할 수 있다. 특히 네트워크 지연, 시스템 자원의 부족, 타이머 만료 등의 비동기 작업 중에는 오류가 발생할 수 있다. Boost.Asio의 비동기 타이머는 이러한 상황에서 오류를 적절히 처리할 수 있도록 다양한 방법을 제공한다.</p>
<h3 id="_2">비동기 작업에서 오류 전달</h3>
<p>Boost.Asio는 오류 처리를 위한 <code>boost::system::error_code</code> 객체를 제공한다. 비동기 작업이 완료되었을 때, Boost.Asio는 이 객체를 콜백 함수에 전달하여 작업의 성공 여부를 알릴 수 있다. <code>error_code</code> 객체는 오류가 발생했는지 여부와 오류가 발생한 이유를 나타내며, 이를 통해 다음과 같은 작업을 할 수 있다.</p>
<ul>
<li>성공적인 작업 완료 여부 확인</li>
<li>발생한 오류에 따른 적절한 대응</li>
</ul>
<p>예를 들어, 타이머의 비동기 작동 중 오류가 발생하면 해당 오류 코드는 콜백 함수로 전달되며, 콜백 함수에서 이를 적절히 처리해야 한다.</p>
<h3 id="boostasio">Boost.Asio의 오류 코드 처리 메커니즘</h3>
<p><code>boost::system::error_code</code> 객체는 두 가지 주요 구성 요소로 이루어져 있다.</p>
<ol>
<li><strong>값 (value)</strong>: 오류가 발생했을 때, 특정한 오류를 나타내는 숫자 값이다. 이 값은 <code>enum</code> 형식으로 정의된 다양한 오류 유형을 나타낸다.</li>
<li><strong>범주 (category)</strong>: 오류의 유형을 나타내는 범주이다. 예를 들어, 네트워크 오류인지, 타이머 오류인지, 혹은 시스템 자원 부족 오류인지를 구분할 수 있다.</li>
</ol>
<p>콜백 함수가 실행될 때 <code>error_code</code> 객체가 전달되며, 오류가 발생했는지 확인하기 위해서는 해당 객체를 평가할 수 있다. 예를 들어, <code>error_code</code> 객체가 0이 아닌 경우 오류가 발생한 것으로 간주된다.</p>
<pre><code class="language-cpp">void handler(const boost::system::error_code&amp; ec) {
    if (ec) {
        std::cerr &lt;&lt; "Error: " &lt;&lt; ec.message() &lt;&lt; std::endl;
    } else {
        std::cout &lt;&lt; "Timer completed successfully!" &lt;&lt; std::endl;
    }
}
</code></pre>
<p>이 예시에서, <code>ec</code> 객체를 통해 작업의 성공 여부를 확인하고, 오류가 발생하면 이를 출력한다.</p>
<h3 id="_3">타이머에서 발생 가능한 주요 오류들</h3>
<p>비동기 타이머 작업에서 발생할 수 있는 오류의 유형은 다양한다. 그 중 가장 일반적인 몇 가지 오류는 다음과 같다.</p>
<ol>
<li>
<p><strong>boost::asio::error::operation_aborted</strong>: 타이머가 완료되기 전에 취소된 경우 발생하는 오류이다. 비동기 작업이 완료되기 전에 작업을 취소하면 이 오류 코드가 반환된다.</p>
</li>
<li>
<p>이 오류는 주로 프로그램이 종료되거나 특정 타이머 작업을 수동으로 취소했을 때 발생한다.</p>
</li>
<li>
<p><strong>boost::asio::error::timed_out</strong>: 타이머가 만료되었지만 지정된 시간이 지났을 때, 이에 대한 작업이 지연된 경우 발생할 수 있다. 타이머가 올바르게 작동하는지 확인하려면 이 오류를 처리해야 한다.</p>
</li>
<li>
<p><strong>boost::asio::error::network_down</strong>: 타이머 작업이 네트워크와 연관된 경우 네트워크 장애로 인해 발생할 수 있는 오류이다. 특히 비동기 I/O 작업에서 주로 발생하는 이 오류는 네트워크가 정상적으로 동작하지 않을 때 타이머가 제대로 동작하지 않을 수 있음을 나타낸다.</p>
</li>
</ol>
<h3 id="_4">오류 처리 전략</h3>
<p>오류 처리 전략을 세울 때는 발생 가능한 오류를 분류하고 각 오류에 맞는 대응 방안을 마련하는 것이 중요하다. 타이머 작업에서 발생할 수 있는 오류는 크게 <strong>복구 가능</strong>한 오류와 <strong>복구 불가능</strong>한 오류로 나뉜다.</p>
<h4 id="_5">복구 가능한 오류</h4>
<p>복구 가능한 오류는 작업을 재시도하거나, 시스템 자원을 다시 할당하는 등의 방법으로 해결할 수 있는 오류이다. 이러한 오류를 처리할 때는 사용자에게 오류 내용을 전달하고, 추가적인 작업을 시도해야 한다. 예를 들어, 네트워크 장애가 발생한 경우에는 타이머를 다시 설정하거나, 일정 시간 대기 후 재시도할 수 있다.</p>
<h4 id="_6">복구 불가능한 오류</h4>
<p>복구 불가능한 오류는 시스템 자원 부족, 사용자 취소 요청 등으로 인해 발생하며, 더 이상 작업을 재시도할 수 없는 오류이다. 이러한 경우에는 오류 로그를 남기고 작업을 중단하는 것이 적절한 대응 방안이 될 수 있다.</p>
<h3 id="_7">비동기 타이머의 오류 처리 예시</h3>
<p>비동기 타이머에서 오류를 처리하는 방법을 이해하기 위해, 간단한 예시 코드를 살펴보자. 이 코드는 타이머가 5초 후에 만료되는 작업을 설정하고, 오류가 발생할 경우 이를 처리하는 방식이다.</p>
<pre><code class="language-cpp">#include &lt;boost/asio.hpp&gt;
#include &lt;iostream&gt;

void timer_handler(const boost::system::error_code&amp; ec) {
    if (ec) {
        if (ec == boost::asio::error::operation_aborted) {
            std::cerr &lt;&lt; "Timer was cancelled." &lt;&lt; std::endl;
        } else {
            std::cerr &lt;&lt; "Error: " &lt;&lt; ec.message() &lt;&lt; std::endl;
        }
    } else {
        std::cout &lt;&lt; "Timer completed successfully!" &lt;&lt; std::endl;
    }
}

int main() {
    boost::asio::io_context io;
    boost::asio::steady_timer timer(io, std::chrono::seconds(5));

    timer.async_wait(&amp;timer_handler);

    std::cout &lt;&lt; "Waiting for timer..." &lt;&lt; std::endl;

    // 취소를 위해 타이머를 중간에 멈출 수 있는 코드 추가 가능
    // timer.cancel();

    io.run();

    return 0;
}
</code></pre>
<p>이 코드는 다음과 같은 흐름을 가지고 있다.</p>
<ol>
<li><strong>타이머 설정</strong>: <code>boost::asio::steady_timer</code> 객체를 사용하여 5초 후에 만료되는 타이머를 설정한다.</li>
<li><strong>비동기 대기</strong>: <code>async_wait</code> 함수를 호출하여 타이머가 만료될 때까지 비동기적으로 대기한다. 이 함수는 비동기 작업이 완료되었을 때 호출될 핸들러 함수 <code>timer_handler</code>를 등록한다.</li>
<li><strong>오류 처리</strong>: <code>timer_handler</code> 함수는 <code>boost::system::error_code</code> 객체를 통해 오류 발생 여부를 확인하고, 해당 오류에 맞는 메시지를 출력한다. 타이머가 취소된 경우(<code>operation_aborted</code>), 오류 메시지를 출력하고, 타이머가 정상적으로 완료되면 성공 메시지를 출력한다.</li>
</ol>
<p>이 코드에서 <code>timer.cancel()</code> 함수를 호출하면 타이머가 만료되기 전에 작업이 취소되어, <code>operation_aborted</code> 오류 코드가 전달된다.</p>
<h3 id="_8">오류 처리 시 유의 사항</h3>
<p>비동기 타이머를 사용하는 애플리케이션에서 오류를 처리할 때는 다음 사항들을 유의해야 한다.</p>
<ol>
<li>
<p><strong>비동기 작업의 흐름을 이해할 것</strong>: 비동기 프로그래밍의 특성상 오류는 예상치 못한 시점에 발생할 수 있다. 모든 비동기 작업은 콜백 함수를 통해 결과를 받기 때문에, 오류를 적절히 처리할 수 있도록 콜백 함수 내에서 충분한 오류 처리 코드를 작성해야 한다.</p>
</li>
<li>
<p><strong>자원 누수 방지</strong>: 오류가 발생한 경우 자원을 적절히 해제하지 않으면 시스템 자원 누수가 발생할 수 있다. 타이머 작업이 취소되거나 오류가 발생하면, 관련 자원들을 해제하는 로직을 포함하는 것이 중요하다.</p>
</li>
<li>
<p><strong>작업 취소 처리</strong>: 사용자가 작업을 중간에 취소할 수 있는 상황을 고려해야 한다. 타이머 작업 중에 취소가 발생할 경우 <code>operation_aborted</code> 오류를 적절히 처리하여, 작업이 정상적으로 종료될 수 있도록 해야 한다.</p>
</li>
<li>
<p><strong>재시도 메커니즘</strong>: 네트워크 불안정이나 시스템 자원 부족과 같은 상황에서는 타이머 작업을 재시도하는 것이 필요할 수 있다. 특정 오류에 대해서는 일정 시간 간격을 두고 작업을 다시 시도하는 로직을 작성하여, 시스템이 일시적인 오류로 인해 중단되지 않도록 해야 한다.</p>
</li>
<li>
<p><strong>오류 로그 남기기</strong>: 오류가 발생했을 때 사용자에게 즉각적인 알림을 주는 것뿐만 아니라, 로그 파일이나 콘솔을 통해 오류를 기록하는 것이 중요하다. 이로 인해 향후 오류를 디버깅하고 문제를 해결하는 데 도움이 된다.</p>
</li>
</ol>
<h3 id="_9">콜백 함수에서의 오류 처리 전략</h3>
<p>콜백 함수에서 오류를 처리할 때, 오류 발생에 따른 다양한 대응 전략을 사용할 수 있다. 몇 가지 전략은 다음과 같다.</p>
<ul>
<li><strong>즉각적인 종료</strong>: 오류가 발생하면 작업을 즉시 중단하고, 이를 사용자에게 알린다.</li>
<li><strong>재시도</strong>: 일시적인 오류인 경우에는 일정 시간 후 작업을 재시도하는 방식이다. 예를 들어, 네트워크 오류가 발생했을 때, 재연결 시도를 할 수 있다.</li>
<li><strong>무시</strong>: 오류가 비핵심적인 작업에 영향을 미치는 경우, 오류를 무시하고 나머지 작업을 계속 진행할 수 있다. 다만, 무조건적으로 오류를 무시하는 것은 바람직하지 않으므로 신중하게 판단해야 한다.</li>
</ul>
<h3 id="_10">비동기 타이머와 오류 발생 시 흐름</h3>
<p>다음은 타이머의 비동기 작업 중 오류가 발생하는 상황을 다이어그램으로 나타낸 것이다.</p>
<div class="mermaid">graph TD
    A[타이머 시작] --&gt; B(비동기 작업 대기)
    B --&gt; C{오류 발생 여부}
    C --&gt;|오류 발생| D[오류 코드 전달]
    D --&gt; E{오류 코드 확인}
    E --&gt;|복구 가능| F[재시도 또는 복구]
    E --&gt;|복구 불가능| G[작업 중단 및 오류 로그]
    C --&gt;|오류 없음| H[타이머 완료]
</div>
<p>이 다이어그램에서 볼 수 있듯이, 비동기 작업 중 오류가 발생하면 오류 코드가 콜백 함수로 전달되고, 그에 따라 복구 가능 여부에 따라 대응 방안을 결정한다.</p>
<h3 id="_11">비동기 작업의 취소 처리</h3>
<p>타이머가 설정된 시간 이전에 작업이 취소될 수 있는 상황도 자주 발생한다. 이때 비동기 타이머는 <code>cancel()</code> 함수를 통해 취소될 수 있으며, 취소 시 발생하는 <code>operation_aborted</code> 오류를 처리해야 한다.</p>
<p>취소 시의 주요 흐름은 다음과 같다.</p>
<ul>
<li><strong>취소 명령</strong>: 프로그램의 다른 부분에서 타이머를 취소할 수 있다. 이때 <code>cancel()</code> 함수가 호출되면, 현재 진행 중인 타이머 작업은 즉시 중단된다.</li>
<li><strong>취소된 작업 처리</strong>: 콜백 함수에서 <code>operation_aborted</code> 오류 코드를 통해 작업이 취소되었음을 확인하고, 이를 처리한다. 보통 이 경우에는 오류 로그를 남기거나 사용자에게 작업이 취소되었음을 알리면 충분한다.</li>
</ul>
<pre><code class="language-cpp">// 타이머 취소 처리 예시
timer.cancel();
</code></pre>
<p>이 예시에서 <code>timer.cancel()</code> 함수가 호출되면, 현재 진행 중인 타이머 작업은 즉시 중단되며, 콜백 함수에서 이를 적절히 처리해야 한다.</p>
<h3 id="_12">타이머의 비동기 작업 중 예외 처리</h3>
<p>비동기 작업 중 발생할 수 있는 또 다른 오류 상황은 <strong>예외</strong>이다. 비동기 작업에서 발생하는 예외는 일반적인 동기 프로그래밍에서처럼 <code>try-catch</code> 블록을 통해 처리되지 않는다. Boost.Asio는 예외가 발생하면 이를 <code>error_code</code>를 통해 전달하지 않고, 프로그램의 흐름을 중단할 수 있다.</p>
<p>예를 들어, 타이머 작업 중 잘못된 인자 값이나 메모리 접근 오류가 발생하는 경우에는 해당 오류가 런타임 예외로 던져질 수 있다. 이러한 예외는 비동기 작업 내에서 처리되어야 하며, 그렇지 않으면 프로그램 전체가 예기치 않게 종료될 수 있다.</p>
<p>비동기 작업 내에서 예외를 처리하는 방식은 다음과 같다.</p>
<ol>
<li><strong>try-catch 블록을 사용한 예외 처리</strong>: 비동기 작업 내에서 발생할 수 있는 예외를 처리하기 위해 콜백 함수 안에 <code>try-catch</code> 블록을 사용하여 예외가 발생하면 이를 캐치하고 적절한 조치를 취할 수 있다.</li>
</ol>
<pre><code class="language-cpp">void timer_handler(const boost::system::error_code&amp; ec) {
    try {
        if (ec) {
            throw std::runtime_error("Timer encountered an error: " + ec.message());
        }
        std::cout &lt;&lt; "Timer completed successfully!" &lt;&lt; std::endl;
    } catch (const std::exception&amp; ex) {
        std::cerr &lt;&lt; "Exception caught: " &lt;&lt; ex.what() &lt;&lt; std::endl;
    }
}
</code></pre>
<p>이 코드는 비동기 타이머의 핸들러 함수에서 예외가 발생할 수 있는 상황을 대비해, 예외를 잡아 처리한다.</p>
<h3 id="_13">안전한 자원 관리와 오류 처리</h3>
<p>비동기 타이머에서 중요한 또 다른 요소는 <strong>자원 관리</strong>이다. 비동기 작업 중에 발생하는 오류를 처리할 때는 메모리나 시스템 자원이 적절하게 해제되도록 관리해야 한다. 특히 비동기 작업에서는 작업이 언제 완료될지 예측하기 어렵기 때문에, 자원을 안전하게 관리하는 방법을 이해하는 것이 중요하다.</p>
<h4 id="_14">스마트 포인터를 통한 자원 관리</h4>
<p>C++에서는 <code>shared_ptr</code>, <code>unique_ptr</code>와 같은 스마트 포인터를 사용하여 자원을 안전하게 관리할 수 있다. 비동기 작업에서 자원을 할당하고 해제하는 과정을 관리할 때, 스마트 포인터를 사용하면 자원 누수를 방지할 수 있다.</p>
<p>다음은 <code>shared_ptr</code>을 사용하여 비동기 타이머를 안전하게 관리하는 예시이다.</p>
<pre><code class="language-cpp">void timer_handler(const std::shared_ptr&lt;boost::asio::steady_timer&gt;&amp; timer,
                   const boost::system::error_code&amp; ec) {
    if (ec) {
        std::cerr &lt;&lt; "Error: " &lt;&lt; ec.message() &lt;&lt; std::endl;
    } else {
        std::cout &lt;&lt; "Timer completed successfully!" &lt;&lt; std::endl;
    }
}

int main() {
    boost::asio::io_context io;
    auto timer = std::make_shared&lt;boost::asio::steady_timer&gt;(io, std::chrono::seconds(5));

    timer-&gt;async_wait(std::bind(&amp;timer_handler, timer, std::placeholders::_1));

    io.run();

    return 0;
}
</code></pre>
<p>이 코드에서는 <code>std::shared_ptr</code>을 사용하여 타이머 객체를 관리하고, 비동기 작업이 완료될 때까지 해당 자원이 해제되지 않도록 보장한다.</p>
<h3 id="_15">비동기 작업 취소 시의 자원 처리</h3>
<p>비동기 타이머 작업을 취소할 때도 자원이 적절하게 해제되는지 확인해야 한다. 특히 작업이 중간에 취소되면, 작업에서 사용한 모든 자원이 안전하게 해제되어야 한다. 취소가 발생할 수 있는 상황에서는 취소된 작업이 정상적으로 종료될 수 있도록 해제 로직을 작성해야 한다.</p>
<p>타이머 작업을 취소할 때는 <code>cancel()</code> 함수가 호출되며, 이때 작업이 중단되지만, 여전히 비동기 작업은 종료되기 전에 자원을 적절히 해제해야 한다. 이를 위해서 스마트 포인터를 통해 자원을 관리하면 취소 작업 이후에도 자원이 안전하게 해제될 수 있다.</p>
<h3 id="boostasio_1">Boost.Asio의 오류 범주</h3>
<p><code>boost::system::error_code</code>의 오류 코드는 각기 다른 <strong>범주(category)</strong>에 속할 수 있다. Boost.Asio는 여러 오류 범주를 정의하고 있으며, 각 범주는 특정 종류의 오류에 대한 정보를 제공한다. 주로 사용되는 범주는 다음과 같다.</p>
<ul>
<li><strong>asio::error::category</strong>: Boost.Asio 자체에서 발생하는 오류이다. 주로 비동기 작업 취소, 네트워크 연결 문제 등의 오류가 이 범주에 속한다.</li>
<li><strong>generic_category</strong>: 시스템에서 발생하는 일반적인 오류이다. 파일 시스템, 메모리 등과 관련된 오류가 이 범주에 속한다.</li>
<li><strong>system_category</strong>: 운영 체제 레벨에서 발생하는 오류이다. 시스템 호출 실패, 네트워크 인터페이스 오류 등이 이 범주에 속한다.</li>
</ul>
<p>각 범주에서 발생하는 오류 코드를 확인하여 적절한 오류 처리를 할 수 있다.</p>
<h3 id="_16">타이머 비동기 작업의 성능 고려 사항</h3>
<p>비동기 타이머 작업은 대부분 시스템 자원이나 네트워크 I/O와 관련된 작업이다. 이러한 작업에서 오류가 발생하지 않더라도 성능 저하가 발생할 수 있다. 특히 타이머의 정확성이나 지연 시간에 따라 프로그램의 성능에 영향을 미칠 수 있다.</p>
<h4 id="_17">타이머 정확성</h4>
<p>Boost.Asio의 <code>steady_timer</code>는 시스템의 고해상도 타이머를 사용하여 일정한 간격으로 콜백을 호출한다. 하지만 시스템 부하가 높거나, CPU 자원이 제한된 상황에서는 타이머가 지연되거나 예상치 못한 시점에 호출될 수 있다. 이를 방지하기 위해 타이머의 정확성을 확인하고, 작업의 우선 순위를 적절하게 조정하는 것이 필요하다.</p>
<h4 id="io">네트워크 I/O 성능</h4>
<p>네트워크 관련 작업에서 타이머는 중요한 역할을 한다. 네트워크에서의 지연, 패킷 손실, 재전송과 같은 문제가 발생할 경우, 타이머가 올바르게 동작하지 않을 수 있다. 이때 네트워크 상태를 모니터링하고, 타이머의 재시도 메커니즘을 구현함으로써 성능 문제를 해결할 수 있다.</p>
<br/>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../../chapter_09/0901/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../../chapter_09/0901/">
        스트림 기반 입출력 개요
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../0805/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../0805/">
        타이머와 이벤트 기반 프로그래밍
      </a>
</div>
</div>
<br/>
</div>
<footer class="container-fluid wm-page-content">
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>