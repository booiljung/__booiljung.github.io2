<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/sensor_data_processing/pointcloud/introductions_to_pointcloud_processing_with_pcl_library/chapter_01/0102/">
    <link rel="shortcut icon" href="../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>PCL의 설치 및 환경 설정 - 실험 도서관</title>
    <link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../css/highlight.css">
    <link href="../../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "PCL \uc124\uce58 \uacfc\uc815", url: "#_top", children: [
              {title: "1. \ud544\uc218 \ud328\ud0a4\uc9c0 \uc124\uce58", url: "#1" },
              {title: "2. PCL \uc18c\uc2a4 \ucf54\ub4dc \ub2e4\uc6b4\ub85c\ub4dc \ubc0f \ube4c\ub4dc", url: "#2-pcl" },
          ]},
          {title: "PCL \ud658\uacbd \uc124\uc815", url: "#pcl_1", children: [
              {title: "1. CMake \uc124\uc815", url: "#1-cmake" },
              {title: "2. \ud658\uacbd \ubcc0\uc218 \uc124\uc815", url: "#2" },
          ]},
          {title: "PCL\uc758 \uc758\uc874\uc131 \uad00\ub9ac", url: "#pcl_2", children: [
              {title: "Eigen \ub77c\uc774\ube0c\ub7ec\ub9ac\uc640\uc758 \uc5f0\ub3d9", url: "#eigen" },
          ]},
          {title: "\ucd94\uac00 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58 \ubc0f \uc124\uc815", url: "#_1", children: [
              {title: "1. VTK \uc124\uce58 \ubc0f \uc124\uc815", url: "#1-vtk" },
              {title: "2. OpenNI \uc124\uce58 \ubc0f \uc124\uc815", url: "#2-openni" },
              {title: "3. Qhull \uc124\uce58 \ubc0f \uc124\uc815", url: "#3-qhull" },
          ]},
          {title: "CMake\ub97c \ud1b5\ud55c \uc885\ud569 \uc124\uc815", url: "#cmake", children: [
          ]},
          {title: "PCL \uc0ac\uc6a9 \uc608\uc81c", url: "#pcl_3", children: [
          ]},
        ];

    </script>
    <script src="../../../../../js/base.js"></script>
      <script src="../../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../0103/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../0103/" class="btn btn-xs btn-link">
        PCL의 주요 기능 개요
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../0101/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../0101/" class="btn btn-xs btn-link">
        PCL의 역사와 발전
      </a>
    </div>
    
  </div>

    

    <p>PCL(Point Cloud Library)의 설치와 환경 설정 과정은 성공적인 포인트 클라우드 데이터 처리를 위해 필수적인 단계이다. PCL은 다양한 운영 체제에서 지원되며, 각 환경에서의 설치 방법이 다소 다르다. 이 섹션에서는 대표적으로 Ubuntu Linux를 기준으로 PCL을 설치하고 환경을 설정하는 방법을 설명한다.</p>
<h3 id="pcl">PCL 설치 과정</h3>
<p>PCL을 설치하기 위해서는 먼저 해당 시스템에 필요한 의존 라이브러리를 설치해야 한다. PCL은 CMake 기반의 빌드 시스템을 사용하며, 다양한 추가 라이브러리를 지원하므로 시스템에 미리 설치해두는 것이 좋다.</p>
<h4 id="1">1. 필수 패키지 설치</h4>
<p>다음 명령어를 통해 필수 패키지와 의존성을 설치할 수 있다:</p>
<pre><code class="language-bash">sudo apt update
sudo apt install build-essential cmake libeigen3-dev libflann-dev libvtk7-dev libboost-all-dev
</code></pre>
<p>이 명령어는 C++ 빌드를 위한 기본 도구들과 Eigen, Flann, VTK, Boost 같은 PCL에서 사용하는 주요 라이브러리들을 설치한다.</p>
<h4 id="2-pcl">2. PCL 소스 코드 다운로드 및 빌드</h4>
<p>PCL을 소스 코드에서 직접 빌드하기 위해 Git을 통해 최신 소스를 다운로드한 후 빌드한다.</p>
<pre><code class="language-bash">git clone https://github.com/PointCloudLibrary/pcl.git
cd pcl
mkdir build
cd build
cmake ..
make -j$(nproc)
sudo make install
</code></pre>
<p>이 과정에서는 먼저 PCL의 GitHub 저장소에서 소스 코드를 다운로드한 후, 빌드 디렉터리를 만들고, CMake를 통해 컴파일을 위한 설정을 진행한다. 이후 병렬 빌드를 사용하여 컴파일 속도를 향상시킬 수 있다. <code>make install</code>을 통해 컴파일된 파일들을 시스템 경로에 설치한다.</p>
<h3 id="pcl_1">PCL 환경 설정</h3>
<p>PCL 설치 후에는 개발 환경에서 PCL을 올바르게 사용하기 위해 설정이 필요하다. 특히, 프로젝트에서 PCL을 사용하려면 CMake 설정 파일과 경로 설정이 중요하다.</p>
<h4 id="1-cmake">1. CMake 설정</h4>
<p>CMake를 사용할 때 PCL을 프로젝트에 포함하기 위해 <code>CMakeLists.txt</code> 파일을 다음과 같이 구성할 수 있다:</p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.0)
project(PCL_Project)

find_package(PCL 1.10 REQUIRED)

include_directories(${PCL_INCLUDE_DIRS})
link_directories(${PCL_LIBRARY_DIRS})

add_definitions(${PCL_DEFINITIONS})

add_executable(main main.cpp)
target_link_libraries(main ${PCL_LIBRARIES})
</code></pre>
<p>이 설정 파일은 PCL 라이브러리를 프로젝트에 통합하고, PCL이 제공하는 모든 라이브러리를 링크하도록 설정한다.</p>
<h4 id="2">2. 환경 변수 설정</h4>
<p>PCL을 시스템 전역에서 사용하기 위해 환경 변수를 설정할 수 있다. 이를 위해서는 <code>~/.bashrc</code> 파일에 다음과 같은 경로를 추가한다:</p>
<pre><code class="language-bash">export PCL_DIR=/usr/local/share/pcl
export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH
</code></pre>
<p>이러한 설정을 통해 시스템에서 PCL 관련 라이브러리들을 올바르게 찾고 사용할 수 있다.</p>
<h3 id="pcl_2">PCL의 의존성 관리</h3>
<p>PCL은 다양한 추가 라이브러리를 필요로 하며, 이러한 의존성은 PCL 기능의 특정 부분을 활성화하는 데 중요한 역할을 한다. 예를 들어, VTK는 PCL의 시각화 도구에서 사용되며, Boost는 여러 알고리즘과 기능을 지원한다. 또한, Eigen은 PCL에서 선형 대수 연산에 사용되며, 이로 인해 벡터와 행렬 연산에 대한 효율적인 처리가 가능한다.</p>
<h4 id="eigen">Eigen 라이브러리와의 연동</h4>
<p>PCL에서 Eigen을 활용한 수식 처리는 다음과 같은 구조로 표현된다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{v} = \mathbf{R} \mathbf{p} + \mathbf{t}
</div>
<script type="math/tex; mode=display">
\mathbf{v} = \mathbf{R} \mathbf{p} + \mathbf{t}
</script>
</div>
<p>여기서, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span>는 결과 벡터, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>은 회전 행렬, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}</span><script type="math/tex">\mathbf{p}</script></span>는 변환 전의 벡터, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{t}</span><script type="math/tex">\mathbf{t}</script></span>는 변환 후의 변위 벡터이다. 이와 같은 수식을 PCL의 다양한 기능에서 활용할 수 있다.</p>
<h3 id="_1">추가 라이브러리 설치 및 설정</h3>
<p>PCL은 기본적인 설치 외에도 시각화 및 파일 입출력, 복잡한 알고리즘 처리를 위해 여러 추가 라이브러리의 설치를 요구할 수 있다. 여기에는 OpenNI, VTK, Qhull 등 다양한 라이브러리가 포함된다.</p>
<h4 id="1-vtk">1. VTK 설치 및 설정</h4>
<p>PCL의 시각화 기능을 활용하기 위해서는 VTK(Visualization Toolkit) 라이브러리가 필요하다. VTK는 복잡한 3D 데이터의 시각화를 위해 널리 사용되며, PCL에서도 이를 통해 포인트 클라우드 데이터를 3D로 시각화할 수 있다.</p>
<pre><code class="language-bash">sudo apt install libvtk7-dev
</code></pre>
<p>이 명령어를 통해 VTK 라이브러리를 설치할 수 있으며, PCL이 이를 통해 포인트 클라우드를 렌더링할 수 있도록 지원한다.</p>
<h4 id="2-openni">2. OpenNI 설치 및 설정</h4>
<p>OpenNI는 3D 센서 장치를 활용한 데이터 수집을 위한 라이브러리이다. PCL은 OpenNI를 통해 다양한 3D 센서 데이터를 처리할 수 있는 기능을 제공한다.</p>
<pre><code class="language-bash">sudo apt install libopenni2-dev
</code></pre>
<p>이를 통해 3D 센서 데이터를 쉽게 수집하고 포인트 클라우드로 변환할 수 있으며, PCL의 다양한 알고리즘과 결합하여 사용할 수 있다.</p>
<h4 id="3-qhull">3. Qhull 설치 및 설정</h4>
<p>Qhull은 다면체의 볼록 껍질(convex hull)을 계산하는 라이브러리로, PCL에서는 포인트 클라우드의 볼록 껍질을 계산하는 데 사용된다.</p>
<pre><code class="language-bash">sudo apt install qhull-bin libqhull-dev
</code></pre>
<p>이 라이브러리는 PCL에서 점들 간의 볼록 껍질을 계산하거나, 삼각분할(tetrahedralization) 등 다양한 기하학적 알고리즘을 수행할 때 필수적이다.</p>
<h3 id="cmake">CMake를 통한 종합 설정</h3>
<p>여러 라이브러리를 PCL과 함께 사용하려면 CMake 파일에서 각 라이브러리의 경로를 올바르게 설정해야 한다. PCL의 모든 기능을 활성화하려면 CMakeLists.txt 파일을 다음과 같이 설정할 수 있다:</p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.0)
project(PCL_FullProject)

find_package(PCL 1.10 REQUIRED)

include_directories(${PCL_INCLUDE_DIRS})
link_directories(${PCL_LIBRARY_DIRS})

add_definitions(${PCL_DEFINITIONS})

add_executable(main main.cpp)
target_link_libraries(main ${PCL_LIBRARIES} vtkCommonCore vtkRenderingCore qhull openni2)
</code></pre>
<p>이 설정 파일에서는 PCL뿐만 아니라 VTK, Qhull, OpenNI 등 여러 라이브러리와 연동하여 프로젝트를 구성하는 방법을 보여준다.</p>
<h3 id="pcl_3">PCL 사용 예제</h3>
<p>설치와 환경 설정이 완료된 후에는 간단한 PCL 사용 예제를 작성할 수 있다. 예를 들어, 포인트 클라우드를 생성하고 간단한 필터링을 적용하는 예제는 다음과 같다:</p>
<pre><code class="language-cpp">#include &lt;pcl/point_cloud.h&gt;
#include &lt;pcl/point_types.h&gt;
#include &lt;pcl/filters/passthrough.h&gt;

int main()
{
    pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr cloud(new pcl::PointCloud&lt;pcl::PointXYZ&gt;);

    // 포인트 클라우드에 점 추가
    cloud-&gt;width = 5;
    cloud-&gt;height = 1;
    cloud-&gt;points.resize(cloud-&gt;width * cloud-&gt;height);
    for (auto&amp; point : *cloud) {
        point.x = rand() / (RAND_MAX + 1.0f);
        point.y = rand() / (RAND_MAX + 1.0f);
        point.z = rand() / (RAND_MAX + 1.0f);
    }

    // 필터 적용
    pcl::PassThrough&lt;pcl::PointXYZ&gt; pass;
    pass.setInputCloud(cloud);
    pass.setFilterFieldName(&quot;z&quot;);
    pass.setFilterLimits(0.0, 1.0);
    pass.filter(*cloud);

    return 0;
}
</code></pre>
<p>이 코드에서는 간단한 5개의 포인트를 포함한 포인트 클라우드를 생성하고, <code>PassThrough</code> 필터를 사용하여 z 좌표값이 0.0에서 1.0 사이인 점들만을 남기는 필터링을 수행한다. 이처럼 PCL은 다양한 필터링, 변환, 클러스터링 등의 기능을 제공하여 포인트 클라우드 데이터를 효과적으로 처리할 수 있다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../0103/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../0103/" class="btn btn-xs btn-link">
        PCL의 주요 기능 개요
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../0101/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../0101/" class="btn btn-xs btn-link">
        PCL의 역사와 발전
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>