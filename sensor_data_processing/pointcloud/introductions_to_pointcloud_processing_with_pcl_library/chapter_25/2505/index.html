<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/sensor_data_processing/pointcloud/introductions_to_pointcloud_processing_with_pcl_library/chapter_25/2505/">
    <link rel="shortcut icon" href="../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>AR/VR 응용 사례 연구 - 소프트웨어 융합</title>
    <link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../css/highlight.css">
    <link href="../../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\uc2e4\uc2dc\uac04 3D \ud658\uacbd \uc7ac\uad6c\uc131", url: "#_top", children: [
          ]},
          {title: "\uc2e4\uc2dc\uac04 \uc0c1\ud638\uc791\uc6a9", url: "#_1", children: [
          ]},
          {title: "\uc13c\uc11c \ub370\uc774\ud130\uc758 \uc2e4\uc2dc\uac04 \ucc98\ub9ac", url: "#_2", children: [
              {title: "\ub370\uc774\ud130 \ucde8\ud569\uacfc \ud544\ud130\ub9c1", url: "#_3" },
              {title: "\ub3d9\uc801 \ud658\uacbd\uc5d0\uc11c\uc758 \ub370\uc774\ud130 \ucc98\ub9ac", url: "#_4" },
              {title: "\uc2e4\uc2dc\uac04 \uacbd\ub85c \uacc4\ud68d\uc744 \uc704\ud55c \ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8", url: "#_5" },
          ]},
        ];

    </script>
    <script src="../../../../../js/base.js"></script>
      <script src="../../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter_26/2601/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter_26/2601/" class="btn btn-xs btn-link">
        센서 오차 보정 개요
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../2504/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../2504/" class="btn btn-xs btn-link">
        AR/VR 환경에서의 포인트 클라우드 상호작용
      </a>
    </div>
    
  </div>

    

    <p>AR/VR 응용에서 포인트 클라우드는 복잡한 3D 데이터를 실시간으로 처리하고 상호작용하는 중요한 기술적 기반을 제공한다. 다양한 응용 사례를 통해 포인트 클라우드가 AR/VR 환경에서 어떻게 활용되는지 탐구할 수 있다. 이 연구는 실시간 상호작용, 3D 환경 재구성, 사용자 경험 향상 등을 중심으로 구성된다.</p>
<h3 id="3d">실시간 3D 환경 재구성</h3>
<p>AR/VR 환경에서의 실시간 3D 환경 재구성은 포인트 클라우드를 사용하여 사용자가 위치한 실제 공간의 정보를 즉시 디지털화하여 가상 세계로 통합하는 과정이다. 예를 들어, 사용자가 착용한 AR 디바이스는 주변 환경을 스캔하여 포인트 클라우드 데이터를 수집하고, 이를 실시간으로 가상 환경에 반영할 수 있다.</p>
<p>이 과정에서 중요한 요소는 실시간 데이터 처리 속도와 정확성이다. 포인트 클라우드의 복잡한 데이터 구조를 빠르게 처리하기 위해서는 효율적인 알고리즘과 하드웨어 가속이 필수적이다. 이와 같은 3D 재구성을 위해 자주 사용되는 알고리즘 중 하나는 <strong>Iterative Closest Point (ICP)</strong> 알고리즘이다. 이 알고리즘은 두 포인트 클라우드 데이터 간의 매칭을 통해 정밀한 정합을 수행하며, 수식으로는 다음과 같이 정의할 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
E(\mathbf{R}, \mathbf{t}) = \sum_{i=1}^{N} \| \mathbf{R} \mathbf{p}_i + \mathbf{t} - \mathbf{q}_i \|^2
</div>
<script type="math/tex; mode=display">
E(\mathbf{R}, \mathbf{t}) = \sum_{i=1}^{N} \| \mathbf{R} \mathbf{p}_i + \mathbf{t} - \mathbf{q}_i \|^2
</script>
</div>
<p>여기서, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>은 회전 행렬, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{t}</span><script type="math/tex">\mathbf{t}</script></span>는 변환 벡터, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>와 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{q}_i</span><script type="math/tex">\mathbf{q}_i</script></span>는 각각 두 포인트 클라우드에서 대응되는 점을 나타낸다. 이 최적화 문제를 해결함으로써 두 클라우드를 정합하여 현실 세계와 가상 세계의 일관성을 유지할 수 있다.</p>
<h3 id="_1">실시간 상호작용</h3>
<p>AR/VR 환경에서는 사용자와의 실시간 상호작용이 매우 중요하다. 포인트 클라우드를 사용한 상호작용에서는 사용자가 가상의 객체와 상호작용하거나 실제 환경을 기반으로 가상 요소를 조작하는 일이 가능한다. 이를 위해서는 포인트 클라우드 데이터를 빠르게 처리하여 물리적으로 일관된 가상 객체와의 상호작용을 제공해야 한다.</p>
<p>이 과정에서 중요한 개념은 <strong>충돌 감지</strong>이다. 가상 객체가 사용자 또는 실제 환경과 충돌하는 경우를 실시간으로 탐지하고 반응하는 능력이 필요하다. 충돌 감지 알고리즘의 기본 원리는 포인트 클라우드 데이터를 기반으로 거리를 측정하는 것이다. 두 객체 간의 거리 <span class="arithmatex"><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span>는 다음과 같이 표현될 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
d = \min_{i,j} \|\mathbf{p}_i - \mathbf{q}_j\|
</div>
<script type="math/tex; mode=display">
d = \min_{i,j} \|\mathbf{p}_i - \mathbf{q}_j\|
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>와 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{q}_j</span><script type="math/tex">\mathbf{q}_j</script></span>는 각각 두 객체의 포인트 클라우드에서 임의의 점을 나타낸다. 이 거리가 일정 임계값 이하일 때 충돌로 판단할 수 있으며, 이를 기반으로 가상 객체의 움직임이나 반응을 조정할 수 있다.</p>
<h2 id="_2">센서 데이터의 실시간 처리</h2>
<p>로봇 시뮬레이션에서 실시간으로 센서 데이터를 처리하는 것은 매우 중요한 작업이다. 로봇은 환경 정보를 지속적으로 수집하고, 이를 기반으로 의사결정을 내려야 한다. 특히, 포인트 클라우드 데이터는 매우 방대한 양의 정보를 제공하므로 실시간 처리 능력이 로봇의 성능을 크게 좌우하게 된다.</p>
<h3 id="_3">데이터 취합과 필터링</h3>
<p>실시간으로 수집된 포인트 클라우드는 필터링을 통해 노이즈를 제거하고 중요한 정보만을 남기는 작업이 필요하다. 이를 위해 사용하는 기법 중 하나는 반경 기반 필터링이다. 반경 기반 필터링은 특정 점을 중심으로 설정된 반경 내에 존재하는 점들의 밀집도를 분석하여, 밀도가 낮은 영역을 노이즈로 간주하고 제거하는 방식이다.</p>
<p>예를 들어, 주어진 반경 <span class="arithmatex"><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span> 내에 포함된 포인트의 개수가 임계값 <span class="arithmatex"><span class="MathJax_Preview">N_{\text{min}}</span><script type="math/tex">N_{\text{min}}</script></span>보다 작을 경우, 해당 점은 노이즈로 처리된다. 수학적으로는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbb{I}_{\text{filter}}(\mathbf{p}_i) =
\begin{cases}
1, &amp; \text{if } N(\mathbf{p}_i, r) \geq N_{\text{min}} \\
0, &amp; \text{otherwise}
\end{cases}
</div>
<script type="math/tex; mode=display">
\mathbb{I}_{\text{filter}}(\mathbf{p}_i) =
\begin{cases}
1, & \text{if } N(\mathbf{p}_i, r) \geq N_{\text{min}} \\
0, & \text{otherwise}
\end{cases}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">N(\mathbf{p}_i, r)</span><script type="math/tex">N(\mathbf{p}_i, r)</script></span>는 점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>를 중심으로 반경 <span class="arithmatex"><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span> 내에 존재하는 포인트의 개수를 나타낸다.</p>
<p>또 다른 중요한 필터링 방법은 이동 평균 필터 또는 저역통과 필터를 적용하여 센서 데이터의 빠른 변화를 줄여주는 방법이다. 이동 평균 필터는 이전의 <span class="arithmatex"><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span>개의 측정값의 평균을 계산하여 현재 값을 갱신하는 방식으로, 이를 통해 순간적인 노이즈를 제거하고 데이터를 부드럽게 만드는 역할을 한다.</p>
<h3 id="_4">동적 환경에서의 데이터 처리</h3>
<p>실제 로봇 환경에서는 주변 환경이 동적으로 변화할 수 있기 때문에 실시간으로 포인트 클라우드를 처리하는 데 있어서 그 변화에 대한 대응이 필요하다. 예를 들어, 이동하는 객체를 포착하기 위해서는 각 프레임에서 수집된 포인트 클라우드를 비교하여 차이를 분석하는 방법이 있다. 두 프레임 사이의 변화는 시간 <span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>와 <span class="arithmatex"><span class="MathJax_Preview">t + \Delta t</span><script type="math/tex">t + \Delta t</script></span>에서의 포인트 클라우드를 비교하여, 차이가 큰 부분을 움직이는 객체로 간주할 수 있다.</p>
<p>이때 각 프레임의 포인트 클라우드 <span class="arithmatex"><span class="MathJax_Preview">\mathcal{P}(t)</span><script type="math/tex">\mathcal{P}(t)</script></span>와 <span class="arithmatex"><span class="MathJax_Preview">\mathcal{P}(t + \Delta t)</span><script type="math/tex">\mathcal{P}(t + \Delta t)</script></span> 사이의 차이는 다음과 같이 계산할 수 있다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\Delta \mathcal{P} = \{ \mathbf{p} \in \mathcal{P}(t) \mid \min_{\mathbf{q} \in \mathcal{P}(t + \Delta t)} \|\mathbf{p} - \mathbf{q}\| &gt; \epsilon \}
</div>
<script type="math/tex; mode=display">
\Delta \mathcal{P} = \{ \mathbf{p} \in \mathcal{P}(t) \mid \min_{\mathbf{q} \in \mathcal{P}(t + \Delta t)} \|\mathbf{p} - \mathbf{q}\| > \epsilon \}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\epsilon</span><script type="math/tex">\epsilon</script></span>은 두 프레임 간의 포인트 위치 차이를 측정하는 기준 값이다. 이 값보다 큰 차이가 발생한 포인트는 움직임이 있는 것으로 간주되며, 이를 통해 이동 객체를 추적할 수 있다.</p>
<h3 id="_5">실시간 경로 계획을 위한 데이터 업데이트</h3>
<p>로봇의 실시간 경로 계획에서는 환경이 지속적으로 변하기 때문에, 로봇의 이동 경로 또한 실시간으로 업데이트되어야 한다. 이를 위해, 매 순간 새로운 포인트 클라우드 데이터를 기반으로 경로를 재계산하고, 변경된 환경에 맞추어 회피 동작을 수행하는 시스템이 필요하다.</p>
<p>실시간 경로 계획에서 사용하는 대표적인 방법은 동적 윈도우 접근법(DWA, Dynamic Window Approach)이다. DWA는 로봇의 속도와 가속도 제약을 고려하여 가능한 경로들을 평가한 후, 가장 적합한 경로를 선택하는 방식이다. 이때 각 경로는 충돌 여부와 경로의 길이, 목표 지점까지의 거리 등을 평가하여 최적 경로를 선택하게 된다.</p>
<p>DWA에서 경로 평가 함수는 다음과 같은 형태로 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
f_{\text{path}}(\mathbf{r}) = \alpha \cdot f_{\text{clearance}}(\mathbf{r}) + \beta \cdot f_{\text{goal}}(\mathbf{r}) - \gamma \cdot f_{\text{velocity}}(\mathbf{r})
</div>
<script type="math/tex; mode=display">
f_{\text{path}}(\mathbf{r}) = \alpha \cdot f_{\text{clearance}}(\mathbf{r}) + \beta \cdot f_{\text{goal}}(\mathbf{r}) - \gamma \cdot f_{\text{velocity}}(\mathbf{r})
</script>
</div>
<p>여기서:
- <span class="arithmatex"><span class="MathJax_Preview">f_{\text{clearance}}(\mathbf{r})</span><script type="math/tex">f_{\text{clearance}}(\mathbf{r})</script></span>는 경로 상의 장애물과의 거리,
- <span class="arithmatex"><span class="MathJax_Preview">f_{\text{goal}}(\mathbf{r})</span><script type="math/tex">f_{\text{goal}}(\mathbf{r})</script></span>는 목표 지점까지의 거리,
- <span class="arithmatex"><span class="MathJax_Preview">f_{\text{velocity}}(\mathbf{r})</span><script type="math/tex">f_{\text{velocity}}(\mathbf{r})</script></span>는 로봇의 속도를 고려한 비용 함수이다.</p>
<p>각 매개변수 <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\gamma</span><script type="math/tex">\gamma</script></span>는 상황에 맞추어 가중치를 조절하며, 이를 통해 실시간으로 로봇의 이동 경로를 계획할 수 있다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter_26/2601/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter_26/2601/" class="btn btn-xs btn-link">
        센서 오차 보정 개요
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../2504/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../2504/" class="btn btn-xs btn-link">
        AR/VR 환경에서의 포인트 클라우드 상호작용
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>