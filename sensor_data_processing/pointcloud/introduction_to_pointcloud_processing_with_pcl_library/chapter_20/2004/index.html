<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/sensor_data_processing/pointcloud/introduction_to_pointcloud_processing_with_pcl_library/chapter_20/2004/">
    <link rel="shortcut icon" href="../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>포인트 클라우드를 이용한 경로 계획 - 실험 도서관</title>
    <link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../css/highlight.css">
    <link href="../../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\ud658\uacbd \ubaa8\ub378\ub9c1\uacfc \uacbd\ub85c \uacc4\ud68d\uc758 \ud544\uc694\uc131", url: "#_top", children: [
          ]},
          {title: "\ud3ec\uc778\ud2b8 \ud074\ub77c\uc6b0\ub4dc\ub97c \uc774\uc6a9\ud55c \uc7a5\uc560\ubb3c \ud0d0\uc9c0", url: "#_2", children: [
          ]},
          {title: "\uacbd\ub85c \uc0dd\uc131 \ubc29\ubc95", url: "#_3", children: [
          ]},
          {title: "Voxel Grid \uae30\ubc18 \uacbd\ub85c \uacc4\ud68d", url: "#voxel-grid", children: [
          ]},
          {title: "RRT \ubc0f RRT* \uc54c\uace0\ub9ac\uc998\uc744 \ud65c\uc6a9\ud55c \uacbd\ub85c \uacc4\ud68d", url: "#rrt-rrt", children: [
          ]},
          {title: "\ud3ec\uc778\ud2b8 \ud074\ub77c\uc6b0\ub4dc\uc640 \ub3d9\uc801 \uacbd\ub85c \uacc4\ud68d", url: "#_4", children: [
          ]},
          {title: "SLAM \uae30\ubc18 \uacbd\ub85c \uacc4\ud68d", url: "#slam", children: [
          ]},
          {title: "\ud3ec\uc778\ud2b8 \ud074\ub77c\uc6b0\ub4dc \ub9f5 \uc0dd\uc131\uacfc \uacbd\ub85c \uacc4\ud68d\uc758 \ud1b5\ud569", url: "#_5", children: [
          ]},
          {title: "Octree \uae30\ubc18\uc758 \uacbd\ub85c \ud0d0\uc0c9", url: "#octree", children: [
          ]},
          {title: "\ube44\uc6a9 \uc9c0\ub3c4(Cost Map) \uae30\ubc18 \uacbd\ub85c \uacc4\ud68d", url: "#cost-map", children: [
          ]},
          {title: "AI \ubc0f \uba38\uc2e0\ub7ec\ub2dd\uc744 \ud65c\uc6a9\ud55c \uacbd\ub85c \uacc4\ud68d", url: "#ai", children: [
              {title: "\uac15\ud654\ud559\uc2b5 \uae30\ubc18 \uacbd\ub85c \uacc4\ud68d", url: "#_6" },
              {title: "\uc2ec\uce35 \uac15\ud654\ud559\uc2b5(DRL)\uc744 \ud1b5\ud55c \uacbd\ub85c \ud0d0\uc0c9", url: "#drl" },
          ]},
          {title: "\ud3ec\uc778\ud2b8 \ud074\ub77c\uc6b0\ub4dc\ub97c \uc774\uc6a9\ud55c \uacbd\ub85c \uacc4\ud68d\uc758 \uc751\uc6a9 \uc0ac\ub840", url: "#_7", children: [
              {title: "\uc790\uc728\uc8fc\ud589\ucc28\uc5d0\uc11c\uc758 \uacbd\ub85c \uacc4\ud68d", url: "#_8" },
              {title: "\ubb34\uc778 \ud56d\uacf5\uae30(UAV)\uc5d0\uc11c\uc758 \uacbd\ub85c \uacc4\ud68d", url: "#uav" },
              {title: "\uc0b0\uc5c5\uc6a9 \ub85c\ubd07\uc5d0\uc11c\uc758 \uacbd\ub85c \uacc4\ud68d", url: "#_9" },
          ]},
        ];

    </script>
    <script src="../../../../../js/base.js"></script>
      <script src="../../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../2005/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../2005/" class="btn btn-xs btn-link">
        로봇 응용 사례 연구
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../2003/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../2003/" class="btn btn-xs btn-link">
        매니퓰레이터의 환경 인식
      </a>
    </div>
    
  </div>

    

    <p>포인트 클라우드를 이용한 경로 계획은 로봇 공학에서 매우 중요한 역할을 한다. 로봇이 물리적 공간에서 장애물과 충돌하지 않고 목표 지점으로 이동하기 위해서는 주어진 환경의 정확한 3D 표현과 분석이 필수적이다. 포인트 클라우드는 로봇이 환경을 인식하고, 그 인식을 바탕으로 경로를 계획하는 데 중요한 역할을 한다. 이 절에서는 포인트 클라우드를 이용한 경로 계획의 이론적 배경과 알고리즘을 다룬다.</p>
<h3 id="_1">환경 모델링과 경로 계획의 필요성</h3>
<p>경로 계획(Path Planning)은 주어진 목표 지점까지 안전하고 효율적인 경로를 찾는 과정을 의미한다. 포인트 클라우드는 3차원 공간의 물리적 구조를 고밀도로 표현할 수 있기 때문에, 이를 통해 로봇은 매우 세밀한 환경 정보를 얻을 수 있다. 이러한 정보는 로봇이 장애물을 탐지하고 회피할 수 있도록 도와준다.</p>
<p>경로 계획에서 주어진 환경은 포인트 클라우드로 표현되며, 이 환경 내에서 로봇은 이동 가능한 공간(Free Space)과 이동 불가능한 공간(Occupied Space)을 구분해야 한다. 이를 수학적으로 표현하면 다음과 같다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathcal{F} = \{ \mathbf{x} \in \mathbb{R}^3 : \mathbf{x} \text{는 로봇이 이동 가능한 공간에 있음} \}
</div>
<script type="math/tex; mode=display">
\mathcal{F} = \{ \mathbf{x} \in \mathbb{R}^3 : \mathbf{x} \text{는 로봇이 이동 가능한 공간에 있음} \}
</script>
</div>
<p>여기서, <span class="arithmatex"><span class="MathJax_Preview">\mathcal{F}</span><script type="math/tex">\mathcal{F}</script></span>는 이동 가능한 공간을 나타내며, 포인트 클라우드 데이터를 통해 이 공간이 정의된다.</p>
<h3 id="_2">포인트 클라우드를 이용한 장애물 탐지</h3>
<p>포인트 클라우드는 3차원 좌표로 이루어진 점들의 집합으로, 이 점들이 로봇 주위의 물체와 장애물의 표면을 나타낸다. 장애물 탐지를 위해서는 로봇이 주어진 좌표계에서 이 포인트 클라우드를 기반으로 공간을 해석할 수 있어야 한다. 이는 각 점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>가 장애물인지 아닌지를 판단하는 문제로 귀결되며, 이를 위해 여러 가지 방법이 사용된다.</p>
<p>하나의 일반적인 방법은 각 포인트 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i = (x_i, y_i, z_i)</span><script type="math/tex">\mathbf{p}_i = (x_i, y_i, z_i)</script></span>를 로봇의 좌표계로 변환한 후, 해당 점이 로봇의 기하학적 형상과 충돌하는지 여부를 판단하는 것이다. 충돌 탐지를 수식으로 표현하면 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\text{충돌 여부}(\mathbf{p}_i) = 
\begin{cases}
1, &amp; \text{if } d(\mathbf{p}_i, \mathbf{r}) &lt; R \\
0, &amp; \text{otherwise}
\end{cases}
</div>
<script type="math/tex; mode=display">
\text{충돌 여부}(\mathbf{p}_i) = 
\begin{cases}
1, & \text{if } d(\mathbf{p}_i, \mathbf{r}) < R \\
0, & \text{otherwise}
\end{cases}
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">d(\mathbf{p}_i, \mathbf{r})</span><script type="math/tex">d(\mathbf{p}_i, \mathbf{r})</script></span>는 점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>와 로봇의 중심 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{r}</span><script type="math/tex">\mathbf{r}</script></span> 사이의 거리, <span class="arithmatex"><span class="MathJax_Preview">R</span><script type="math/tex">R</script></span>는 로봇의 크기를 나타낸다.</p>
<h3 id="_3">경로 생성 방법</h3>
<p>포인트 클라우드를 기반으로 한 경로 생성은 주로 그래프 기반 알고리즘에 의존한다. 환경 내에서 로봇의 가능한 위치들을 노드로 정의하고, 그 노드들 사이의 이동 가능한 경로를 엣지로 연결하여 그래프를 형성한다. 그 후, 그래프 탐색 알고리즘을 통해 최적의 경로를 찾는다.</p>
<p>대표적인 경로 계획 알고리즘은 A<em> 알고리즘과 Dijkstra 알고리즘이다. A</em> 알고리즘의 경우, 경로 탐색을 위한 비용 함수 <span class="arithmatex"><span class="MathJax_Preview">f(\mathbf{n})</span><script type="math/tex">f(\mathbf{n})</script></span>는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
f(\mathbf{n}) = g(\mathbf{n}) + h(\mathbf{n})
</div>
<script type="math/tex; mode=display">
f(\mathbf{n}) = g(\mathbf{n}) + h(\mathbf{n})
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">g(\mathbf{n})</span><script type="math/tex">g(\mathbf{n})</script></span>는 시작 노드에서 현재 노드 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span>까지의 실제 비용, <span class="arithmatex"><span class="MathJax_Preview">h(\mathbf{n})</span><script type="math/tex">h(\mathbf{n})</script></span>는 현재 노드에서 목표 지점까지의 휴리스틱 추정 비용이다. A* 알고리즘은 이 비용 함수 <span class="arithmatex"><span class="MathJax_Preview">f(\mathbf{n})</span><script type="math/tex">f(\mathbf{n})</script></span>를 최소화하는 경로를 찾는 방식으로 작동한다.</p>
<p>경로 계획 시 포인트 클라우드를 사용하면 노드와 엣지를 정의하는 데 유리하다. 특히, 환경 내 장애물의 위치를 정확하게 파악할 수 있으므로, 이를 기반으로 충돌을 피하면서 경로를 탐색할 수 있다.</p>
<h3 id="voxel-grid">Voxel Grid 기반 경로 계획</h3>
<p>포인트 클라우드 데이터는 매우 고밀도로 제공될 수 있기 때문에, 이를 경로 계획에 바로 사용하기에는 연산 비용이 크다. 따라서 일반적으로 포인트 클라우드를 낮은 해상도로 변환한 Voxel Grid 방식을 사용한다. Voxel Grid는 3차원 공간을 일정한 크기의 격자로 분할하여 각 격자에 포인트가 존재하는지 여부를 기록하는 방식이다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{V}(x, y, z) = 
\begin{cases}
1, &amp; \text{if Voxel } (x, y, z) \text{ contains points} \\
0, &amp; \text{otherwise}
\end{cases}
</div>
<script type="math/tex; mode=display">
\mathbf{V}(x, y, z) = 
\begin{cases}
1, & \text{if Voxel } (x, y, z) \text{ contains points} \\
0, & \text{otherwise}
\end{cases}
</script>
</div>
<p>Voxel Grid를 사용하면 포인트 클라우드의 데이터를 압축하여 중요한 정보만을 남기면서도 경로 계획의 정확도를 유지할 수 있다. 또한, Voxel Grid는 A<em> 알고리즘이나 RRT</em>와 같은 경로 계획 알고리즘에 쉽게 적용 가능하다.</p>
<h3 id="rrt-rrt">RRT 및 RRT* 알고리즘을 활용한 경로 계획</h3>
<p>포인트 클라우드 기반 경로 계획에서 자주 사용되는 방법 중 하나는 RRT (Rapidly-exploring Random Tree) 알고리즘이다. 이 알고리즘은 로봇의 가능한 이동 경로를 임의의 샘플링 방법을 사용하여 탐색하는 방식이다. RRT 알고리즘은 빠르게 로봇의 상태 공간을 확장해 가며, 충돌이 없는 경로를 찾는다.</p>
<p>RRT 알고리즘은 다음과 같은 기본 단계를 따른다:</p>
<ol>
<li>샘플링: 로봇이 이동할 수 있는 공간 내에서 무작위로 한 점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{rand}</span><script type="math/tex">\mathbf{x}_{rand}</script></span>를 샘플링한다.</li>
<li>노드 추가: 샘플링된 점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{rand}</span><script type="math/tex">\mathbf{x}_{rand}</script></span>에서 가장 가까운 트리 노드 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{near}</span><script type="math/tex">\mathbf{x}_{near}</script></span>를 찾아, 그 점을 기준으로 새로운 노드 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{new}</span><script type="math/tex">\mathbf{x}_{new}</script></span>를 생성한다. 이때, 로봇이 장애물과 충돌하지 않는 경우에만 해당 노드를 트리에 추가한다.</li>
<li>목표 도달 여부 확인: 생성된 새로운 노드가 목표 지점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{goal}</span><script type="math/tex">\mathbf{x}_{goal}</script></span>에 가까운지 여부를 확인하고, 충분히 가까우면 탐색을 종료한다.</li>
</ol>
<p>RRT 알고리즘을 포인트 클라우드에 적용할 때는, 주어진 포인트 클라우드를 기반으로 샘플링 공간을 설정하고, 노드들이 충돌하는지 여부를 포인트 클라우드를 활용하여 확인한다. 이 과정에서 포인트 클라우드의 장애물 정보는 각 노드가 충돌 없이 트리에 추가되는지 판단하는 데 중요한 역할을 한다.</p>
<p>RRT<em> (RRT Star) 알고리즘은 RRT의 개선된 버전으로, 경로의 최적화를 동시에 진행하는 특징을 가진다. RRT</em>는 새로운 노드를 트리에 추가할 때, 그 노드에 연결된 경로가 최소 비용 경로가 되도록 기존 노드를 재구성한다. 이를 수식으로 표현하면, 새로운 노드 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{new}</span><script type="math/tex">\mathbf{x}_{new}</script></span>에 연결될 때, 그 경로의 비용 <span class="arithmatex"><span class="MathJax_Preview">c(\mathbf{x}_{new})</span><script type="math/tex">c(\mathbf{x}_{new})</script></span>가 최소화되는 방향으로 트리를 재구성한다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
c(\mathbf{x}_{new}) = \min_{\mathbf{x} \in \mathcal{N}} \left( c(\mathbf{x}) + \text{cost}(\mathbf{x}, \mathbf{x}_{new}) \right)
</div>
<script type="math/tex; mode=display">
c(\mathbf{x}_{new}) = \min_{\mathbf{x} \in \mathcal{N}} \left( c(\mathbf{x}) + \text{cost}(\mathbf{x}, \mathbf{x}_{new}) \right)
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathcal{N}</span><script type="math/tex">\mathcal{N}</script></span>은 기존 트리 노드들의 집합, <span class="arithmatex"><span class="MathJax_Preview">\text{cost}(\mathbf{x}, \mathbf{x}_{new})</span><script type="math/tex">\text{cost}(\mathbf{x}, \mathbf{x}_{new})</script></span>는 노드 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}</span><script type="math/tex">\mathbf{x}</script></span>에서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{new}</span><script type="math/tex">\mathbf{x}_{new}</script></span>로 이동하는 비용이다.</p>
<h3 id="_4">포인트 클라우드와 동적 경로 계획</h3>
<p>포인트 클라우드를 이용한 경로 계획에서는 정적 환경뿐만 아니라 동적 환경에서도 로봇이 경로를 계획하고 실시간으로 수정해야 할 경우가 많다. 동적 환경에서는 포인트 클라우드 데이터를 실시간으로 수집하고 처리하여 새로운 장애물을 탐지하거나, 기존 장애물의 이동을 추적할 수 있어야 한다.</p>
<p>동적 경로 계획에서는 실시간 포인트 클라우드 데이터를 기반으로 로봇의 현재 위치와 목표 지점 사이의 경로를 지속적으로 업데이트해야 한다. 이를 위해 SLAM (Simultaneous Localization and Mapping) 기술이 자주 사용된다. SLAM은 로봇이 이동하면서 주변 환경을 탐색하고, 그 데이터를 바탕으로 로봇의 위치를 추정하며 동시에 환경의 지도를 작성하는 기법이다.</p>
<p>포인트 클라우드를 이용한 SLAM에서는 각 시점에서 수집된 포인트 클라우드 데이터를 이용해 환경의 변화를 추적하고, 이를 기반으로 경로를 실시간으로 계획한다. 이때 실시간 데이터 처리가 중요한 역할을 하며, 포인트 클라우드의 밀도와 해상도에 따라 처리 성능이 크게 달라질 수 있다.</p>
<h3 id="slam">SLAM 기반 경로 계획</h3>
<p>포인트 클라우드를 이용한 경로 계획의 중요한 요소는 SLAM 알고리즘과의 결합이다. SLAM은 로봇이 자신이 위치한 환경을 파악하고 그 환경에서의 경로를 계획하는 데 중요한 정보를 제공한다. SLAM의 핵심은 주어진 시간에서 로봇의 위치와 주변의 환경을 동시에 추정하는 것인데, 이를 수식적으로 다음과 같이 나타낼 수 있다.</p>
<p>로봇의 상태 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_t</span><script type="math/tex">\mathbf{x}_t</script></span>는 시간 <span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>에서의 위치와 방향을 나타내고, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{z}_t</span><script type="math/tex">\mathbf{z}_t</script></span>는 시간 <span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>에서의 센서 데이터(포인트 클라우드)이다. SLAM 문제는 로봇의 경로 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{x}_{0:t}</span><script type="math/tex">\mathbf{x}_{0:t}</script></span>와 환경 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{m}</span><script type="math/tex">\mathbf{m}</script></span>을 동시에 추정하는 문제로, 베이지안 필터링을 사용하여 다음과 같이 표현된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
p(\mathbf{x}_{0:t}, \mathbf{m} | \mathbf{z}_{0:t}, \mathbf{u}_{0:t}) = p(\mathbf{m} | \mathbf{x}_{0:t}, \mathbf{z}_{0:t}) \cdot p(\mathbf{x}_{0:t} | \mathbf{z}_{0:t}, \mathbf{u}_{0:t})
</div>
<script type="math/tex; mode=display">
p(\mathbf{x}_{0:t}, \mathbf{m} | \mathbf{z}_{0:t}, \mathbf{u}_{0:t}) = p(\mathbf{m} | \mathbf{x}_{0:t}, \mathbf{z}_{0:t}) \cdot p(\mathbf{x}_{0:t} | \mathbf{z}_{0:t}, \mathbf{u}_{0:t})
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{u}_{0:t}</span><script type="math/tex">\mathbf{u}_{0:t}</script></span>는 로봇의 제어 명령, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{m}</span><script type="math/tex">\mathbf{m}</script></span>은 환경의 맵을 의미한다. SLAM 알고리즘은 이러한 확률을 최대화하는 방향으로 로봇의 상태와 환경을 추정하며, 이를 통해 경로 계획의 기반을 제공한다.</p>
<h3 id="_5">포인트 클라우드 맵 생성과 경로 계획의 통합</h3>
<p>포인트 클라우드 기반의 경로 계획에서는 먼저 환경의 3D 모델을 생성하고, 이를 기반으로 최적의 경로를 탐색한다. 포인트 클라우드를 이용한 SLAM에서 얻어진 데이터는 로봇의 이동 경로뿐만 아니라, 장애물의 위치를 포함한 전체적인 환경 정보를 제공한다. 이러한 포인트 클라우드 데이터를 이용해 환경의 맵을 생성하고, 그 위에서 경로를 탐색하는 절차는 다음과 같은 단계를 따른다.</p>
<ol>
<li>
<p><strong>포인트 클라우드 수집</strong>: 센서를 통해 실시간으로 포인트 클라우드 데이터를 수집한다. 이 데이터는 로봇의 주변 환경을 3차원으로 나타낸다.</p>
</li>
<li>
<p><strong>맵 생성</strong>: 수집된 포인트 클라우드를 바탕으로 로봇의 좌표계에서 환경 맵을 생성한다. 이를 수학적으로 표현하면, 시간 <span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>에서의 포인트 클라우드 데이터를 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_t</span><script type="math/tex">\mathbf{P}_t</script></span>라고 할 때, 주어진 시간 동안 수집된 전체 데이터 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{P}_{0:t}</span><script type="math/tex">\mathbf{P}_{0:t}</script></span>를 종합하여 환경 맵 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{M}</span><script type="math/tex">\mathbf{M}</script></span>을 생성한다:</p>
</li>
</ol>
<div class="arithmatex">
<div class="MathJax_Preview">
   \mathbf{M} = \bigcup_{t=0}^{T} \mathbf{P}_t
</div>
<script type="math/tex; mode=display">
   \mathbf{M} = \bigcup_{t=0}^{T} \mathbf{P}_t
</script>
</div>
<ol>
<li>
<p><strong>비가시 영역 처리</strong>: 포인트 클라우드의 특성상 센서가 직접적으로 탐지할 수 없는 비가시 영역이 발생할 수 있다. 이러한 비가시 영역을 처리하기 위해서는, 로봇이 새로운 위치에서 추가적인 데이터를 수집함으로써 이를 보완하거나, 기존 데이터를 기반으로 예측 모델을 적용할 수 있다.</p>
</li>
<li>
<p><strong>맵 세분화</strong>: 맵을 세분화하여 로봇이 이동 가능한 영역과 장애물 영역을 명확히 구분한다. 이 과정에서 Voxel Grid나 Octree와 같은 데이터 구조가 사용된다. 예를 들어, Octree를 사용하는 경우, 3차원 공간을 계층적으로 분할하여 로봇이 충돌 없이 이동할 수 있는 경로를 찾기 쉽게 한다.</p>
</li>
</ol>
<h3 id="octree">Octree 기반의 경로 탐색</h3>
<p>Octree는 3차원 공간을 효율적으로 표현하기 위한 데이터 구조로, 포인트 클라우드 데이터에서 장애물 영역을 빠르게 탐색할 수 있게 해준다. Octree는 공간을 재귀적으로 8개의 하위 공간으로 분할하는 방식으로, 이를 통해 로봇의 이동 가능한 공간과 장애물 영역을 효과적으로 구분할 수 있다.</p>
<p>로봇의 경로를 탐색할 때, Octree는 각 노드가 장애물에 해당하는지, 이동 가능한 공간에 해당하는지를 빠르게 확인할 수 있다. 이 방식은 고밀도의 포인트 클라우드를 처리하는 데 적합하며, 로봇이 실시간으로 경로를 탐색할 때도 효율적인 계산을 가능하게 한다.</p>
<p>Octree의 각 노드는 특정 해상도의 공간을 나타내며, 노드의 상태는 다음과 같이 정의된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{O}(x, y, z) = 
\begin{cases}
1, &amp; \text{if Voxel } (x, y, z) \text{ contains points (obstacle)} \\
0, &amp; \text{otherwise}
\end{cases}
</div>
<script type="math/tex; mode=display">
\mathbf{O}(x, y, z) = 
\begin{cases}
1, & \text{if Voxel } (x, y, z) \text{ contains points (obstacle)} \\
0, & \text{otherwise}
\end{cases}
</script>
</div>
<p>Octree를 이용한 경로 탐색은 주로 A* 알고리즘이나 Dijkstra 알고리즘과 결합하여 수행되며, 이때 Octree의 노드들이 그래프의 노드 역할을 한다. 각 노드 사이의 경로는 로봇이 이동 가능한 경로로 설정되며, 이를 기반으로 로봇은 장애물을 피하면서 목표 지점으로 이동할 수 있다.</p>
<h3 id="cost-map">비용 지도(Cost Map) 기반 경로 계획</h3>
<p>포인트 클라우드를 기반으로 경로 계획을 할 때, 로봇이 단순히 이동 가능한 공간만 고려하는 것이 아니라, 각 경로의 비용을 고려하여 최적 경로를 찾는 방법이 중요하다. 비용 지도(Cost Map)는 환경 내의 각 위치에 이동 비용을 할당하여, 비용이 적은 경로를 선택하게끔 돕는다. 이때 이동 비용은 장애물과의 거리, 경사도, 지형의 복잡성 등 다양한 요소에 따라 달라질 수 있다.</p>
<p>비용 지도는 수학적으로 다음과 같이 정의할 수 있다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{C}(x, y, z) = f(\mathbf{p}_i, d(\mathbf{p}_i, \mathbf{r}), \theta)
</div>
<script type="math/tex; mode=display">
\mathbf{C}(x, y, z) = f(\mathbf{p}_i, d(\mathbf{p}_i, \mathbf{r}), \theta)
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{C}(x, y, z)</span><script type="math/tex">\mathbf{C}(x, y, z)</script></span>는 위치 <span class="arithmatex"><span class="MathJax_Preview">(x, y, z)</span><script type="math/tex">(x, y, z)</script></span>에서의 이동 비용, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>는 포인트 클라우드의 점, <span class="arithmatex"><span class="MathJax_Preview">d(\mathbf{p}_i, \mathbf{r})</span><script type="math/tex">d(\mathbf{p}_i, \mathbf{r})</script></span>는 로봇과 포인트 간의 거리, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>는 지형의 기울기를 나타낸다. 비용 지도는 포인트 클라우드 데이터를 기반으로 각 위치의 위험성을 평가하고, 비용이 낮은 경로를 탐색하는 데 사용된다.</p>
<h3 id="ai">AI 및 머신러닝을 활용한 경로 계획</h3>
<p>최근에는 포인트 클라우드 기반의 경로 계획에 AI와 머신러닝 기법이 결합되면서, 더욱 효율적이고 지능적인 경로 탐색 방법이 개발되고 있다. 포인트 클라우드 데이터를 학습한 신경망 모델은 환경의 특성을 빠르게 파악하고, 이를 기반으로 최적 경로를 예측하는 데 활용된다. 이러한 기법들은 특히 복잡하고 동적인 환경에서 유리하다.</p>
<p>머신러닝을 이용한 경로 계획에서는 주로 강화학습(Reinforcement Learning)이 사용된다. 강화학습은 로봇이 환경에서 행동을 취하면서 보상을 받고, 그 보상을 최대화하는 방향으로 학습하는 방식이다. 포인트 클라우드 데이터는 이 과정에서 로봇이 환경을 인식하고, 최적의 경로를 찾는 데 중요한 입력 데이터로 작용한다.</p>
<h4 id="_6">강화학습 기반 경로 계획</h4>
<p>강화학습에서 로봇의 경로 계획 문제는 상태 공간(State Space), 행동(Action), 보상 함수(Reward Function)로 정의된다. 이때 상태 공간은 포인트 클라우드로 표현된 환경이며, 행동은 로봇이 이동할 수 있는 방향이나 속도를 의미한다. 보상 함수는 로봇이 목표 지점에 얼마나 효율적으로 도달하는지를 평가하는 기준이다.</p>
<p>포인트 클라우드 데이터를 이용한 강화학습에서는 로봇이 특정 지점에 도달했을 때 주어지는 보상 <span class="arithmatex"><span class="MathJax_Preview">r_t</span><script type="math/tex">r_t</script></span>가 로봇의 경로 선택에 중요한 영향을 미친다. 이를 수식으로 표현하면, 시간 <span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>에서의 상태 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{s}_t</span><script type="math/tex">\mathbf{s}_t</script></span>와 행동 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{a}_t</span><script type="math/tex">\mathbf{a}_t</script></span>가 주어졌을 때, 로봇이 얻게 되는 누적 보상 <span class="arithmatex"><span class="MathJax_Preview">R_t</span><script type="math/tex">R_t</script></span>는 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
R_t = \sum_{k=t}^{T} \gamma^{k-t} r_k
</div>
<script type="math/tex; mode=display">
R_t = \sum_{k=t}^{T} \gamma^{k-t} r_k
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\gamma</span><script type="math/tex">\gamma</script></span>는 할인율(discount factor)이며, 로봇이 장기적인 보상을 얼마나 중요시하는지를 나타낸다. 포인트 클라우드 데이터를 학습한 강화학습 모델은 누적 보상 <span class="arithmatex"><span class="MathJax_Preview">R_t</span><script type="math/tex">R_t</script></span>를 최대화하는 방향으로 로봇의 경로를 계획한다.</p>
<p>강화학습은 특히 복잡한 동적 환경에서 유용하며, 로봇이 실시간으로 변화하는 장애물을 회피하면서 목표 지점으로 이동하는 데 적합하다. 포인트 클라우드 데이터는 환경의 동적 변화를 실시간으로 반영할 수 있기 때문에, 로봇이 주어진 상태에서 가장 적합한 행동을 선택할 수 있도록 도와준다.</p>
<h4 id="drl">심층 강화학습(DRL)을 통한 경로 탐색</h4>
<p>심층 강화학습(Deep Reinforcement Learning, DRL)은 강화학습에 딥러닝을 결합한 방식으로, 로봇이 포인트 클라우드와 같은 고차원 데이터를 효율적으로 처리하여 경로를 탐색할 수 있게 한다. DRL에서는 신경망이 상태 공간에서 중요한 특징을 학습하고, 그 특징을 바탕으로 로봇의 행동을 결정한다.</p>
<p>포인트 클라우드를 입력으로 받는 신경망은 다음과 같이 설계된다:</p>
<ol>
<li><strong>입력 레이어</strong>: 포인트 클라우드 데이터를 좌표 형태로 받아들인다. 이때 각 포인트는 3차원 좌표 <span class="arithmatex"><span class="MathJax_Preview">(x, y, z)</span><script type="math/tex">(x, y, z)</script></span>로 표현된다.</li>
<li><strong>중간 레이어</strong>: 신경망은 여러 개의 은닉층(hidden layers)을 통해 포인트 클라우드에서 중요한 특징을 추출한다. 특히, Convolutional Neural Networks (CNNs)이나 Graph Neural Networks (GNNs)가 포인트 클라우드 데이터 처리에 사용된다.</li>
<li><strong>출력 레이어</strong>: 로봇의 가능한 행동들에 대한 값을 출력하며, 이 값들은 강화학습에서의 행동 선택에 사용된다.</li>
</ol>
<p>DRL을 통한 경로 탐색의 목표는 주어진 환경에서 가장 높은 보상을 제공하는 행동을 선택하는 것이다. 포인트 클라우드 데이터를 기반으로 환경의 복잡성과 위험 요소를 신경망이 학습하면서, 로봇은 실시간으로 최적의 경로를 선택할 수 있다.</p>
<h3 id="_7">포인트 클라우드를 이용한 경로 계획의 응용 사례</h3>
<p>포인트 클라우드를 이용한 경로 계획은 다양한 로봇 응용 분야에서 사용된다. 그 중에서도 특히 자율주행차, 무인 항공기(UAV), 산업용 로봇 등이 중요한 응용 사례로 꼽힌다.</p>
<h4 id="_8">자율주행차에서의 경로 계획</h4>
<p>자율주행차는 주행 중 주변 환경을 지속적으로 인식하고, 장애물과의 충돌을 피하면서 최적의 경로를 계획해야 한다. 포인트 클라우드는 자율주행차의 LIDAR(Light Detection and Ranging) 센서를 통해 수집되며, 차량이 주행하는 동안 실시간으로 경로를 수정하는 데 사용된다.</p>
<p>자율주행차에서 포인트 클라우드 기반 경로 계획의 주요 단계는 다음과 같다:</p>
<ol>
<li><strong>주변 환경 인식</strong>: LIDAR 센서를 통해 실시간 포인트 클라우드를 수집하고, 이를 기반으로 도로, 장애물, 기타 차량 등을 탐지한다.</li>
<li><strong>경로 탐색</strong>: 실시간 포인트 클라우드를 바탕으로, 차량이 충돌 없이 이동할 수 있는 경로를 탐색한다. 이 과정에서는 앞서 설명한 A<em> 알고리즘, RRT</em>, 또는 머신러닝 기반의 알고리즘이 사용될 수 있다.</li>
<li><strong>실시간 경로 수정</strong>: 도로 상황이나 장애물의 변화에 따라 경로를 실시간으로 조정하여 안전한 주행을 유지한다.</li>
</ol>
<h4 id="uav">무인 항공기(UAV)에서의 경로 계획</h4>
<p>UAV의 경우, 비행 경로를 계획할 때 고도와 방향을 동시에 고려해야 한다. 포인트 클라우드는 UAV의 경로 계획에 있어 3차원 장애물을 탐지하고 회피하는 데 중요한 역할을 한다. UAV는 주로 센서나 카메라를 통해 실시간 포인트 클라우드를 수집하며, 이를 바탕으로 비행 중 장애물과의 충돌을 회피하면서 경로를 탐색한다.</p>
<h4 id="_9">산업용 로봇에서의 경로 계획</h4>
<p>산업용 로봇은 작업 환경 내에서 정밀한 경로 계획이 필요하다. 예를 들어, 로봇 팔(Manipulator)은 작업 공간 내의 장애물을 인식하고, 작업 대상에 정확히 접근할 수 있도록 경로를 계획해야 한다. 포인트 클라우드는 이러한 작업 공간을 정밀하게 인식하는 데 사용되며, 이를 바탕으로 로봇이 안전하게 작업을 수행할 수 있다.</p>
<p>산업 현장에서의 포인트 클라우드 경로 계획은 높은 정밀도와 실시간 처리 능력을 요구하며, 이를 위해 고성능 센서와 신속한 알고리즘이 결합되어 사용된다.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../2005/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../2005/" class="btn btn-xs btn-link">
        로봇 응용 사례 연구
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../2003/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../2003/" class="btn btn-xs btn-link">
        매니퓰레이터의 환경 인식
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>