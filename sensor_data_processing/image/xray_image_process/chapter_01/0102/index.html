<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/sensor_data_processing/image/xray_image_process/chapter_01/0102/">
    <link rel="shortcut icon" href="../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>엑스레이 영상의 생성 과정 - 실험 도서관</title>
    <link href="../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../css/highlight.css">
    <link href="../../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\uc5d1\uc2a4\ub808\uc774 \uc601\uc0c1\uc758 \uc0dd\uc131 \uacfc\uc815", url: "#_top", children: [
              {title: "1. \uc5d1\uc2a4\ub808\uc774 \ubc1c\uc0dd \uc6d0\ub9ac", url: "#1" },
              {title: "2. \uc5d1\uc2a4\ub808\uc774 \ube54\uacfc \ubb3c\uc9c8 \uc0c1\ud638\uc791\uc6a9", url: "#2" },
              {title: "3. \uc601\uc0c1 \ud615\uc131 \uba54\ucee4\ub2c8\uc998", url: "#3" },
              {title: "4. \uc5d1\uc2a4\ub808\uc774 \uac80\ucd9c\uae30", url: "#4" },
              {title: "5. \uc5d1\uc2a4\ub808\uc774 \uc601\uc0c1\uc758 \uc218\ud559\uc801 \ubaa8\ub378\ub9c1", url: "#5" },
              {title: "6. \uc5d1\uc2a4\ub808\uc774 \uc601\uc0c1\uc758 \ud488\uc9c8\uacfc \ucd5c\uc801\ud654", url: "#6" },
          ]},
        ];

    </script>
    <script src="../../../../../js/base.js"></script>
      <script src="../../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <h1 id="_1">엑스레이 영상의 생성 과정</h1>
<h3 id="1">1. 엑스레이 발생 원리</h3>
<p>엑스레이 영상은 엑스레이(X-ray)라고 불리는 고에너지 전자기파를 이용해 물체 내부의 구조를 시각화한 결과이다. 엑스레이는 특정 물질을 투과할 수 있는 능력을 가지며, 이 특성을 이용하여 물체 내부를 비침습적으로 분석할 수 있다. 엑스레이는 보통 진공 상태의 튜브 내에서 발생되며, 이 과정은 다음과 같이 이루어진다.</p>
<h4 id="a">a. 엑스레이 발생 장치 구성</h4>
<p>엑스레이 발생 장치는 크게 <strong>양극</strong>(anode)과 <strong>음극</strong>(cathode)으로 구성된다. 음극에서 전자를 방출하고, 양극에서 이 전자를 급격히 가속시켜 고에너지 상태로 만든 후 금속 표면에 충돌시켜 엑스레이를 발생시킨다. 이때 사용되는 금속은 주로 <strong>텅스텐(W)</strong>이며, 이는 높은 융점과 안정적인 전자 방출 특성을 가지고 있기 때문이다.</p>
<h4 id="b">b. 엑스레이 생성 과정</h4>
<p>엑스레이는 다음 두 가지 주요 메커니즘으로 생성된다.</p>
<ul>
<li>
<p><strong>브레믈랭(Bremsstrahlung)</strong> 방사: 고속으로 가속된 전자가 양극의 금속 표면에 충돌할 때, 급격히 속도가 감소하면서 에너지를 방출하게 된다. 이 에너지가 전자기파의 형태로 방출되며, 그 일부가 엑스레이 대역에 속하게 된다. 이 과정에서 발생하는 엑스레이는 연속적인 에너지 스펙트럼을 가진다.</p>
</li>
<li>
<p><strong>특성 엑스레이</strong>(Characteristic X-ray): 전자가 금속 원자의 궤도 전자와 충돌하여 궤도 전자가 제거되면, 더 높은 에너지 준위의 전자가 그 빈자리를 채우기 위해 에너지를 방출하면서 전이된다. 이때 방출되는 에너지가 엑스레이 형태로 나타난다. 이 엑스레이는 특정한 에너지 준위에 해당하는 선 스펙트럼을 가진다.</p>
</li>
</ul>
<h3 id="2">2. 엑스레이 빔과 물질 상호작용</h3>
<p>엑스레이가 생성된 후, 물질에 입사하여 다양한 상호작용을 일으키게 된다. 엑스레이는 물질을 통과하는 동안 물질의 원자와 상호작용하며 그 강도와 에너지가 변화하게 된다. 이 상호작용을 통해 물체 내부의 구조를 영상화할 수 있다.</p>
<h4 id="a-absorption">a. 흡수(Absorption)</h4>
<p>엑스레이가 물질을 통과할 때, 일부는 물질에 의해 흡수된다. 이때 흡수된 엑스레이의 양은 물질의 <strong>흡수 계수</strong>(Absorption coefficient, <span class="arithmatex"><span class="MathJax_Preview"> \mu </span><script type="math/tex"> \mu </script></span>)에 따라 결정되며, 이는 물질의 밀도와 원자 번호에 영향을 받는다. 엑스레이의 흡수는 다음과 같은 수식으로 표현할 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
I(x) = I_0 e^{-\mu x}
</div>
<script type="math/tex; mode=display">
I(x) = I_0 e^{-\mu x}
</script>
</div>
<p>여기서,
- <span class="arithmatex"><span class="MathJax_Preview"> I(x) </span><script type="math/tex"> I(x) </script></span>: 두께 <span class="arithmatex"><span class="MathJax_Preview"> x </span><script type="math/tex"> x </script></span>만큼 물질을 통과한 후 남은 엑스레이 강도
- <span class="arithmatex"><span class="MathJax_Preview"> I_0 </span><script type="math/tex"> I_0 </script></span>: 초기 엑스레이 강도
- <span class="arithmatex"><span class="MathJax_Preview"> \mu </span><script type="math/tex"> \mu </script></span>: 물질의 흡수 계수
- <span class="arithmatex"><span class="MathJax_Preview"> x </span><script type="math/tex"> x </script></span>: 물질의 두께</p>
<h4 id="b-scattering">b. 산란(Scattering)</h4>
<p>엑스레이는 물질 내부의 원자와 상호작용하면서 산란될 수 있다. 산란은 크게 두 가지로 나눌 수 있다.</p>
<ul>
<li><strong>코히런트 산란</strong>(Coherent scattering): 엑스레이의 에너지가 원자의 결합 에너지보다 낮을 때 발생하며, 엑스레이의 방향만 바뀌고 에너지에는 변화가 없다.</li>
<li><strong>비코히런트 산란</strong>(Incoherent scattering): 엑스레이의 에너지가 충분히 클 때 발생하며, 엑스레이의 일부 에너지가 물질에 전달되고 남은 에너지가 산란된다. 이때 산란된 엑스레이의 에너지는 감소한다.</li>
</ul>
<h3 id="3">3. 영상 형성 메커니즘</h3>
<p>엑스레이가 물체를 통과하면서 흡수와 산란이 일어나면, 각 부분에서 통과하는 엑스레이의 강도에 차이가 생기게 된다. 이러한 강도의 차이는 물체의 밀도와 구성 성분에 따라 달라지며, 이를 바탕으로 영상이 형성된다. 즉, 엑스레이 필름이나 디지털 검출기와 같은 센서를 사용하여 물체를 통과한 엑스레이의 강도 변화를 기록함으로써 물체 내부 구조를 재구성할 수 있다.</p>
<h4 id="a_1">a. 엑스레이 영상의 수학적 표현</h4>
<p>엑스레이 영상의 형성은 기초적으로 물체 내부의 물리적 특성 분포를 기반으로 한다. 이를 표현하기 위해, 물체 내부의 흡수 계수 분포를 <span class="arithmatex"><span class="MathJax_Preview"> \mu(\mathbf{r}) </span><script type="math/tex"> \mu(\mathbf{r}) </script></span>라 정의하고, 엑스레이 빔이 물체를 통과하면서 측정된 투과율은 선적분으로 표현할 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
I(\mathbf{r}) = I_0 e^{-\int_L \mu(\mathbf{r}) dL}
</div>
<script type="math/tex; mode=display">
I(\mathbf{r}) = I_0 e^{-\int_L \mu(\mathbf{r}) dL}
</script>
</div>
<p>여기서,
- <span class="arithmatex"><span class="MathJax_Preview"> \mathbf{r} </span><script type="math/tex"> \mathbf{r} </script></span>: 공간 좌표
- <span class="arithmatex"><span class="MathJax_Preview"> L </span><script type="math/tex"> L </script></span>: 엑스레이가 통과하는 경로
- <span class="arithmatex"><span class="MathJax_Preview"> \mu(\mathbf{r}) </span><script type="math/tex"> \mu(\mathbf{r}) </script></span>: 위치 <span class="arithmatex"><span class="MathJax_Preview"> \mathbf{r} </span><script type="math/tex"> \mathbf{r} </script></span>에서의 흡수 계수</p>
<p>이 수식을 기반으로 영상화된 엑스레이 이미지가 생성된다.</p>
<h3 id="4">4. 엑스레이 검출기</h3>
<p>엑스레이 영상의 생성 과정에서 중요한 역할을 하는 요소 중 하나는 <strong>엑스레이 검출기</strong>이다. 엑스레이 검출기는 물체를 통과한 엑스레이의 강도 변화를 감지하고, 이를 영상 데이터로 변환하는 역할을 한다. 엑스레이 검출기의 종류와 특성에 따라 영상의 해상도, 감도, 그리고 노이즈 특성이 달라지게 된다.</p>
<h4 id="a_2">a. 필름 기반 검출기</h4>
<p>엑스레이 검출기의 가장 기본적인 형태는 <strong>엑스레이 필름</strong>이다. 필름은 엑스레이에 의해 노출되면 화학 반응이 일어나 이미지를 형성한다. 필름에 기록된 엑스레이 이미지는 빛을 사용해 현상되고, 이를 통해 물체 내부의 구조를 시각적으로 확인할 수 있다.</p>
<p>필름 기반 검출기의 주요 특성은 다음과 같다.</p>
<ul>
<li><strong>공간 해상도</strong>: 필름의 해상도는 매우 높으며, 미세한 구조까지도 확인할 수 있다.</li>
<li><strong>노출 시간</strong>: 필름에 이미지를 형성하기 위해서는 충분한 양의 엑스레이 노출이 필요하다.</li>
<li><strong>정밀도</strong>: 필름은 엑스레이 강도의 미세한 차이를 비교적 정확하게 기록할 수 있다.</li>
</ul>
<h4 id="b_1">b. 디지털 검출기</h4>
<p>현대 엑스레이 영상에서는 필름보다 <strong>디지털 검출기</strong>가 더 널리 사용된다. 디지털 검출기는 엑스레이 강도를 전기 신호로 변환하여 컴퓨터에서 처리할 수 있는 디지털 데이터로 저장한다. 디지털 검출기의 장점은 빠른 처리 속도와 영상의 후처리가 가능하다는 점이다.</p>
<p>디지털 검출기는 주로 다음과 같은 두 가지 방식으로 구분된다.</p>
<ul>
<li>
<p><strong>CCD(Charge-Coupled Device) 방식</strong>: 엑스레이를 광자로 변환한 후 CCD 센서가 이를 감지하여 영상을 생성한다. CCD 검출기는 높은 감도와 해상도를 가지지만, 일반적으로 작은 영역을 촬영하는 데 적합하다.</p>
</li>
<li>
<p><strong>FPD(Flat-Panel Detector) 방식</strong>: 엑스레이가 직접적으로 전자 신호로 변환되어 디지털 이미지를 생성한다. FPD는 대형 영상 획득에 적합하며, 의료 진단용으로 널리 사용된다.</p>
</li>
</ul>
<h4 id="c">c. 검출기의 특성</h4>
<p>디지털 검출기의 성능을 결정짓는 주요 특성들은 다음과 같다.</p>
<ul>
<li>
<p><strong>DQE(Detective Quantum Efficiency)</strong>: 엑스레이 검출기의 효율성을 나타내며, 입사한 엑스레이의 양과 실제로 검출된 엑스레이의 비율을 나타낸다. 높은 DQE는 노이즈가 적고 더 정확한 영상을 제공한다.</p>
</li>
<li>
<p><strong>SNR(Signal-to-Noise Ratio)</strong>: 엑스레이 신호에 대한 노이즈 비율을 의미한다. SNR이 높을수록 더 선명하고 정확한 영상이 생성된다.</p>
</li>
</ul>
<h4 id="d">d. 엑스레이 영상의 디지털 처리</h4>
<p>엑스레이 검출기를 통해 얻어진 디지털 영상은 추가적인 처리 과정을 거쳐 최종적인 영상으로 변환된다. 이 과정에는 다음과 같은 단계들이 포함된다.</p>
<ul>
<li>
<p><strong>필터링</strong>: 엑스레이 영상의 노이즈를 줄이기 위해 다양한 필터링 기법이 사용된다. 필터링 과정은 특히 디지털 영상에서 중요한데, 이는 영상의 품질을 개선하고 더 정확한 정보를 제공하기 때문이다.</p>
</li>
<li>
<p><strong>이미지 재구성</strong>: 엑스레이 영상은 단일 평면 상의 데이터를 제공하지만, 여러 각도에서 획득한 영상 데이터를 조합하여 3차원으로 재구성하는 <strong>CT(Computed Tomography)</strong> 같은 기법도 사용된다. 이 과정은 복잡한 수학적 알고리즘을 필요로 하며, 특히 <strong>역행렬 변환</strong>과 같은 기법을 이용하여 내부 구조를 정확히 재구성한다.</p>
</li>
</ul>
<h3 id="5">5. 엑스레이 영상의 수학적 모델링</h3>
<p>엑스레이 영상의 수학적 모델링은 매우 중요하다. 엑스레이 빔이 물체를 통과하면서 일어나는 복잡한 물리적 과정을 이해하기 위해 수학적 모델을 사용한다. 일반적으로, 엑스레이 영상은 물체 내부의 흡수 계수를 기반으로 한 <strong>선적분</strong> 모델로 설명된다. </p>
<h4 id="a-radon">a. Radon 변환</h4>
<p>엑스레이 영상에서 각도에 따른 흡수량 변화를 통해 내부 구조를 재구성하는 과정은 <strong>Radon 변환</strong>으로 설명된다. Radon 변환은 2차원 공간에서 직선 경로를 따라 측정된 투과 데이터를 기반으로 원래 물체의 내부 흡수 계수 분포를 재구성하는 방법이다. Radon 변환은 다음과 같은 수식으로 정의된다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
R_\theta (t) = \int_{-\infty}^{\infty} \mu(x \cos \theta + y \sin \theta, -x \sin \theta + y \cos \theta) \, dt
</div>
<script type="math/tex; mode=display">
R_\theta (t) = \int_{-\infty}^{\infty} \mu(x \cos \theta + y \sin \theta, -x \sin \theta + y \cos \theta) \, dt
</script>
</div>
<p>여기서,
- <span class="arithmatex"><span class="MathJax_Preview"> R_\theta (t) </span><script type="math/tex"> R_\theta (t) </script></span>: 각도 <span class="arithmatex"><span class="MathJax_Preview"> \theta </span><script type="math/tex"> \theta </script></span>에서의 Radon 변환 값
- <span class="arithmatex"><span class="MathJax_Preview"> \mu(x, y) </span><script type="math/tex"> \mu(x, y) </script></span>: 물체의 흡수 계수 분포
- <span class="arithmatex"><span class="MathJax_Preview"> t </span><script type="math/tex"> t </script></span>: 투과된 경로의 좌표</p>
<p>Radon 변환의 역변환을 통해 물체의 내부 흡수 계수 분포를 재구성할 수 있으며, 이는 CT 영상 생성의 핵심 원리이다.</p>
<h4 id="b-radon">b. 역 Radon 변환</h4>
<p>엑스레이 영상에서 내부 구조를 재구성하기 위해서는 Radon 변환의 역변환이 필요하다. 역 Radon 변환은 여러 각도에서 투과된 데이터를 사용하여 물체 내부의 흡수 계수 분포 <span class="arithmatex"><span class="MathJax_Preview"> \mu(x, y) </span><script type="math/tex"> \mu(x, y) </script></span>를 계산하는 방법이다. 이 과정은 일반적으로 다음과 같은 수식으로 표현된다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mu(x, y) = \int_0^\pi R_\theta(t) \cdot |\mathbf{k}| \, d\theta
</div>
<script type="math/tex; mode=display">
\mu(x, y) = \int_0^\pi R_\theta(t) \cdot |\mathbf{k}| \, d\theta
</script>
</div>
<p>여기서,
- <span class="arithmatex"><span class="MathJax_Preview"> R_\theta(t) </span><script type="math/tex"> R_\theta(t) </script></span>: 각도 <span class="arithmatex"><span class="MathJax_Preview"> \theta </span><script type="math/tex"> \theta </script></span>에서의 Radon 변환 값
- <span class="arithmatex"><span class="MathJax_Preview"> |\mathbf{k}| </span><script type="math/tex"> |\mathbf{k}| </script></span>: 주파수 공간에서 필터링된 결과</p>
<p>이 수식은 물리적으로 엑스레이 빔의 투과 경로에서 얻은 데이터를 이용하여, 물체 내부의 흡수 계수 분포를 추정하는 과정을 설명한다. 이때 사용하는 필터는 <strong>필터링 역투영 기법</strong>(Filtered Back Projection, FBP)을 기반으로 하며, FBP는 CT 재구성에서 가장 널리 사용되는 방법 중 하나이다.</p>
<h4 id="c_1">c. 필터링 역투영 기법</h4>
<p>필터링 역투영은 여러 각도에서 촬영된 엑스레이 데이터를 조합하여 2차원 혹은 3차원의 구조를 재구성하는 알고리즘이다. 이 기법은 먼저 각 투영 데이터를 필터링하고, 이를 역투영하여 물체 내부 구조를 재구성한다. 필터링 과정에서는 주로 고주파 성분을 강조하여 해상도를 높이는 역할을 하며, 이때 사용되는 필터는 다음과 같다.</p>
<ul>
<li><strong>람다 필터</strong>(Ramp Filter): 가장 기본적인 필터로서, 고주파 성분을 강조하여 엑스레이 영상의 경계를 선명하게 만드는 데 사용된다.</li>
<li><strong>하니잉 필터</strong>(Hann Filter): 고주파 성분을 적절히 제한하여 노이즈를 줄이는 데 효과적인 필터이다.</li>
</ul>
<p>필터링 후, 각 투영 데이터를 적절한 각도에 맞추어 역투영함으로써 원래의 흡수 계수 분포를 재구성할 수 있다. 이는 엑스레이 영상 재구성 과정에서 매우 중요한 단계이다.</p>
<h3 id="6">6. 엑스레이 영상의 품질과 최적화</h3>
<p>엑스레이 영상의 품질은 진단의 정확성과 직접적으로 연관되며, 이를 최적화하기 위한 다양한 기법들이 개발되어 있다. 영상의 품질은 주로 다음과 같은 요소에 의해 좌우된다.</p>
<h4 id="a_3">a. 해상도</h4>
<p>엑스레이 영상의 해상도는 물체의 미세 구조를 얼마나 정확하게 표현할 수 있는지를 나타낸다. 해상도는 주로 다음 두 가지 요소에 의해 결정된다.</p>
<ul>
<li><strong>공간 해상도</strong>: 공간 해상도는 검출기가 얼마나 작은 구조를 분리하여 인식할 수 있는지를 나타내며, 픽셀 크기 및 검출기 성능에 따라 달라진다.</li>
<li><strong>대비 해상도</strong>: 대비 해상도는 물체의 흡수 계수 차이를 얼마나 정확하게 구분할 수 있는지를 나타낸다. 이는 엑스레이의 에너지, 물질의 밀도, 그리고 노출 시간 등에 영향을 받는다.</li>
</ul>
<h4 id="b_2">b. 노이즈</h4>
<p>엑스레이 영상에서 발생하는 <strong>노이즈</strong>는 영상의 품질을 저하시키는 주요 원인 중 하나이다. 노이즈는 주로 엑스레이 강도의 불균일한 분포나 검출기의 감도 차이로 인해 발생한다. 노이즈를 줄이기 위해 다음과 같은 기법들이 사용된다.</p>
<ul>
<li><strong>신호 대 잡음비(SNR) 향상</strong>: 엑스레이 노출 시간을 늘리거나 더 민감한 검출기를 사용하여 SNR을 향상시킬 수 있다.</li>
<li><strong>노이즈 필터링</strong>: 영상 후처리 단계에서 <strong>가우시안 필터</strong>나 <strong>미디언 필터</strong> 같은 노이즈 감소 필터를 적용하여 노이즈를 줄일 수 있다.</li>
</ul>
<h4 id="c_2">c. 방사선량 최적화</h4>
<p>엑스레이 영상에서는 방사선량이 중요한 요소로 작용한다. 진단을 위해 충분한 양의 엑스레이가 필요하지만, 과도한 방사선 노출은 인체에 해로울 수 있다. 따라서, 최소한의 방사선량으로 최대한의 진단 정보를 얻는 것이 중요하다. 이를 위해 <strong>ALARA 원칙</strong>(As Low As Reasonably Achievable)이 적용된다.</p>
<p>방사선량 최적화를 위한 기법은 다음과 같다.</p>
<ul>
<li><strong>자동 노출 제어</strong>(AEC): 피사체의 크기와 밀도를 자동으로 감지하여 필요한 최소한의 엑스레이 노출을 제공하는 기법이다.</li>
<li><strong>노출 시간 조절</strong>: 필요한 경우에만 엑스레이 노출 시간을 늘리고, 불필요한 경우에는 최소화하여 방사선량을 조절한다.</li>
</ul>

  <br>
    

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>