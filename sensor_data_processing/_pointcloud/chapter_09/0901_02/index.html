<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://booiljung.github.io/sensor_data_processing/_pointcloud/chapter_09/0901_02/">
    <link rel="shortcut icon" href="../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>기준점의 필요성 - 실험 도서관</title>
    <link href="../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../css/highlight.css">
    <link href="../../../../css/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\uc88c\ud45c\uacc4 \ud1b5\ud569", url: "#_top", children: [
          ]},
          {title: "\uc815\ub82c \ubc0f \ube44\uad50", url: "#_2", children: [
          ]},
          {title: "\ud68c\uc804 \ubc0f \uc774\ub3d9\uc758 \uc81c\uc5b4", url: "#_3", children: [
          ]},
          {title: "\ud3ec\uc778\ud2b8\ud074\ub77c\uc6b0\ub4dc \uc815\ub82c(Alignment)\uc5d0\uc11c \uae30\uc900\uc810\uc758 \uc5ed\ud560", url: "#alignment", children: [
          ]},
        ];

    </script>
    <script src="../../../../js/base.js"></script>
      <script src="../../../../js/google_analytics.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=G-3F4LHCTF88"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <p>기준점의 필요성은 주로 두 가지 주요 이유에서 발생한다: <strong>좌표계 통합</strong>과 <strong>정렬 및 비교</strong>.</p>
<h4 id="_1">좌표계 통합</h4>
<p>다수의 센서나 포인트클라우드 데이터 소스가 존재할 경우, 각 데이터는 서로 다른 좌표계를 기준으로 표현될 수 있다. 예를 들어, 한 포인트클라우드는 로봇의 좌표계를 기준으로 기록되었을 수 있고, 다른 포인트클라우드는 전역 좌표계(예: GPS 좌표계)를 기준으로 기록될 수 있다. 이러한 좌표계를 일관성 있게 맞추기 위해서는 모든 포인트클라우드 데이터가 동일한 기준점에서 정의된 좌표계로 변환되어야 한다.</p>
<p>이를 위해 기준점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r = (x_r, y_r, z_r)</span><script type="math/tex">\mathbf{p}_r = (x_r, y_r, z_r)</script></span>을 설정하고, 포인트클라우드의 각 점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i = (x_i, y_i, z_i)</span><script type="math/tex">\mathbf{p}_i = (x_i, y_i, z_i)</script></span>에 대해 변환을 수행한다. 포인트클라우드의 점을 새로운 좌표계로 변환하는 과정은 다음과 같이 나타낼 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{p}_i' = \mathbf{T}(\mathbf{p}_i - \mathbf{p}_r)
</div>
<script type="math/tex; mode=display">
\mathbf{p}_i' = \mathbf{T}(\mathbf{p}_i - \mathbf{p}_r)
</script>
</div>
<p>여기서 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{T}</span><script type="math/tex">\mathbf{T}</script></span>는 회전 행렬 또는 기타 변환 행렬을 나타내며, <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r</span><script type="math/tex">\mathbf{p}_r</script></span>은 기준점이다. 이 변환을 통해 모든 데이터가 동일한 기준점을 기준으로 정렬된다.</p>
<h4 id="_2">정렬 및 비교</h4>
<p>다양한 포인트클라우드 데이터 집합을 비교하거나 정렬할 때도 기준점 설정이 필수적이다. 예를 들어, 물체의 3D 스캔 데이터를 다루는 경우, 물체가 서로 다른 위치에서 스캔되었더라도 동일한 기준점을 사용하여 데이터를 정렬하면 스캔된 물체의 일관된 비교가 가능해진다.</p>
<p>두 개의 포인트클라우드 데이터셋 <span class="arithmatex"><span class="MathJax_Preview">P_1</span><script type="math/tex">P_1</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">P_2</span><script type="math/tex">P_2</script></span>가 있다고 가정하고, 각각의 포인트들이 서로 다른 기준점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r^1</span><script type="math/tex">\mathbf{p}_r^1</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r^2</span><script type="math/tex">\mathbf{p}_r^2</script></span>를 기반으로 정의되어 있다. 이 경우, 두 포인트클라우드를 비교하려면 먼저 동일한 기준점에서 정의된 좌표로 변환해야 한다. </p>
<p>다음 변환을 통해 두 데이터셋을 동일한 기준으로 맞출 수 있다.</p>
<div class="arithmatex">
<div class="MathJax_Preview">
P_1' = \mathbf{T}_1(P_1 - \mathbf{p}_r^1)
</div>
<script type="math/tex; mode=display">
P_1' = \mathbf{T}_1(P_1 - \mathbf{p}_r^1)
</script>
</div>
<div class="arithmatex">
<div class="MathJax_Preview">
P_2' = \mathbf{T}_2(P_2 - \mathbf{p}_r^2)
</div>
<script type="math/tex; mode=display">
P_2' = \mathbf{T}_2(P_2 - \mathbf{p}_r^2)
</script>
</div>
<p>변환된 포인트클라우드 <span class="arithmatex"><span class="MathJax_Preview">P_1'</span><script type="math/tex">P_1'</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">P_2'</span><script type="math/tex">P_2'</script></span>는 이제 동일한 기준점에서 정의된 데이터셋이므로, 두 데이터를 직접 비교하거나 정렬할 수 있게 된다.</p>
<h3 id="_3">회전 및 이동의 제어</h3>
<p>기준점 설정은 포인트클라우드의 회전 및 이동 제어에도 필요하다. 예를 들어, 포인트클라우드를 특정 축을 중심으로 회전시키거나, 특정한 거리만큼 이동시키는 경우 기준점이 중요한 역할을 한다. 회전과 이동은 각각 회전 행렬 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>과 이동 벡터 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{t}</span><script type="math/tex">\mathbf{t}</script></span>로 표현할 수 있으며, 이들은 기준점을 기준으로 수행된다.</p>
<p>포인트클라우드 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i</span><script type="math/tex">\mathbf{p}_i</script></span>의 회전 및 이동을 기준점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r</span><script type="math/tex">\mathbf{p}_r</script></span>을 중심으로 표현하면 다음과 같다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\mathbf{p}_i' = \mathbf{R}(\mathbf{p}_i - \mathbf{p}_r) + \mathbf{p}_r + \mathbf{t}
</div>
<script type="math/tex; mode=display">
\mathbf{p}_i' = \mathbf{R}(\mathbf{p}_i - \mathbf{p}_r) + \mathbf{p}_r + \mathbf{t}
</script>
</div>
<p>여기서, 
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>은 회전 행렬로, 포인트클라우드의 기준점에 대한 회전을 수행한다.
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{t}</span><script type="math/tex">\mathbf{t}</script></span>는 이동 벡터로, 회전된 포인트클라우드를 기준점에 대해 원하는 방향으로 이동시킨다.</p>
<p>기준점을 중심으로 회전이 이루어지면, 포인트클라우드의 전체적인 구조는 그대로 유지되면서, 기준점 기준으로 회전 및 이동이 적용된다. 이는 물체의 자세(orientation)를 맞추거나, 특정 방향으로 정렬할 때 유용하다.</p>
<h3 id="alignment">포인트클라우드 정렬(Alignment)에서 기준점의 역할</h3>
<p>포인트클라우드 정렬은 두 개 이상의 포인트클라우드 데이터셋이 있을 때, 이를 동일한 좌표계에서 일치시키는 과정을 의미한다. 이때 기준점은 두 포인트클라우드가 정확히 겹쳐지도록 하기 위해 설정된다.</p>
<p>두 포인트클라우드 <span class="arithmatex"><span class="MathJax_Preview">P_1</span><script type="math/tex">P_1</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">P_2</span><script type="math/tex">P_2</script></span>를 기준점 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r^1</span><script type="math/tex">\mathbf{p}_r^1</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_r^2</span><script type="math/tex">\mathbf{p}_r^2</script></span>로 설정하여 정렬하려면, 먼저 기준점을 기준으로 포인트클라우드를 이동시킨 후, 최적의 회전 행렬 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>과 이동 벡터 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{t}</span><script type="math/tex">\mathbf{t}</script></span>를 찾는 것이 필요하다. 최적화 문제는 일반적으로 최소 제곱 오차(Least Squares Error)를 최소화하는 방향으로 해결된다:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\min_{\mathbf{R}, \mathbf{t}} \sum_i \| \mathbf{R}(\mathbf{p}_i^1 - \mathbf{p}_r^1) + \mathbf{t} - (\mathbf{p}_i^2 - \mathbf{p}_r^2) \|^2
</div>
<script type="math/tex; mode=display">
\min_{\mathbf{R}, \mathbf{t}} \sum_i \| \mathbf{R}(\mathbf{p}_i^1 - \mathbf{p}_r^1) + \mathbf{t} - (\mathbf{p}_i^2 - \mathbf{p}_r^2) \|^2
</script>
</div>
<p>여기서, 
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i^1</span><script type="math/tex">\mathbf{p}_i^1</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{p}_i^2</span><script type="math/tex">\mathbf{p}_i^2</script></span>는 각각 첫 번째와 두 번째 포인트클라우드의 점이다.
- <span class="arithmatex"><span class="MathJax_Preview">\mathbf{R}</span><script type="math/tex">\mathbf{R}</script></span>과 <span class="arithmatex"><span class="MathJax_Preview">\mathbf{t}</span><script type="math/tex">\mathbf{t}</script></span>는 두 포인트클라우드를 정렬하는 회전 및 이동 변환이다.</p>
<p>이와 같은 기준점 기반의 정렬을 통해 여러 포인트클라우드 데이터가 일관된 좌표계에서 정렬될 수 있다.</p>

  <br>
    

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>